var uj=Object.defineProperty;var fj=(e,t,n)=>t in e?uj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var tt=(e,t,n)=>fj(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ED(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kS={exports:{}},px={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN;function hj(){if(tN)return px;tN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:c,ref:i!==void 0?i:null,props:s}}return px.Fragment=t,px.jsx=n,px.jsxs=n,px}var nN;function dj(){return nN||(nN=1,kS.exports=hj()),kS.exports}var y=dj(),NS={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN;function pj(){if(rN)return yt;rN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function _(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function k(j,F,V){this.props=j,this.context=F,this.refs=T,this.updater=V||S}k.prototype.isReactComponent={},k.prototype.setState=function(j,F){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,F,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=k.prototype;function A(j,F,V){this.props=j,this.context=F,this.refs=T,this.updater=V||S}var O=A.prototype=new R;O.constructor=A,E(O,k.prototype),O.isPureReactComponent=!0;var I=Array.isArray;function M(){}var C={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function B(j,F,V){var H=V.ref;return{$$typeof:e,type:j,key:F,ref:H!==void 0?H:null,props:V}}function re(j,F){return B(j.type,F,j.props)}function te(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function Z(j){var F={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(V){return F[V]})}var xe=/\/+/g;function De(j,F){return typeof j=="object"&&j!==null&&j.key!=null?Z(""+j.key):F.toString(36)}function ve(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(M,M):(j.status="pending",j.then(function(F){j.status==="pending"&&(j.status="fulfilled",j.value=F)},function(F){j.status==="pending"&&(j.status="rejected",j.reason=F)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ee(j,F,V,H,W){var se=typeof j;(se==="undefined"||se==="boolean")&&(j=null);var we=!1;if(j===null)we=!0;else switch(se){case"bigint":case"string":case"number":we=!0;break;case"object":switch(j.$$typeof){case e:case t:we=!0;break;case g:return we=j._init,ee(we(j._payload),F,V,H,W)}}if(we)return W=W(j),we=H===""?"."+De(j,0):H,I(W)?(V="",we!=null&&(V=we.replace(xe,"$&/")+"/"),ee(W,F,V,"",function(Re){return Re})):W!=null&&(te(W)&&(W=re(W,V+(W.key==null||j&&j.key===W.key?"":(""+W.key).replace(xe,"$&/")+"/")+we)),F.push(W)),1;we=0;var Ne=H===""?".":H+":";if(I(j))for(var Te=0;Te<j.length;Te++)H=j[Te],se=Ne+De(H,Te),we+=ee(H,F,V,se,W);else if(Te=_(j),typeof Te=="function")for(j=Te.call(j),Te=0;!(H=j.next()).done;)H=H.value,se=Ne+De(H,Te++),we+=ee(H,F,V,se,W);else if(se==="object"){if(typeof j.then=="function")return ee(ve(j),F,V,H,W);throw F=String(j),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return we}function J(j,F,V){if(j==null)return j;var H=[],W=0;return ee(j,H,"","",function(se){return F.call(V,se,W++)}),H}function Ee(j){if(j._status===-1){var F=j._result;F=F(),F.then(function(V){(j._status===0||j._status===-1)&&(j._status=1,j._result=V)},function(V){(j._status===0||j._status===-1)&&(j._status=2,j._result=V)}),j._status===-1&&(j._status=0,j._result=F)}if(j._status===1)return j._result.default;throw j._result}var ne=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ie={map:J,forEach:function(j,F,V){J(j,function(){F.apply(this,arguments)},V)},count:function(j){var F=0;return J(j,function(){F++}),F},toArray:function(j){return J(j,function(F){return F})||[]},only:function(j){if(!te(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return yt.Activity=x,yt.Children=Ie,yt.Component=k,yt.Fragment=n,yt.Profiler=i,yt.PureComponent=A,yt.StrictMode=r,yt.Suspense=h,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,yt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return C.H.useMemoCache(j)}},yt.cache=function(j){return function(){return j.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(j,F,V){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var H=E({},j.props),W=j.key;if(F!=null)for(se in F.key!==void 0&&(W=""+F.key),F)!z.call(F,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&F.ref===void 0||(H[se]=F[se]);var se=arguments.length-2;if(se===1)H.children=V;else if(1<se){for(var we=Array(se),Ne=0;Ne<se;Ne++)we[Ne]=arguments[Ne+2];H.children=we}return B(j.type,W,H)},yt.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},yt.createElement=function(j,F,V){var H,W={},se=null;if(F!=null)for(H in F.key!==void 0&&(se=""+F.key),F)z.call(F,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(W[H]=F[H]);var we=arguments.length-2;if(we===1)W.children=V;else if(1<we){for(var Ne=Array(we),Te=0;Te<we;Te++)Ne[Te]=arguments[Te+2];W.children=Ne}if(j&&j.defaultProps)for(H in we=j.defaultProps,we)W[H]===void 0&&(W[H]=we[H]);return B(j,se,W)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(j){return{$$typeof:u,render:j}},yt.isValidElement=te,yt.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:Ee}},yt.memo=function(j,F){return{$$typeof:p,type:j,compare:F===void 0?null:F}},yt.startTransition=function(j){var F=C.T,V={};C.T=V;try{var H=j(),W=C.S;W!==null&&W(V,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(M,ne)}catch(se){ne(se)}finally{F!==null&&V.types!==null&&(F.types=V.types),C.T=F}},yt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},yt.use=function(j){return C.H.use(j)},yt.useActionState=function(j,F,V){return C.H.useActionState(j,F,V)},yt.useCallback=function(j,F){return C.H.useCallback(j,F)},yt.useContext=function(j){return C.H.useContext(j)},yt.useDebugValue=function(){},yt.useDeferredValue=function(j,F){return C.H.useDeferredValue(j,F)},yt.useEffect=function(j,F){return C.H.useEffect(j,F)},yt.useEffectEvent=function(j){return C.H.useEffectEvent(j)},yt.useId=function(){return C.H.useId()},yt.useImperativeHandle=function(j,F,V){return C.H.useImperativeHandle(j,F,V)},yt.useInsertionEffect=function(j,F){return C.H.useInsertionEffect(j,F)},yt.useLayoutEffect=function(j,F){return C.H.useLayoutEffect(j,F)},yt.useMemo=function(j,F){return C.H.useMemo(j,F)},yt.useOptimistic=function(j,F){return C.H.useOptimistic(j,F)},yt.useReducer=function(j,F,V){return C.H.useReducer(j,F,V)},yt.useRef=function(j){return C.H.useRef(j)},yt.useState=function(j){return C.H.useState(j)},yt.useSyncExternalStore=function(j,F,V){return C.H.useSyncExternalStore(j,F,V)},yt.useTransition=function(){return C.H.useTransition()},yt.version="19.2.0",yt}var iN;function A2(){return iN||(iN=1,NS.exports=pj()),NS.exports}var G=A2();const k2=ED(G);var CS={exports:{}},mx={},RS={exports:{}},DS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function mj(){return aN||(aN=1,(function(e){function t(ee,J){var Ee=ee.length;ee.push(J);e:for(;0<Ee;){var ne=Ee-1>>>1,Ie=ee[ne];if(0<i(Ie,J))ee[ne]=J,ee[Ee]=Ie,Ee=ne;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var J=ee[0],Ee=ee.pop();if(Ee!==J){ee[0]=Ee;e:for(var ne=0,Ie=ee.length,j=Ie>>>1;ne<j;){var F=2*(ne+1)-1,V=ee[F],H=F+1,W=ee[H];if(0>i(V,Ee))H<Ie&&0>i(W,V)?(ee[ne]=W,ee[H]=Ee,ne=H):(ee[ne]=V,ee[F]=Ee,ne=F);else if(H<Ie&&0>i(W,Ee))ee[ne]=W,ee[H]=Ee,ne=H;else break e}}return J}function i(ee,J){var Ee=ee.sortIndex-J.sortIndex;return Ee!==0?Ee:ee.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var h=[],p=[],g=1,x=null,b=3,_=!1,S=!1,E=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(ee){for(var J=n(p);J!==null;){if(J.callback===null)r(p);else if(J.startTime<=ee)r(p),J.sortIndex=J.expirationTime,t(h,J);else break;J=n(p)}}function I(ee){if(E=!1,O(ee),!S)if(n(h)!==null)S=!0,M||(M=!0,Z());else{var J=n(p);J!==null&&ve(I,J.startTime-ee)}}var M=!1,C=-1,z=5,B=-1;function re(){return T?!0:!(e.unstable_now()-B<z)}function te(){if(T=!1,M){var ee=e.unstable_now();B=ee;var J=!0;try{e:{S=!1,E&&(E=!1,R(C),C=-1),_=!0;var Ee=b;try{t:{for(O(ee),x=n(h);x!==null&&!(x.expirationTime>ee&&re());){var ne=x.callback;if(typeof ne=="function"){x.callback=null,b=x.priorityLevel;var Ie=ne(x.expirationTime<=ee);if(ee=e.unstable_now(),typeof Ie=="function"){x.callback=Ie,O(ee),J=!0;break t}x===n(h)&&r(h),O(ee)}else r(h);x=n(h)}if(x!==null)J=!0;else{var j=n(p);j!==null&&ve(I,j.startTime-ee),J=!1}}break e}finally{x=null,b=Ee,_=!1}J=void 0}}finally{J?Z():M=!1}}}var Z;if(typeof A=="function")Z=function(){A(te)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,De=xe.port2;xe.port1.onmessage=te,Z=function(){De.postMessage(null)}}else Z=function(){k(te,0)};function ve(ee,J){C=k(function(){ee(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(ee){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var Ee=b;b=J;try{return ee()}finally{b=Ee}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(ee,J){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Ee=b;b=ee;try{return J()}finally{b=Ee}},e.unstable_scheduleCallback=function(ee,J,Ee){var ne=e.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?ne+Ee:ne):Ee=ne,ee){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=Ee+Ie,ee={id:g++,callback:J,priorityLevel:ee,startTime:Ee,expirationTime:Ie,sortIndex:-1},Ee>ne?(ee.sortIndex=Ee,t(p,ee),n(h)===null&&ee===n(p)&&(E?(R(C),C=-1):E=!0,ve(I,Ee-ne))):(ee.sortIndex=Ie,t(h,ee),S||_||(S=!0,M||(M=!0,Z()))),ee},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(ee){var J=b;return function(){var Ee=b;b=J;try{return ee.apply(this,arguments)}finally{b=Ee}}}})(DS)),DS}var sN;function gj(){return sN||(sN=1,RS.exports=mj()),RS.exports}var IS={exports:{}},Ri={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN;function vj(){if(oN)return Ri;oN=1;var e=A2();function t(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(h,p,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:h,containerInfo:p,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ri.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ri.createPortal=function(h,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return s(h,p,null,g)},Ri.flushSync=function(h){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=p,r.p=g,r.d.f()}},Ri.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},Ri.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Ri.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var g=p.as,x=u(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:_}):g==="script"&&r.d.X(h,{crossOrigin:x,integrity:b,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ri.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=u(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},Ri.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,x=u(g,p.crossOrigin);r.d.L(h,g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ri.preloadModule=function(h,p){if(typeof h=="string")if(p){var g=u(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},Ri.requestFormReset=function(h){r.d.r(h)},Ri.unstable_batchedUpdates=function(h,p){return h(p)},Ri.useFormState=function(h,p,g){return c.H.useFormState(h,p,g)},Ri.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ri.version="19.2.0",Ri}var lN;function xj(){if(lN)return IS.exports;lN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),IS.exports=vj(),IS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cN;function yj(){if(cN)return mx;cN=1;var e=gj(),t=A2(),n=xj();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,f=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(f=o.return),a=o.return;while(a)}return o.tag===3?f:null}function c(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function h(a){if(s(a)!==a)throw Error(r(188))}function p(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var f=a,m=o;;){var v=f.return;if(v===null)break;var w=v.alternate;if(w===null){if(m=v.return,m!==null){f=m;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===f)return h(v),a;if(w===m)return h(v),o;w=w.sibling}throw Error(r(188))}if(f.return!==m.return)f=v,m=w;else{for(var N=!1,D=v.child;D;){if(D===f){N=!0,f=v,m=w;break}if(D===m){N=!0,m=v,f=w;break}D=D.sibling}if(!N){for(D=w.child;D;){if(D===f){N=!0,f=w,m=v;break}if(D===m){N=!0,m=w,f=v;break}D=D.sibling}if(!N)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:o}function g(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=g(a),o!==null)return o;a=a.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function Z(a){return a===null||typeof a!="object"?null:(a=te&&a[te]||a["@@iterator"],typeof a=="function"?a:null)}var xe=Symbol.for("react.client.reference");function De(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===xe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case k:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case M:return"SuspenseList";case B:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case A:return a.displayName||"Context";case R:return(a._context.displayName||"Context")+".Consumer";case O:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case C:return o=a.displayName||null,o!==null?o:De(a.type)||"Memo";case z:o=a._payload,a=a._init;try{return De(a(o))}catch{}}return null}var ve=Array.isArray,ee=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},ne=[],Ie=-1;function j(a){return{current:a}}function F(a){0>Ie||(a.current=ne[Ie],ne[Ie]=null,Ie--)}function V(a,o){Ie++,ne[Ie]=a.current,a.current=o}var H=j(null),W=j(null),se=j(null),we=j(null);function Ne(a,o){switch(V(se,o),V(W,a),V(H,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?Zv(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=Zv(o),a=ex(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}F(H),V(H,a)}function Te(){F(H),F(W),F(se)}function Re(a){a.memoizedState!==null&&V(we,a);var o=H.current,f=ex(o,a.type);o!==f&&(V(W,a),V(H,f))}function rt(a){W.current===a&&(F(H),F(W)),we.current===a&&(F(we),Ec._currentValue=Ee)}var Q,St;function pt(a){if(Q===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);Q=o&&o[1]||"",St=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Q+a+St}var At=!1;function gt(a,o){if(!a||At)return"";At=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(me){var le=me}Reflect.construct(a,[],ye)}else{try{ye.call()}catch(me){le=me}a.call(ye.prototype)}}else{try{throw Error()}catch(me){le=me}(ye=a())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(me){if(me&&le&&typeof me.stack=="string")return[me.stack,le.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),N=w[0],D=w[1];if(N&&D){var X=N.split(`
`),ae=D.split(`
`);for(v=m=0;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;for(;v<ae.length&&!ae[v].includes("DetermineComponentFrameRoot");)v++;if(m===X.length||v===ae.length)for(m=X.length-1,v=ae.length-1;1<=m&&0<=v&&X[m]!==ae[v];)v--;for(;1<=m&&0<=v;m--,v--)if(X[m]!==ae[v]){if(m!==1||v!==1)do if(m--,v--,0>v||X[m]!==ae[v]){var ue=`
`+X[m].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=m&&0<=v);break}}}finally{At=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?pt(f):""}function He(a,o){switch(a.tag){case 26:case 27:case 5:return pt(a.type);case 16:return pt("Lazy");case 13:return a.child!==o&&o!==null?pt("Suspense Fallback"):pt("Suspense");case 19:return pt("SuspenseList");case 0:case 15:return gt(a.type,!1);case 11:return gt(a.type.render,!1);case 1:return gt(a.type,!0);case 31:return pt("Activity");default:return""}}function En(a){try{var o="",f=null;do o+=He(a,f),f=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Br=Object.prototype.hasOwnProperty,gi=e.unstable_scheduleCallback,Ki=e.unstable_cancelCallback,Hl=e.unstable_shouldYield,vs=e.unstable_requestPaint,st=e.unstable_now,Yi=e.unstable_getCurrentPriorityLevel,Ur=e.unstable_ImmediatePriority,Js=e.unstable_UserBlockingPriority,Vn=e.unstable_NormalPriority,Gt=e.unstable_LowPriority,vt=e.unstable_IdlePriority,Jt=e.log,Hn=e.unstable_setDisableYieldValue,mn=null,Mt=null;function pa(a){if(typeof Jt=="function"&&Hn(a),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(mn,a)}catch{}}var Sn=Math.clz32?Math.clz32:ql,Mf=Math.log,Lf=Math.LN2;function ql(a){return a>>>=0,a===0?32:31-(Mf(a)/Lf|0)|0}var xs=256,Gl=262144,za=4194304;function $i(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ho(a,o,f){var m=a.pendingLanes;if(m===0)return 0;var v=0,w=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var D=m&134217727;return D!==0?(m=D&~w,m!==0?v=$i(m):(N&=D,N!==0?v=$i(N):f||(f=D&~a,f!==0&&(v=$i(f))))):(D=m&~w,D!==0?v=$i(D):N!==0?v=$i(N):f||(f=m&~a,f!==0&&(v=$i(f)))),v===0?0:o!==0&&o!==v&&(o&w)===0&&(w=v&-v,f=o&-o,w>=f||w===32&&(f&4194048)!==0)?o:v}function Wl(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function ig(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(){var a=za;return za<<=1,(za&62914560)===0&&(za=4194304),a}function Pf(a){for(var o=[],f=0;31>f;f++)o.push(a);return o}function Zn(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Jc(a,o,f,m,v,w){var N=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var D=a.entanglements,X=a.expirationTimes,ae=a.hiddenUpdates;for(f=N&~f;0<f;){var ue=31-Sn(f),ye=1<<ue;D[ue]=0,X[ue]=-1;var le=ae[ue];if(le!==null)for(ae[ue]=null,ue=0;ue<le.length;ue++){var me=le[ue];me!==null&&(me.lane&=-536870913)}f&=~ye}m!==0&&l0(a,m,0),w!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=w&~(N&~o))}function l0(a,o,f){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-Sn(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|f&261930}function Zc(a,o){var f=a.entangledLanes|=o;for(a=a.entanglements;f;){var m=31-Sn(f),v=1<<m;v&o|a[m]&o&&(a[m]|=o),f&=~v}}function Bf(a,o){var f=o&-o;return f=(f&42)!==0?1:eu(f),(f&(a.suspendedLanes|o))!==0?0:f}function eu(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function tu(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function L(){var a=J.p;return a!==0?a:(a=window.event,a===void 0?32:rd(a.type))}function K(a,o){var f=J.p;try{return J.p=a,o()}finally{J.p=f}}var P=Math.random().toString(36).slice(2),U="__reactFiber$"+P,q="__reactProps$"+P,Y="__reactContainer$"+P,he="__reactEvents$"+P,_e="__reactListeners$"+P,ce="__reactHandles$"+P,de="__reactResources$"+P,pe="__reactMarker$"+P;function Fe(a){delete a[U],delete a[q],delete a[he],delete a[_e],delete a[ce]}function Me(a){var o=a[U];if(o)return o;for(var f=a.parentNode;f;){if(o=f[Y]||f[U]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(a=qb(a);a!==null;){if(f=a[U])return f;a=qb(a)}return o}a=f,f=a.parentNode}return null}function qe(a){if(a=a[U]||a[Y]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Le(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Ve(a){var o=a[de];return o||(o=a[de]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function $e(a){a[pe]=!0}var sn=new Set,Zt={};function gn(a,o){vi(a,o),vi(a+"Capture",o)}function vi(a,o){for(Zt[a]=o,a=0;a<o.length;a++)sn.add(o[a])}var Zs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Va={};function Xl(a){return Br.call(Va,a)?!0:Br.call(qo,a)?!1:Zs.test(a)?Va[a]=!0:(qo[a]=!0,!1)}function Qr(a,o,f){if(Xl(o))if(f===null)a.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+f)}}function Ha(a,o,f){if(f===null)a.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+f)}}function eo(a,o,f,m){if(m===null)a.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(o,f,""+m)}}function zr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ag(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function y1(a,o,f){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,w=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(N){f=""+N,w.call(this,N)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(N){f=""+N},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function sg(a){if(!a._valueTracker){var o=ag(a)?"checked":"value";a._valueTracker=y1(a,o,""+a[o])}}function b1(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var f=o.getValue(),m="";return a&&(m=ag(a)?a.checked?"true":"false":a.value),a=m,a!==f?(o.setValue(a),!0):!1}function Kl(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var w1=/[\n"\\]/g;function xi(a){return a.replace(w1,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function og(a,o,f,m,v,w,N,D){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),o!=null?N==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+zr(o)):a.value!==""+zr(o)&&(a.value=""+zr(o)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),o!=null?nu(a,N,zr(o)):f!=null?nu(a,N,zr(f)):m!=null&&a.removeAttribute("value"),v==null&&w!=null&&(a.defaultChecked=!!w),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.name=""+zr(D):a.removeAttribute("name")}function Uf(a,o,f,m,v,w,N,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){sg(a);return}f=f!=null?""+zr(f):"",o=o!=null?""+zr(o):f,D||o===a.value||(a.value=o),a.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=D?a.checked:!!m,a.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),sg(a)}function nu(a,o,f){o==="number"&&Kl(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function ru(a,o,f,m){if(a=a.options,o){o={};for(var v=0;v<f.length;v++)o["$"+f[v]]=!0;for(f=0;f<a.length;f++)v=o.hasOwnProperty("$"+a[f].value),a[f].selected!==v&&(a[f].selected=v),v&&m&&(a[f].defaultSelected=!0)}else{for(f=""+zr(f),o=null,v=0;v<a.length;v++){if(a[v].value===f){a[v].selected=!0,m&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function c0(a,o,f){if(o!=null&&(o=""+zr(o),o!==a.value&&(a.value=o),f==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=f!=null?""+zr(f):""}function lg(a,o,f,m){if(o==null){if(m!=null){if(f!=null)throw Error(r(92));if(ve(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),o=f}f=zr(o),a.defaultValue=f,m=a.textContent,m===f&&m!==""&&m!==null&&(a.value=m),sg(a)}function Yl(a,o){if(o){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=o;return}}a.textContent=o}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(a,o,f){var m=o.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,f):typeof f!="number"||f===0||kt.has(o)?o==="float"?a.cssFloat=f:a[o]=(""+f).trim():a[o]=f+"px"}function iu(a,o,f){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&f[v]!==m&&Go(a,v,m)}else for(var w in o)o.hasOwnProperty(w)&&Go(a,w,o[w])}function qa(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),E1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function au(a){return E1.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Qe(){}var vn=null;function u0(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var su=null,$l=null;function cg(a){var o=qe(a);if(o&&(a=o.stateNode)){var f=a[q]||null;e:switch(a=o.stateNode,o.type){case"input":if(og(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),o=f.name,f.type==="radio"&&o!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+xi(""+o)+'"][type="radio"]'),o=0;o<f.length;o++){var m=f[o];if(m!==a&&m.form===a.form){var v=m[q]||null;if(!v)throw Error(r(90));og(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<f.length;o++)m=f[o],m.form===a.form&&b1(m)}break e;case"textarea":c0(a,f.value,f.defaultValue);break e;case"select":o=f.value,o!=null&&ru(a,!!f.multiple,o,!1)}}}var zf=!1;function ug(a,o,f){if(zf)return a(o,f);zf=!0;try{var m=a(o);return m}finally{if(zf=!1,(su!==null||$l!==null)&&(yp(),su&&(o=su,a=$l,$l=su=null,cg(o),a)))for(o=0;o<a.length;o++)cg(a[o])}}function Ga(a,o){var f=a.stateNode;if(f===null)return null;var m=f[q]||null;if(m===null)return null;f=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,o,typeof f));return f}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fg=!1;if(ys)try{var ou={};Object.defineProperty(ou,"passive",{get:function(){fg=!0}}),window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{fg=!1}var to=null,f0=null,Vf=null;function S1(){if(Vf)return Vf;var a,o=f0,f=o.length,m,v="value"in to?to.value:to.textContent,w=v.length;for(a=0;a<f&&o[a]===v[a];a++);var N=f-a;for(m=1;m<=N&&o[f-m]===v[w-m];m++);return Vf=v.slice(a,1<m?1-m:void 0)}function Hf(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function no(){return!0}function qf(){return!1}function yi(a){function o(f,m,v,w,N){this._reactName=f,this._targetInst=v,this.type=m,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(f=a[D],this[D]=f?f(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?no:qf,this.isPropagationStopped=qf,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),o}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h0=yi(Wo),lu=x({},Wo,{view:0,detail:0}),sS=yi(lu),hg,Vr,Wa,d0=x({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m0,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Wa&&(Wa&&a.type==="mousemove"?(hg=a.screenX-Wa.screenX,Vr=a.screenY-Wa.screenY):Vr=hg=0,Wa=a),hg)},movementY:function(a){return"movementY"in a?a.movementY:Vr}}),cu=yi(d0),oS=x({},d0,{dataTransfer:0}),lS=yi(oS),p0=x({},lu,{relatedTarget:0}),uu=yi(p0),dg=x({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),pg=yi(dg),mg=x({},Wo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),gg=yi(mg),ma=x({},Wo,{data:0}),vg=yi(ma),cS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T1(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Qi[a])?!!o[a]:!1}function m0(){return T1}var A1=x({},lu,{key:function(a){if(a.key){var o=cS[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Hf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?xg[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m0,charCode:function(a){return a.type==="keypress"?Hf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Hf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),k1=yi(A1),uS=x({},d0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=yi(uS),yg=x({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m0}),bg=yi(yg),Jr=x({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),N1=yi(Jr),wg=x({},d0,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),g0=yi(wg),_g=x({},Wo,{newState:0,oldState:0}),fu=yi(_g),C1=[9,13,27,32],v0=ys&&"CompositionEvent"in window,Wf=null;ys&&"documentMode"in document&&(Wf=document.documentMode);var hu=ys&&"TextEvent"in window&&!Wf,x0=ys&&(!v0||Wf&&8<Wf&&11>=Wf),Xo=" ",Eg=!1;function R1(a,o){switch(a){case"keyup":return C1.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var bs=!1;function Xf(a,o){switch(a){case"compositionend":return ro(o);case"keypress":return o.which!==32?null:(Eg=!0,Xo);case"textInput":return a=o.data,a===Xo&&Eg?null:a;default:return null}}function Sg(a,o){if(bs)return a==="compositionend"||!v0&&R1(a,o)?(a=S1(),Vf=f0=to=null,bs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return x0&&o.locale!=="ko"?null:o.data;default:return null}}var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ji(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!qn[a.type]:o==="textarea"}function Zr(a,o,f,m){su?$l?$l.push(m):$l=[m]:su=m,o=Ip(o,"onChange"),0<o.length&&(f=new h0("onChange","change",null,f,m),a.push({event:f,listeners:o}))}var Ko=null,io=null;function Kf(a){jb(a,0)}function y0(a){var o=Le(a);if(b1(o))return a}function Tg(a,o){if(a==="change")return o}var D1=!1;if(ys){var Ag;if(ys){var kg="oninput"in document;if(!kg){var I1=document.createElement("div");I1.setAttribute("oninput","return;"),kg=typeof I1.oninput=="function"}Ag=kg}else Ag=!1;D1=Ag&&(!document.documentMode||9<document.documentMode)}function Yo(){Ko&&(Ko.detachEvent("onpropertychange",ao),io=Ko=null)}function ao(a){if(a.propertyName==="value"&&y0(io)){var o=[];Zr(o,io,a,u0(a)),ug(Kf,o)}}function O1(a,o,f){a==="focusin"?(Yo(),Ko=o,io=f,Ko.attachEvent("onpropertychange",ao)):a==="focusout"&&Yo()}function ws(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return y0(io)}function Ng(a,o){if(a==="click")return y0(o)}function F1(a,o){if(a==="input"||a==="change")return y0(o)}function M1(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var vr=typeof Object.is=="function"?Object.is:M1;function Yf(a,o){if(vr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var f=Object.keys(a),m=Object.keys(o);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var v=f[m];if(!Br.call(o,v)||!vr(a[v],o[v]))return!1}return!0}function Cg(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function L1(a,o){var f=Cg(a);a=0;for(var m;f;){if(f.nodeType===3){if(m=a+f.textContent.length,a<=o&&m>=o)return{node:f,offset:o-a};a=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Cg(f)}}function b0(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?b0(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Rg(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Kl(a.document);o instanceof a.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)a=o.contentWindow;else break;o=Kl(a.document)}return o}function Dg(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var j1=ys&&"documentMode"in document&&11>=document.documentMode,$o=null,Ql=null,du=null,w0=!1;function P1(a,o,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;w0||$o==null||$o!==Kl(m)||(m=$o,"selectionStart"in m&&Dg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),du&&Yf(du,m)||(du=m,m=Ip(Ql,"onSelect"),0<m.length&&(o=new h0("onSelect","select",null,o,f),a.push({event:o,listeners:m}),o.target=$o)))}function Qo(a,o){var f={};return f[a.toLowerCase()]=o.toLowerCase(),f["Webkit"+a]="webkit"+o,f["Moz"+a]="moz"+o,f}var ga={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionrun:Qo("Transition","TransitionRun"),transitionstart:Qo("Transition","TransitionStart"),transitioncancel:Qo("Transition","TransitionCancel"),transitionend:Qo("Transition","TransitionEnd")},_0={},B1={};ys&&(B1=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Jl(a){if(_0[a])return _0[a];if(!ga[a])return a;var o=ga[a],f;for(f in o)if(o.hasOwnProperty(f)&&f in B1)return _0[a]=o[f];return a}var U1=Jl("animationend"),$f=Jl("animationiteration"),z1=Jl("animationstart"),Ig=Jl("transitionrun"),Og=Jl("transitionstart"),Xa=Jl("transitioncancel"),Ka=Jl("transitionend"),Fg=new Map,Mg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mg.push("scrollEnd");function Zi(a,o){Fg.set(a,o),gn(o,[a])}var Qf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Nr=[],Zl=0,Jo=0;function er(){for(var a=Zl,o=Jo=Zl=0;o<a;){var f=Nr[o];Nr[o++]=null;var m=Nr[o];Nr[o++]=null;var v=Nr[o];Nr[o++]=null;var w=Nr[o];if(Nr[o++]=null,m!==null&&v!==null){var N=m.pending;N===null?v.next=v:(v.next=N.next,N.next=v),m.pending=v}w!==0&&Zf(f,v,w)}}function on(a,o,f,m){Nr[Zl++]=a,Nr[Zl++]=o,Nr[Zl++]=f,Nr[Zl++]=m,Jo|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Jf(a,o,f,m){return on(a,o,f,m),so(a)}function ea(a,o){return on(a,null,null,o),so(a)}function Zf(a,o,f){a.lanes|=f;var m=a.alternate;m!==null&&(m.lanes|=f);for(var v=!1,w=a.return;w!==null;)w.childLanes|=f,m=w.alternate,m!==null&&(m.childLanes|=f),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(v=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,v&&o!==null&&(v=31-Sn(f),a=w.hiddenUpdates,m=a[v],m===null?a[v]=[o]:m.push(o),o.lane=f|536870912),w):null}function so(a){if(50<vc)throw vc=0,vp=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var _s={};function eh(a,o,f,m){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(a,o,f,m){return new eh(a,o,f,m)}function Zo(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ei(a,o){var f=a.alternate;return f===null?(f=bi(a.tag,o,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=o,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,o=a.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function Lg(a,o){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,o=f.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function th(a,o,f,m,v,w){var N=0;if(m=a,typeof a=="function")Zo(a)&&(N=1);else if(typeof a=="string")N=Zh(a,f,H.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case B:return a=bi(31,f,o,v),a.elementType=B,a.lanes=w,a;case E:return wi(f.children,v,w,o);case T:N=8,v|=24;break;case k:return a=bi(12,f,o,v|2),a.elementType=k,a.lanes=w,a;case I:return a=bi(13,f,o,v),a.elementType=I,a.lanes=w,a;case M:return a=bi(19,f,o,v),a.elementType=M,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:N=10;break e;case R:N=9;break e;case O:N=11;break e;case C:N=14;break e;case z:N=16,m=null;break e}N=29,f=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=bi(N,f,o,v),o.elementType=a,o.type=m,o.lanes=w,o}function wi(a,o,f,m){return a=bi(7,a,m,o),a.lanes=f,a}function nh(a,o,f){return a=bi(6,a,null,o),a.lanes=f,a}function V1(a){var o=bi(18,null,null,0);return o.stateNode=a,o}function ec(a,o,f){return o=bi(4,a.children!==null?a.children:[],a.key,o),o.lanes=f,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var jg=new WeakMap;function va(a,o){if(typeof a=="object"&&a!==null){var f=jg.get(a);return f!==void 0?f:(o={value:a,source:o,stack:En(o)},jg.set(a,o),o)}return{value:a,source:o,stack:En(o)}}var pu=[],tc=0,mu=null,nc=0,_i=[],Ge=0,jn=null,cr=1,Es="";function oo(a,o){pu[tc++]=nc,pu[tc++]=mu,mu=a,nc=o}function E0(a,o,f){_i[Ge++]=cr,_i[Ge++]=Es,_i[Ge++]=jn,jn=a;var m=cr;a=Es;var v=32-Sn(m)-1;m&=~(1<<v),f+=1;var w=32-Sn(o)+v;if(30<w){var N=v-v%5;w=(m&(1<<N)-1).toString(32),m>>=N,v-=N,cr=1<<32-Sn(o)+v|f<<v|m,Es=w+a}else cr=1<<w|f<<v|m,Es=a}function rh(a){a.return!==null&&(oo(a,1),E0(a,1,0))}function ih(a){for(;a===mu;)mu=pu[--tc],pu[tc]=null,nc=pu[--tc],pu[tc]=null;for(;a===jn;)jn=_i[--Ge],_i[Ge]=null,Es=_i[--Ge],_i[Ge]=null,cr=_i[--Ge],_i[Ge]=null}function Pg(a,o){_i[Ge++]=cr,_i[Ge++]=Es,_i[Ge++]=jn,cr=o.id,Es=o.overflow,jn=a}var ur=null,ln=null,Nt=!1,xa=null,ya=!1,ah=Error(r(519));function Ya(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xu(va(o,a)),ah}function gu(a){var o=a.stateNode,f=a.type,m=a.memoizedProps;switch(o[U]=a,o[q]=m,f){case"dialog":wt("cancel",o),wt("close",o);break;case"iframe":case"object":case"embed":wt("load",o);break;case"video":case"audio":for(f=0;f<wl.length;f++)wt(wl[f],o);break;case"source":wt("error",o);break;case"img":case"image":case"link":wt("error",o),wt("load",o);break;case"details":wt("toggle",o);break;case"input":wt("invalid",o),Uf(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":wt("invalid",o);break;case"textarea":wt("invalid",o),lg(o,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||o.textContent===""+f||m.suppressHydrationWarning===!0||Uu(o.textContent,f)?(m.popover!=null&&(wt("beforetoggle",o),wt("toggle",o)),m.onScroll!=null&&wt("scroll",o),m.onScrollEnd!=null&&wt("scrollend",o),m.onClick!=null&&(o.onclick=Qe),o=!0):o=!1,o||Ya(a,!0)}function H1(a){for(ur=a.return;ur;)switch(ur.tag){case 5:case 31:case 13:ya=!1;return;case 27:case 3:ya=!0;return;default:ur=ur.return}}function vu(a){if(a!==ur)return!1;if(!Nt)return H1(a),Nt=!0,!1;var o=a.tag,f;if((f=o!==3&&o!==27)&&((f=o===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||Kh(a.type,a.memoizedProps)),f=!f),f&&ln&&Ya(a),H1(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ln=Hb(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ln=Hb(a)}else o===27?(o=ln,Tl(a.type)?(a=ax,ax=null,ln=a):ln=o):ln=ur?na(a.stateNode.nextSibling):null;return!0}function rc(){ln=ur=null,Nt=!1}function Bg(){var a=xa;return a!==null&&(Ni===null?Ni=a:Ni.push.apply(Ni,a),xa=null),a}function xu(a){xa===null?xa=[a]:xa.push(a)}var S0=j(null),ic=null,Ss=null;function el(a,o,f){V(S0,o._currentValue),o._currentValue=f}function lo(a){a._currentValue=S0.current,F(S0)}function sh(a,o,f){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===f)break;a=a.return}}function T0(a,o,f,m){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var w=v.dependencies;if(w!==null){var N=v.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=v;for(var X=0;X<o.length;X++)if(D.context===o[X]){w.lanes|=f,D=w.alternate,D!==null&&(D.lanes|=f),sh(w.return,f,a),m||(N=null);break e}w=D.next}}else if(v.tag===18){if(N=v.return,N===null)throw Error(r(341));N.lanes|=f,w=N.alternate,w!==null&&(w.lanes|=f),sh(N,f,a),N=null}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===a){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}}function ac(a,o,f,m){a=null;for(var v=o,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var N=v.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var D=v.type;vr(v.pendingProps.value,N.value)||(a!==null?a.push(D):a=[D])}}else if(v===we.current){if(N=v.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Ec):a=[Ec])}v=v.return}a!==null&&T0(o,a,f,m),o.flags|=262144}function A0(a){for(a=a.firstContext;a!==null;){if(!vr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function sc(a){ic=a,Ss=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function xr(a){return q1(ic,a)}function k0(a,o){return ic===null&&sc(a),q1(a,o)}function q1(a,o){var f=o._currentValue;if(o={context:o,memoizedValue:f,next:null},Ss===null){if(a===null)throw Error(r(308));Ss=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ss=Ss.next=o;return f}var G1=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(f,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(f){return f()})}},N0=e.unstable_scheduleCallback,W1=e.unstable_NormalPriority,Gn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new G1,data:new Map,refCount:0}}function yu(a){a.refCount--,a.refCount===0&&N0(W1,function(){a.controller.abort()})}var lh=null,C0=0,oc=0,lc=null;function X1(a,o){if(lh===null){var f=lh=[];C0=0,oc=Cp(),lc={status:"pending",value:void 0,then:function(m){f.push(m)}}}return C0++,o.then(ch,ch),o}function ch(){if(--C0===0&&lh!==null){lc!==null&&(lc.status="fulfilled");var a=lh;lh=null,oc=0,lc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function fS(a,o){var f=[],m={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<f.length;v++)(0,f[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),m}var bu=ee.S;ee.S=function(a,o){pp=st(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&X1(a,o),bu!==null&&bu(a,o)};var cc=j(null);function Ug(){var a=cc.current;return a!==null?a:en.pooledCache}function R0(a,o){o===null?V(cc,cc.current):V(cc,o.pool)}function uh(){var a=Ug();return a===null?null:{parent:Gn._currentValue,pool:a}}var co=Error(r(460)),D0=Error(r(474)),fh=Error(r(542)),uc={then:function(){}};function I0(a){return a=a.status,a==="fulfilled"||a==="rejected"}function O0(a,o,f){switch(f=a[f],f===void 0?a.push(o):f!==o&&(o.then(Qe,Qe),o=f),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,F0(a),a;default:if(typeof o.status=="string")o.then(Qe,Qe);else{if(a=en,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,F0(a),a}throw uo=o,co}}function tl(a){try{var o=a._init;return o(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(uo=f,co):f}}var uo=null;function zg(){if(uo===null)throw Error(r(459));var a=uo;return uo=null,a}function F0(a){if(a===co||a===fh)throw Error(r(483))}var ti=null,wu=0;function hh(a){var o=wu;return wu+=1,ti===null&&(ti=[]),O0(ti,a,o)}function _u(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function dh(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Vg(a){function o(oe,ie){if(a){var fe=oe.deletions;fe===null?(oe.deletions=[ie],oe.flags|=16):fe.push(ie)}}function f(oe,ie){if(!a)return null;for(;ie!==null;)o(oe,ie),ie=ie.sibling;return null}function m(oe){for(var ie=new Map;oe!==null;)oe.key!==null?ie.set(oe.key,oe):ie.set(oe.index,oe),oe=oe.sibling;return ie}function v(oe,ie){return oe=ei(oe,ie),oe.index=0,oe.sibling=null,oe}function w(oe,ie,fe){return oe.index=fe,a?(fe=oe.alternate,fe!==null?(fe=fe.index,fe<ie?(oe.flags|=67108866,ie):fe):(oe.flags|=67108866,ie)):(oe.flags|=1048576,ie)}function N(oe){return a&&oe.alternate===null&&(oe.flags|=67108866),oe}function D(oe,ie,fe,Se){return ie===null||ie.tag!==6?(ie=nh(fe,oe.mode,Se),ie.return=oe,ie):(ie=v(ie,fe),ie.return=oe,ie)}function X(oe,ie,fe,Se){var it=fe.type;return it===E?ue(oe,ie,fe.props.children,Se,fe.key):ie!==null&&(ie.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===z&&tl(it)===ie.type)?(ie=v(ie,fe.props),_u(ie,fe),ie.return=oe,ie):(ie=th(fe.type,fe.key,fe.props,null,oe.mode,Se),_u(ie,fe),ie.return=oe,ie)}function ae(oe,ie,fe,Se){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==fe.containerInfo||ie.stateNode.implementation!==fe.implementation?(ie=ec(fe,oe.mode,Se),ie.return=oe,ie):(ie=v(ie,fe.children||[]),ie.return=oe,ie)}function ue(oe,ie,fe,Se,it){return ie===null||ie.tag!==7?(ie=wi(fe,oe.mode,Se,it),ie.return=oe,ie):(ie=v(ie,fe),ie.return=oe,ie)}function ye(oe,ie,fe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=nh(""+ie,oe.mode,fe),ie.return=oe,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return fe=th(ie.type,ie.key,ie.props,null,oe.mode,fe),_u(fe,ie),fe.return=oe,fe;case S:return ie=ec(ie,oe.mode,fe),ie.return=oe,ie;case z:return ie=tl(ie),ye(oe,ie,fe)}if(ve(ie)||Z(ie))return ie=wi(ie,oe.mode,fe,null),ie.return=oe,ie;if(typeof ie.then=="function")return ye(oe,hh(ie),fe);if(ie.$$typeof===A)return ye(oe,k0(oe,ie),fe);dh(oe,ie)}return null}function le(oe,ie,fe,Se){var it=ie!==null?ie.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return it!==null?null:D(oe,ie,""+fe,Se);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:return fe.key===it?X(oe,ie,fe,Se):null;case S:return fe.key===it?ae(oe,ie,fe,Se):null;case z:return fe=tl(fe),le(oe,ie,fe,Se)}if(ve(fe)||Z(fe))return it!==null?null:ue(oe,ie,fe,Se,null);if(typeof fe.then=="function")return le(oe,ie,hh(fe),Se);if(fe.$$typeof===A)return le(oe,ie,k0(oe,fe),Se);dh(oe,fe)}return null}function me(oe,ie,fe,Se,it){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return oe=oe.get(fe)||null,D(ie,oe,""+Se,it);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case _:return oe=oe.get(Se.key===null?fe:Se.key)||null,X(ie,oe,Se,it);case S:return oe=oe.get(Se.key===null?fe:Se.key)||null,ae(ie,oe,Se,it);case z:return Se=tl(Se),me(oe,ie,fe,Se,it)}if(ve(Se)||Z(Se))return oe=oe.get(fe)||null,ue(ie,oe,Se,it,null);if(typeof Se.then=="function")return me(oe,ie,fe,hh(Se),it);if(Se.$$typeof===A)return me(oe,ie,fe,k0(ie,Se),it);dh(ie,Se)}return null}function Ye(oe,ie,fe,Se){for(var it=null,Kt=null,Je=ie,_t=ie=0,Lt=null;Je!==null&&_t<fe.length;_t++){Je.index>_t?(Lt=Je,Je=null):Lt=Je.sibling;var Yt=le(oe,Je,fe[_t],Se);if(Yt===null){Je===null&&(Je=Lt);break}a&&Je&&Yt.alternate===null&&o(oe,Je),ie=w(Yt,ie,_t),Kt===null?it=Yt:Kt.sibling=Yt,Kt=Yt,Je=Lt}if(_t===fe.length)return f(oe,Je),Nt&&oo(oe,_t),it;if(Je===null){for(;_t<fe.length;_t++)Je=ye(oe,fe[_t],Se),Je!==null&&(ie=w(Je,ie,_t),Kt===null?it=Je:Kt.sibling=Je,Kt=Je);return Nt&&oo(oe,_t),it}for(Je=m(Je);_t<fe.length;_t++)Lt=me(Je,oe,_t,fe[_t],Se),Lt!==null&&(a&&Lt.alternate!==null&&Je.delete(Lt.key===null?_t:Lt.key),ie=w(Lt,ie,_t),Kt===null?it=Lt:Kt.sibling=Lt,Kt=Lt);return a&&Je.forEach(function($u){return o(oe,$u)}),Nt&&oo(oe,_t),it}function lt(oe,ie,fe,Se){if(fe==null)throw Error(r(151));for(var it=null,Kt=null,Je=ie,_t=ie=0,Lt=null,Yt=fe.next();Je!==null&&!Yt.done;_t++,Yt=fe.next()){Je.index>_t?(Lt=Je,Je=null):Lt=Je.sibling;var $u=le(oe,Je,Yt.value,Se);if($u===null){Je===null&&(Je=Lt);break}a&&Je&&$u.alternate===null&&o(oe,Je),ie=w($u,ie,_t),Kt===null?it=$u:Kt.sibling=$u,Kt=$u,Je=Lt}if(Yt.done)return f(oe,Je),Nt&&oo(oe,_t),it;if(Je===null){for(;!Yt.done;_t++,Yt=fe.next())Yt=ye(oe,Yt.value,Se),Yt!==null&&(ie=w(Yt,ie,_t),Kt===null?it=Yt:Kt.sibling=Yt,Kt=Yt);return Nt&&oo(oe,_t),it}for(Je=m(Je);!Yt.done;_t++,Yt=fe.next())Yt=me(Je,oe,_t,Yt.value,Se),Yt!==null&&(a&&Yt.alternate!==null&&Je.delete(Yt.key===null?_t:Yt.key),ie=w(Yt,ie,_t),Kt===null?it=Yt:Kt.sibling=Yt,Kt=Yt);return a&&Je.forEach(function(cj){return o(oe,cj)}),Nt&&oo(oe,_t),it}function xn(oe,ie,fe,Se){if(typeof fe=="object"&&fe!==null&&fe.type===E&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:e:{for(var it=fe.key;ie!==null;){if(ie.key===it){if(it=fe.type,it===E){if(ie.tag===7){f(oe,ie.sibling),Se=v(ie,fe.props.children),Se.return=oe,oe=Se;break e}}else if(ie.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===z&&tl(it)===ie.type){f(oe,ie.sibling),Se=v(ie,fe.props),_u(Se,fe),Se.return=oe,oe=Se;break e}f(oe,ie);break}else o(oe,ie);ie=ie.sibling}fe.type===E?(Se=wi(fe.props.children,oe.mode,Se,fe.key),Se.return=oe,oe=Se):(Se=th(fe.type,fe.key,fe.props,null,oe.mode,Se),_u(Se,fe),Se.return=oe,oe=Se)}return N(oe);case S:e:{for(it=fe.key;ie!==null;){if(ie.key===it)if(ie.tag===4&&ie.stateNode.containerInfo===fe.containerInfo&&ie.stateNode.implementation===fe.implementation){f(oe,ie.sibling),Se=v(ie,fe.children||[]),Se.return=oe,oe=Se;break e}else{f(oe,ie);break}else o(oe,ie);ie=ie.sibling}Se=ec(fe,oe.mode,Se),Se.return=oe,oe=Se}return N(oe);case z:return fe=tl(fe),xn(oe,ie,fe,Se)}if(ve(fe))return Ye(oe,ie,fe,Se);if(Z(fe)){if(it=Z(fe),typeof it!="function")throw Error(r(150));return fe=it.call(fe),lt(oe,ie,fe,Se)}if(typeof fe.then=="function")return xn(oe,ie,hh(fe),Se);if(fe.$$typeof===A)return xn(oe,ie,k0(oe,fe),Se);dh(oe,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ie!==null&&ie.tag===6?(f(oe,ie.sibling),Se=v(ie,fe),Se.return=oe,oe=Se):(f(oe,ie),Se=nh(fe,oe.mode,Se),Se.return=oe,oe=Se),N(oe)):f(oe,ie)}return function(oe,ie,fe,Se){try{wu=0;var it=xn(oe,ie,fe,Se);return ti=null,it}catch(Je){if(Je===co||Je===fh)throw Je;var Kt=bi(29,Je,null,oe.mode);return Kt.lanes=Se,Kt.return=oe,Kt}finally{}}}var Ts=Vg(!0),Eu=Vg(!1),$a=!1;function nl(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rl(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ei(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function As(a,o,f){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Bt&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=so(a),Zf(a,null,f),o}return on(a,m,o,f),so(a)}function ph(a,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,f|=m,o.lanes=f,Zc(a,f)}}function Qa(a,o){var f=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var v=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var N={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?v=w=N:w=w.next=N,f=f.next}while(f!==null);w===null?v=w=o:w=w.next=o}else v=w=o;f={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=o:a.next=o,f.lastBaseUpdate=o}var mh=!1;function gh(){if(mh){var a=lc;if(a!==null)throw a}}function Ja(a,o,f,m){mh=!1;var v=a.updateQueue;$a=!1;var w=v.firstBaseUpdate,N=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var X=D,ae=X.next;X.next=null,N===null?w=ae:N.next=ae,N=X;var ue=a.alternate;ue!==null&&(ue=ue.updateQueue,D=ue.lastBaseUpdate,D!==N&&(D===null?ue.firstBaseUpdate=ae:D.next=ae,ue.lastBaseUpdate=X))}if(w!==null){var ye=v.baseState;N=0,ue=ae=X=null,D=w;do{var le=D.lane&-536870913,me=le!==D.lane;if(me?(It&le)===le:(m&le)===le){le!==0&&le===oc&&(mh=!0),ue!==null&&(ue=ue.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ye=a,lt=D;le=o;var xn=f;switch(lt.tag){case 1:if(Ye=lt.payload,typeof Ye=="function"){ye=Ye.call(xn,ye,le);break e}ye=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=lt.payload,le=typeof Ye=="function"?Ye.call(xn,ye,le):Ye,le==null)break e;ye=x({},ye,le);break e;case 2:$a=!0}}le=D.callback,le!==null&&(a.flags|=64,me&&(a.flags|=8192),me=v.callbacks,me===null?v.callbacks=[le]:me.push(le))}else me={lane:le,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ue===null?(ae=ue=me,X=ye):ue=ue.next=me,N|=le;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;me=D,D=me.next,me.next=null,v.lastBaseUpdate=me,v.shared.pending=null}}while(!0);ue===null&&(X=ye),v.baseState=X,v.firstBaseUpdate=ae,v.lastBaseUpdate=ue,w===null&&(v.shared.lanes=0),ml|=N,a.lanes=N,a.memoizedState=ye}}function Hg(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function Si(a,o){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)Hg(f[a],o)}var ba=j(null),vh=j(0);function il(a,o){a=_o,V(vh,a),V(ba,o),_o=a|o.baseLanes}function M0(){V(vh,_o),V(ba,ba.current)}function fo(){_o=vh.current,F(ba),F(vh)}var Ti=j(null),Cr=null;function ho(a){var o=a.alternate;V(Nn,Nn.current&1),V(Ti,a),Cr===null&&(o===null||ba.current!==null||o.memoizedState!==null)&&(Cr=a)}function ks(a){V(Nn,Nn.current),V(Ti,a),Cr===null&&(Cr=a)}function K1(a){a.tag===22?(V(Nn,Nn.current),V(Ti,a),Cr===null&&(Cr=a)):fr()}function fr(){V(Nn,Nn.current),V(Ti,Ti.current)}function Ai(a){F(Ti),Cr===a&&(Cr=null),F(Nn)}var Nn=j(0);function Za(a){for(var o=a;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Mp(f)||Xn(f)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var po=0,ft=null,Dt=null,Wn=null,Su=!1,al=!1,Rr=!1,xh=0,yh=0,sl=null,hS=0;function Tn(){throw Error(r(321))}function fc(a,o){if(o===null)return!1;for(var f=0;f<o.length&&f<a.length;f++)if(!vr(a[f],o[f]))return!1;return!0}function Tu(a,o,f,m,v,w){return po=w,ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ee.H=a===null||a.memoizedState===null?K0:Y0,Rr=!1,w=f(m,v),Rr=!1,al&&(w=qg(o,f,m,v)),Au(a),w}function Au(a){ee.H=cl;var o=Dt!==null&&Dt.next!==null;if(po=0,Wn=Dt=ft=null,Su=!1,yh=0,sl=null,o)throw Error(r(300));a===null||tr||(a=a.dependencies,a!==null&&A0(a)&&(tr=!0))}function qg(a,o,f,m){ft=a;var v=0;do{if(al&&(sl=null),yh=0,al=!1,25<=v)throw Error(r(301));if(v+=1,Wn=Dt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}ee.H=av,w=o(f,m)}while(al);return w}function Gg(){var a=ee.H,o=a.useState()[0];return o=typeof o.then=="function"?hc(o):o,a=a.useState()[0],(Dt!==null?Dt.memoizedState:null)!==a&&(ft.flags|=1024),o}function ku(){var a=xh!==0;return xh=0,a}function L0(a,o,f){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~f}function Nu(a){if(Su){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Su=!1}po=0,Wn=Dt=ft=null,al=!1,yh=xh=0,sl=null}function Hr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?ft.memoizedState=Wn=a:Wn=Wn.next=a,Wn}function Cn(){if(Dt===null){var a=ft.alternate;a=a!==null?a.memoizedState:null}else a=Dt.next;var o=Wn===null?ft.memoizedState:Wn.next;if(o!==null)Wn=o,Dt=a;else{if(a===null)throw ft.alternate===null?Error(r(467)):Error(r(310));Dt=a,a={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Wn===null?ft.memoizedState=Wn=a:Wn=Wn.next=a}return Wn}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hc(a){var o=yh;return yh+=1,sl===null&&(sl=[]),a=O0(sl,a,o),o=ft,(Wn===null?o.memoizedState:Wn.next)===null&&(o=o.alternate,ee.H=o===null||o.memoizedState===null?K0:Y0),a}function ol(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return hc(a);if(a.$$typeof===A)return xr(a)}throw Error(r(438,String(a)))}function j0(a){var o=null,f=ft.updateQueue;if(f!==null&&(o=f.memoCache),o==null){var m=ft.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),f===null&&(f=Cu(),ft.updateQueue=f),f.memoCache=o,f=o.data[o.index],f===void 0)for(f=o.data[o.index]=Array(a),m=0;m<a;m++)f[m]=re;return o.index++,f}function es(a,o){return typeof o=="function"?o(a):o}function P0(a){var o=Cn();return Wg(o,Dt,a)}function Wg(a,o,f){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var v=a.baseQueue,w=m.pending;if(w!==null){if(v!==null){var N=v.next;v.next=w.next,w.next=N}o.baseQueue=v=w,m.pending=null}if(w=a.baseState,v===null)a.memoizedState=w;else{o=v.next;var D=N=null,X=null,ae=o,ue=!1;do{var ye=ae.lane&-536870913;if(ye!==ae.lane?(It&ye)===ye:(po&ye)===ye){var le=ae.revertLane;if(le===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ye===oc&&(ue=!0);else if((po&le)===le){ae=ae.next,le===oc&&(ue=!0);continue}else ye={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},X===null?(D=X=ye,N=w):X=X.next=ye,ft.lanes|=le,ml|=le;ye=ae.action,Rr&&f(w,ye),w=ae.hasEagerState?ae.eagerState:f(w,ye)}else le={lane:ye,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},X===null?(D=X=le,N=w):X=X.next=le,ft.lanes|=ye,ml|=ye;ae=ae.next}while(ae!==null&&ae!==o);if(X===null?N=w:X.next=D,!vr(w,a.memoizedState)&&(tr=!0,ue&&(f=lc,f!==null)))throw f;a.memoizedState=w,a.baseState=N,a.baseQueue=X,m.lastRenderedState=w}return v===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function B0(a){var o=Cn(),f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var m=f.dispatch,v=f.pending,w=o.memoizedState;if(v!==null){f.pending=null;var N=v=v.next;do w=a(w,N.action),N=N.next;while(N!==v);vr(w,o.memoizedState)||(tr=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),f.lastRenderedState=w}return[w,m]}function U0(a,o,f){var m=ft,v=Cn(),w=Nt;if(w){if(f===void 0)throw Error(r(407));f=f()}else f=o();var N=!vr((Dt||v).memoizedState,f);if(N&&(v.memoizedState=f,tr=!0),v=v.queue,ts(ta.bind(null,m,v,a),[a]),v.getSnapshot!==o||N||Wn!==null&&Wn.memoizedState.tag&1){if(m.flags|=2048,mo(9,{destroy:void 0},z0.bind(null,m,v,f,o),null),en===null)throw Error(r(349));w||(po&127)!==0||bh(m,o,f)}return f}function bh(a,o,f){a.flags|=16384,a={getSnapshot:o,value:f},o=ft.updateQueue,o===null?(o=Cu(),ft.updateQueue=o,o.stores=[a]):(f=o.stores,f===null?o.stores=[a]:f.push(a))}function z0(a,o,f,m){o.value=f,o.getSnapshot=m,wh(o)&&_h(a)}function ta(a,o,f){return f(function(){wh(o)&&_h(a)})}function wh(a){var o=a.getSnapshot;a=a.value;try{var f=o();return!vr(a,f)}catch{return!0}}function _h(a){var o=ea(a,2);o!==null&&oi(o,a,2)}function Eh(a){var o=Hr();if(typeof a=="function"){var f=a;if(a=f(),Rr){pa(!0);try{f()}finally{pa(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:a},o}function Xg(a,o,f,m){return a.baseState=f,Wg(a,Dt,typeof m=="function"?m:es)}function Sh(a,o,f,m,v){if(X0(a))throw Error(r(485));if(a=o.action,a!==null){var w={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};ee.T!==null?f(!0):w.isTransition=!1,m(w),f=o.pending,f===null?(w.next=o.pending=w,Ru(o,w)):(w.next=f.next,o.pending=f.next=w)}}function Ru(a,o){var f=o.action,m=o.payload,v=a.state;if(o.isTransition){var w=ee.T,N={};ee.T=N;try{var D=f(v,m),X=ee.S;X!==null&&X(N,D),Du(a,o,D)}catch(ae){Yg(a,o,ae)}finally{w!==null&&N.types!==null&&(w.types=N.types),ee.T=w}}else try{w=f(v,m),Du(a,o,w)}catch(ae){Yg(a,o,ae)}}function Du(a,o,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){Kg(a,o,m)},function(m){return Yg(a,o,m)}):Kg(a,o,f)}function Kg(a,o,f){o.status="fulfilled",o.value=f,Y1(o),a.state=f,o=a.pending,o!==null&&(f=o.next,f===o?a.pending=null:(f=f.next,o.next=f,Ru(a,f)))}function Yg(a,o,f){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=f,Y1(o),o=o.next;while(o!==m)}a.action=null}function Y1(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function $1(a,o){return o}function Q1(a,o){if(Nt){var f=en.formState;if(f!==null){e:{var m=ft;if(Nt){if(ln){t:{for(var v=ln,w=ya;v.nodeType!==8;){if(!w){v=null;break t}if(v=na(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){ln=na(v.nextSibling),m=v.data==="F!";break e}}Ya(m)}m=!1}m&&(o=f[0])}}return f=Hr(),f.memoizedState=f.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$1,lastRenderedState:o},f.queue=m,f=wa.bind(null,ft,m),m.dispatch=f,m=Eh(!1),w=rv.bind(null,ft,!1,m.queue),m=Hr(),v={state:o,dispatch:null,action:a,pending:null},m.queue=v,f=Sh.bind(null,ft,v,w,f),v.dispatch=f,m.memoizedState=a,[o,f,!1]}function J1(a){var o=Cn();return $g(o,Dt,a)}function $g(a,o,f){if(o=Wg(a,o,$1)[0],a=P0(es)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=hc(o)}catch(N){throw N===co?fh:N}else m=o;o=Cn();var v=o.queue,w=v.dispatch;return f!==o.memoizedState&&(ft.flags|=2048,mo(9,{destroy:void 0},Z1.bind(null,v,f),null)),[m,w,a]}function Z1(a,o){a.action=o}function Qg(a){var o=Cn(),f=Dt;if(f!==null)return $g(o,f,a);Cn(),o=o.memoizedState,f=Cn();var m=f.queue.dispatch;return f.memoizedState=a,[o,m,!1]}function mo(a,o,f,m){return a={tag:a,create:f,deps:m,inst:o,next:null},o=ft.updateQueue,o===null&&(o=Cu(),ft.updateQueue=o),f=o.lastEffect,f===null?o.lastEffect=a.next=a:(m=f.next,f.next=a,a.next=m,o.lastEffect=a),a}function Jg(){return Cn().memoizedState}function ll(a,o,f,m){var v=Hr();ft.flags|=a,v.memoizedState=mo(1|o,{destroy:void 0},f,m===void 0?null:m)}function dc(a,o,f,m){var v=Cn();m=m===void 0?null:m;var w=v.memoizedState.inst;Dt!==null&&m!==null&&fc(m,Dt.memoizedState.deps)?v.memoizedState=mo(o,w,f,m):(ft.flags|=a,v.memoizedState=mo(1|o,w,f,m))}function eb(a,o){ll(8390656,8,a,o)}function ts(a,o){dc(2048,8,a,o)}function pc(a){ft.flags|=4;var o=ft.updateQueue;if(o===null)o=Cu(),ft.updateQueue=o,o.events=[a];else{var f=o.events;f===null?o.events=[a]:f.push(a)}}function Iu(a){var o=Cn().memoizedState;return pc({ref:o,nextImpl:a}),function(){if((Bt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function Th(a,o){return dc(4,2,a,o)}function tb(a,o){return dc(4,4,a,o)}function V0(a,o){if(typeof o=="function"){a=a();var f=o(a);return function(){typeof f=="function"?f():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Zg(a,o,f){f=f!=null?f.concat([a]):null,dc(4,4,V0.bind(null,o,a),f)}function H0(){}function Ah(a,o){var f=Cn();o=o===void 0?null:o;var m=f.memoizedState;return o!==null&&fc(o,m[1])?m[0]:(f.memoizedState=[a,o],a)}function Ou(a,o){var f=Cn();o=o===void 0?null:o;var m=f.memoizedState;if(o!==null&&fc(o,m[1]))return m[0];if(m=a(),Rr){pa(!0);try{a()}finally{pa(!1)}}return f.memoizedState=[m,o],m}function q0(a,o,f){return f===void 0||(po&1073741824)!==0&&(It&261930)===0?a.memoizedState=o:(a.memoizedState=f,a=xp(),ft.lanes|=a,ml|=a,f)}function kh(a,o,f,m){return vr(f,o)?f:ba.current!==null?(a=q0(a,f,m),vr(a,o)||(tr=!0),a):(po&42)===0||(po&1073741824)!==0&&(It&261930)===0?(tr=!0,a.memoizedState=f):(a=xp(),ft.lanes|=a,ml|=a,o)}function G0(a,o,f,m,v){var w=J.p;J.p=w!==0&&8>w?w:8;var N=ee.T,D={};ee.T=D,rv(a,!1,o,f);try{var X=v(),ae=ee.S;if(ae!==null&&ae(D,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var ue=fS(X,m);Rh(a,o,ue,si(a))}else Rh(a,o,m,si(a))}catch(ye){Rh(a,o,{then:function(){},status:"rejected",reason:ye},si())}finally{J.p=w,N!==null&&D.types!==null&&(N.types=D.types),ee.T=N}}function dS(){}function ev(a,o,f,m){if(a.tag!==5)throw Error(r(476));var v=Nh(a).queue;G0(a,v,o,Ee,f===null?dS:function(){return nb(a),f(m)})}function Nh(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:Ee},next:null};var f={};return o.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:f},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function nb(a){var o=Nh(a);o.next===null&&(o=a.alternate.memoizedState),Rh(a,o.next.queue,{},si())}function tv(){return xr(Ec)}function W0(){return Cn().memoizedState}function Ch(){return Cn().memoizedState}function ns(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var f=si();a=Ei(f);var m=As(o,a,f);m!==null&&(oi(m,o,f),ph(m,o,f)),o={cache:oh()},a.payload=o;return}o=o.return}}function nv(a,o,f){var m=si();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},X0(a)?rb(o,f):(f=Jf(a,o,f,m),f!==null&&(oi(f,a,m),iv(f,o,m)))}function wa(a,o,f){var m=si();Rh(a,o,f,m)}function Rh(a,o,f,m){var v={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(X0(a))rb(o,v);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var N=o.lastRenderedState,D=w(N,f);if(v.hasEagerState=!0,v.eagerState=D,vr(D,N))return on(a,o,v,0),en===null&&er(),!1}catch{}finally{}if(f=Jf(a,o,v,m),f!==null)return oi(f,a,m),iv(f,o,m),!0}return!1}function rv(a,o,f,m){if(m={lane:2,revertLane:Cp(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},X0(a)){if(o)throw Error(r(479))}else o=Jf(a,f,m,2),o!==null&&oi(o,a,2)}function X0(a){var o=a.alternate;return a===ft||o!==null&&o===ft}function rb(a,o){al=Su=!0;var f=a.pending;f===null?o.next=o:(o.next=f.next,f.next=o),a.pending=o}function iv(a,o,f){if((f&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,f|=m,o.lanes=f,Zc(a,f)}}var cl={readContext:xr,use:ol,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useLayoutEffect:Tn,useInsertionEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useSyncExternalStore:Tn,useId:Tn,useHostTransitionStatus:Tn,useFormState:Tn,useActionState:Tn,useOptimistic:Tn,useMemoCache:Tn,useCacheRefresh:Tn};cl.useEffectEvent=Tn;var K0={readContext:xr,use:ol,useCallback:function(a,o){return Hr().memoizedState=[a,o===void 0?null:o],a},useContext:xr,useEffect:eb,useImperativeHandle:function(a,o,f){f=f!=null?f.concat([a]):null,ll(4194308,4,V0.bind(null,o,a),f)},useLayoutEffect:function(a,o){return ll(4194308,4,a,o)},useInsertionEffect:function(a,o){ll(4,2,a,o)},useMemo:function(a,o){var f=Hr();o=o===void 0?null:o;var m=a();if(Rr){pa(!0);try{a()}finally{pa(!1)}}return f.memoizedState=[m,o],m},useReducer:function(a,o,f){var m=Hr();if(f!==void 0){var v=f(o);if(Rr){pa(!0);try{f(o)}finally{pa(!1)}}}else v=o;return m.memoizedState=m.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},m.queue=a,a=a.dispatch=nv.bind(null,ft,a),[m.memoizedState,a]},useRef:function(a){var o=Hr();return a={current:a},o.memoizedState=a},useState:function(a){a=Eh(a);var o=a.queue,f=wa.bind(null,ft,o);return o.dispatch=f,[a.memoizedState,f]},useDebugValue:H0,useDeferredValue:function(a,o){var f=Hr();return q0(f,a,o)},useTransition:function(){var a=Eh(!1);return a=G0.bind(null,ft,a.queue,!0,!1),Hr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,f){var m=ft,v=Hr();if(Nt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=o(),en===null)throw Error(r(349));(It&127)!==0||bh(m,o,f)}v.memoizedState=f;var w={value:f,getSnapshot:o};return v.queue=w,eb(ta.bind(null,m,w,a),[a]),m.flags|=2048,mo(9,{destroy:void 0},z0.bind(null,m,w,f,o),null),f},useId:function(){var a=Hr(),o=en.identifierPrefix;if(Nt){var f=Es,m=cr;f=(m&~(1<<32-Sn(m)-1)).toString(32)+f,o="_"+o+"R_"+f,f=xh++,0<f&&(o+="H"+f.toString(32)),o+="_"}else f=hS++,o="_"+o+"r_"+f.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:tv,useFormState:Q1,useActionState:Q1,useOptimistic:function(a){var o=Hr();o.memoizedState=o.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=f,o=rv.bind(null,ft,!0,f),f.dispatch=o,[a,o]},useMemoCache:j0,useCacheRefresh:function(){return Hr().memoizedState=ns.bind(null,ft)},useEffectEvent:function(a){var o=Hr(),f={impl:a};return o.memoizedState=f,function(){if((Bt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},Y0={readContext:xr,use:ol,useCallback:Ah,useContext:xr,useEffect:ts,useImperativeHandle:Zg,useInsertionEffect:Th,useLayoutEffect:tb,useMemo:Ou,useReducer:P0,useRef:Jg,useState:function(){return P0(es)},useDebugValue:H0,useDeferredValue:function(a,o){var f=Cn();return kh(f,Dt.memoizedState,a,o)},useTransition:function(){var a=P0(es)[0],o=Cn().memoizedState;return[typeof a=="boolean"?a:hc(a),o]},useSyncExternalStore:U0,useId:W0,useHostTransitionStatus:tv,useFormState:J1,useActionState:J1,useOptimistic:function(a,o){var f=Cn();return Xg(f,Dt,a,o)},useMemoCache:j0,useCacheRefresh:Ch};Y0.useEffectEvent=Iu;var av={readContext:xr,use:ol,useCallback:Ah,useContext:xr,useEffect:ts,useImperativeHandle:Zg,useInsertionEffect:Th,useLayoutEffect:tb,useMemo:Ou,useReducer:B0,useRef:Jg,useState:function(){return B0(es)},useDebugValue:H0,useDeferredValue:function(a,o){var f=Cn();return Dt===null?q0(f,a,o):kh(f,Dt.memoizedState,a,o)},useTransition:function(){var a=B0(es)[0],o=Cn().memoizedState;return[typeof a=="boolean"?a:hc(a),o]},useSyncExternalStore:U0,useId:W0,useHostTransitionStatus:tv,useFormState:Qg,useActionState:Qg,useOptimistic:function(a,o){var f=Cn();return Dt!==null?Xg(f,Dt,a,o):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:j0,useCacheRefresh:Ch};av.useEffectEvent=Iu;function sv(a,o,f,m){o=a.memoizedState,f=f(m,o),f=f==null?o:x({},o,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var $0={enqueueSetState:function(a,o,f){a=a._reactInternals;var m=si(),v=Ei(m);v.payload=o,f!=null&&(v.callback=f),o=As(a,v,m),o!==null&&(oi(o,a,m),ph(o,a,m))},enqueueReplaceState:function(a,o,f){a=a._reactInternals;var m=si(),v=Ei(m);v.tag=1,v.payload=o,f!=null&&(v.callback=f),o=As(a,v,m),o!==null&&(oi(o,a,m),ph(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var f=si(),m=Ei(f);m.tag=2,o!=null&&(m.callback=o),o=As(a,m,f),o!==null&&(oi(o,a,f),ph(o,a,f))}};function ib(a,o,f,m,v,w,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,w,N):o.prototype&&o.prototype.isPureReactComponent?!Yf(f,m)||!Yf(v,w):!0}function ab(a,o,f,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,m),o.state!==a&&$0.enqueueReplaceState(o,o.state,null)}function ul(a,o){var f=o;if("ref"in o){f={};for(var m in o)m!=="ref"&&(f[m]=o[m])}if(a=a.defaultProps){f===o&&(f=x({},f));for(var v in a)f[v]===void 0&&(f[v]=a[v])}return f}function fl(a){Qf(a)}function ov(a){console.error(a)}function sb(a){Qf(a)}function Q0(a,o){try{var f=a.onUncaughtError;f(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function ni(a,o,f){try{var m=a.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Dh(a,o,f){return f=Ei(f),f.tag=3,f.payload={element:null},f.callback=function(){Q0(a,o)},f}function ob(a){return a=Ei(a),a.tag=3,a}function lb(a,o,f,m){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var w=m.value;a.payload=function(){return v(w)},a.callback=function(){ni(o,f,m)}}var N=f.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){ni(o,f,m),typeof v!="function"&&(xl===null?xl=new Set([this]):xl.add(this));var D=m.stack;this.componentDidCatch(m.value,{componentStack:D!==null?D:""})})}function pS(a,o,f,m,v){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=f.alternate,o!==null&&ac(o,f,v,!0),f=Ti.current,f!==null){switch(f.tag){case 31:case 13:return Cr===null?wp():f.alternate===null&&cn===0&&(cn=3),f.flags&=-257,f.flags|=65536,f.lanes=v,m===uc?f.flags|=16384:(o=f.updateQueue,o===null?f.updateQueue=new Set([m]):o.add(m),Vh(a,m,v)),!1;case 22:return f.flags|=65536,m===uc?f.flags|=16384:(o=f.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=o):(f=o.retryQueue,f===null?o.retryQueue=new Set([m]):f.add(m)),Vh(a,m,v)),!1}throw Error(r(435,f.tag))}return Vh(a,m,v),wp(),!1}if(Nt)return o=Ti.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==ah&&(a=Error(r(422),{cause:m}),xu(va(a,f)))):(m!==ah&&(o=Error(r(423),{cause:m}),xu(va(o,f))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,m=va(m,f),v=Dh(a.stateNode,m,v),Qa(a,v),cn!==4&&(cn=2)),!1;var w=Error(r(520),{cause:m});if(w=va(w,f),Ds===null?Ds=[w]:Ds.push(w),cn!==4&&(cn=2),o===null)return!0;m=va(m,f),f=o;do{switch(f.tag){case 3:return f.flags|=65536,a=v&-v,f.lanes|=a,a=Dh(f.stateNode,m,a),Qa(f,a),!1;case 1:if(o=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xl===null||!xl.has(w))))return f.flags|=65536,v&=-v,f.lanes|=v,v=ob(v),lb(v,a,f,m),Qa(f,v),!1}f=f.return}while(f!==null);return!1}var J0=Error(r(461)),tr=!1;function Dr(a,o,f,m){o.child=a===null?Eu(o,null,f,m):Ts(o,a.child,f,m)}function Z0(a,o,f,m,v){f=f.render;var w=o.ref;if("ref"in m){var N={};for(var D in m)D!=="ref"&&(N[D]=m[D])}else N=m;return sc(o),m=Tu(a,o,f,N,w,v),D=ku(),a!==null&&!tr?(L0(a,o,v),go(a,o,v)):(Nt&&D&&rh(o),o.flags|=1,Dr(a,o,m,v),o.child)}function ep(a,o,f,m,v){if(a===null){var w=f.type;return typeof w=="function"&&!Zo(w)&&w.defaultProps===void 0&&f.compare===null?(o.tag=15,o.type=w,lv(a,o,w,m,v)):(a=th(f.type,null,m,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!gv(a,v)){var N=w.memoizedProps;if(f=f.compare,f=f!==null?f:Yf,f(N,m)&&a.ref===o.ref)return go(a,o,v)}return o.flags|=1,a=ei(w,m),a.ref=o.ref,a.return=o,o.child=a}function lv(a,o,f,m,v){if(a!==null){var w=a.memoizedProps;if(Yf(w,m)&&a.ref===o.ref)if(tr=!1,o.pendingProps=m=w,gv(a,v))(a.flags&131072)!==0&&(tr=!0);else return o.lanes=a.lanes,go(a,o,v)}return cv(a,o,f,m,v)}function tp(a,o,f,m){var v=m.children,w=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|f:f,a!==null){for(m=o.child=a.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~w}else m=0,o.child=null;return np(a,o,w,f,m)}if((f&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&R0(o,w!==null?w.cachePool:null),w!==null?il(o,w):M0(),K1(o);else return m=o.lanes=536870912,np(a,o,w!==null?w.baseLanes|f:f,f,m)}else w!==null?(R0(o,w.cachePool),il(o,w),fr(),o.memoizedState=null):(a!==null&&R0(o,null),M0(),fr());return Dr(a,o,v,f),o.child}function mc(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function np(a,o,f,m,v){var w=Ug();return w=w===null?null:{parent:Gn._currentValue,pool:w},o.memoizedState={baseLanes:f,cachePool:w},a!==null&&R0(o,null),M0(),K1(o),a!==null&&ac(a,o,m,!0),o.childLanes=v,null}function Fu(a,o){return o=ip({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function cb(a,o,f){return Ts(o,a.child,null,f),a=Fu(o,o.pendingProps),a.flags|=2,Ai(o),o.memoizedState=null,a}function mS(a,o,f){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Nt){if(m.mode==="hidden")return a=Fu(o,m),o.lanes=536870912,mc(null,a);if(ks(o),(a=ln)?(a=ix(a,ya),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:jn!==null?{id:cr,overflow:Es}:null,retryLane:536870912,hydrationErrors:null},f=V1(a),f.return=o,o.child=f,ur=o,ln=null)):a=null,a===null)throw Ya(o);return o.lanes=536870912,null}return Fu(o,m)}var w=a.memoizedState;if(w!==null){var N=w.dehydrated;if(ks(o),v)if(o.flags&256)o.flags&=-257,o=cb(a,o,f);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(tr||ac(a,o,f,!1),v=(f&a.childLanes)!==0,tr||v){if(m=en,m!==null&&(N=Bf(m,f),N!==0&&N!==w.retryLane))throw w.retryLane=N,ea(a,N),oi(m,a,N),J0;wp(),o=cb(a,o,f)}else a=w.treeContext,ln=na(N.nextSibling),ur=o,Nt=!0,xa=null,ya=!1,a!==null&&Pg(o,a),o=Fu(o,m),o.flags|=4096;return o}return a=ei(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function rp(a,o){var f=o.ref;if(f===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(a===null||a.ref!==f)&&(o.flags|=4194816)}}function cv(a,o,f,m,v){return sc(o),f=Tu(a,o,f,m,void 0,v),m=ku(),a!==null&&!tr?(L0(a,o,v),go(a,o,v)):(Nt&&m&&rh(o),o.flags|=1,Dr(a,o,f,v),o.child)}function ub(a,o,f,m,v,w){return sc(o),o.updateQueue=null,f=qg(o,m,f,v),Au(a),m=ku(),a!==null&&!tr?(L0(a,o,w),go(a,o,w)):(Nt&&m&&rh(o),o.flags|=1,Dr(a,o,f,w),o.child)}function fb(a,o,f,m,v){if(sc(o),o.stateNode===null){var w=_s,N=f.contextType;typeof N=="object"&&N!==null&&(w=xr(N)),w=new f(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=$0,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},nl(o),N=f.contextType,w.context=typeof N=="object"&&N!==null?xr(N):_s,w.state=o.memoizedState,N=f.getDerivedStateFromProps,typeof N=="function"&&(sv(o,f,N,m),w.state=o.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&$0.enqueueReplaceState(w,w.state,null),Ja(o,m,w,v),gh(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){w=o.stateNode;var D=o.memoizedProps,X=ul(f,D);w.props=X;var ae=w.context,ue=f.contextType;N=_s,typeof ue=="object"&&ue!==null&&(N=xr(ue));var ye=f.getDerivedStateFromProps;ue=typeof ye=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,ue||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||ae!==N)&&ab(o,w,m,N),$a=!1;var le=o.memoizedState;w.state=le,Ja(o,m,w,v),gh(),ae=o.memoizedState,D||le!==ae||$a?(typeof ye=="function"&&(sv(o,f,ye,m),ae=o.memoizedState),(X=$a||ib(o,f,X,m,le,ae,N))?(ue||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ae),w.props=m,w.state=ae,w.context=N,m=X):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,rl(a,o),N=o.memoizedProps,ue=ul(f,N),w.props=ue,ye=o.pendingProps,le=w.context,ae=f.contextType,X=_s,typeof ae=="object"&&ae!==null&&(X=xr(ae)),D=f.getDerivedStateFromProps,(ae=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==ye||le!==X)&&ab(o,w,m,X),$a=!1,le=o.memoizedState,w.state=le,Ja(o,m,w,v),gh();var me=o.memoizedState;N!==ye||le!==me||$a||a!==null&&a.dependencies!==null&&A0(a.dependencies)?(typeof D=="function"&&(sv(o,f,D,m),me=o.memoizedState),(ue=$a||ib(o,f,ue,m,le,me,X)||a!==null&&a.dependencies!==null&&A0(a.dependencies))?(ae||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,me,X),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,me,X)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===a.memoizedProps&&le===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&le===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=me),w.props=m,w.state=me,w.context=X,m=ue):(typeof w.componentDidUpdate!="function"||N===a.memoizedProps&&le===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&le===a.memoizedState||(o.flags|=1024),m=!1)}return w=m,rp(a,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&m?(o.child=Ts(o,a.child,null,v),o.child=Ts(o,null,f,v)):Dr(a,o,f,v),o.memoizedState=w.state,a=o.child):a=go(a,o,v),a}function hb(a,o,f,m){return rc(),o.flags|=256,Dr(a,o,f,m),o.child}var uv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fv(a){return{baseLanes:a,cachePool:uh()}}function hv(a,o,f){return a=a!==null?a.childLanes&~f:0,o&&(a|=Ir),a}function db(a,o,f){var m=o.pendingProps,v=!1,w=(o.flags&128)!==0,N;if((N=w)||(N=a!==null&&a.memoizedState===null?!1:(Nn.current&2)!==0),N&&(v=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,a===null){if(Nt){if(v?ho(o):fr(),(a=ln)?(a=ix(a,ya),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:jn!==null?{id:cr,overflow:Es}:null,retryLane:536870912,hydrationErrors:null},f=V1(a),f.return=o,o.child=f,ur=o,ln=null)):a=null,a===null)throw Ya(o);return Xn(a)?o.lanes=32:o.lanes=536870912,null}var D=m.children;return m=m.fallback,v?(fr(),v=o.mode,D=ip({mode:"hidden",children:D},v),m=wi(m,v,f,null),D.return=o,m.return=o,D.sibling=m,o.child=D,m=o.child,m.memoizedState=fv(f),m.childLanes=hv(a,N,f),o.memoizedState=uv,mc(null,m)):(ho(o),dv(o,D))}var X=a.memoizedState;if(X!==null&&(D=X.dehydrated,D!==null)){if(w)o.flags&256?(ho(o),o.flags&=-257,o=pv(a,o,f)):o.memoizedState!==null?(fr(),o.child=a.child,o.flags|=128,o=null):(fr(),D=m.fallback,v=o.mode,m=ip({mode:"visible",children:m.children},v),D=wi(D,v,f,null),D.flags|=2,m.return=o,D.return=o,m.sibling=D,o.child=m,Ts(o,a.child,null,f),m=o.child,m.memoizedState=fv(f),m.childLanes=hv(a,N,f),o.memoizedState=uv,o=mc(null,m));else if(ho(o),Xn(D)){if(N=D.nextSibling&&D.nextSibling.dataset,N)var ae=N.dgst;N=ae,m=Error(r(419)),m.stack="",m.digest=N,xu({value:m,source:null,stack:null}),o=pv(a,o,f)}else if(tr||ac(a,o,f,!1),N=(f&a.childLanes)!==0,tr||N){if(N=en,N!==null&&(m=Bf(N,f),m!==0&&m!==X.retryLane))throw X.retryLane=m,ea(a,m),oi(N,a,m),J0;Mp(D)||wp(),o=pv(a,o,f)}else Mp(D)?(o.flags|=192,o.child=a.child,o=null):(a=X.treeContext,ln=na(D.nextSibling),ur=o,Nt=!0,xa=null,ya=!1,a!==null&&Pg(o,a),o=dv(o,m.children),o.flags|=4096);return o}return v?(fr(),D=m.fallback,v=o.mode,X=a.child,ae=X.sibling,m=ei(X,{mode:"hidden",children:m.children}),m.subtreeFlags=X.subtreeFlags&65011712,ae!==null?D=ei(ae,D):(D=wi(D,v,f,null),D.flags|=2),D.return=o,m.return=o,m.sibling=D,o.child=m,mc(null,m),m=o.child,D=a.child.memoizedState,D===null?D=fv(f):(v=D.cachePool,v!==null?(X=Gn._currentValue,v=v.parent!==X?{parent:X,pool:X}:v):v=uh(),D={baseLanes:D.baseLanes|f,cachePool:v}),m.memoizedState=D,m.childLanes=hv(a,N,f),o.memoizedState=uv,mc(a.child,m)):(ho(o),f=a.child,a=f.sibling,f=ei(f,{mode:"visible",children:m.children}),f.return=o,f.sibling=null,a!==null&&(N=o.deletions,N===null?(o.deletions=[a],o.flags|=16):N.push(a)),o.child=f,o.memoizedState=null,f)}function dv(a,o){return o=ip({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function ip(a,o){return a=bi(22,a,null,o),a.lanes=0,a}function pv(a,o,f){return Ts(o,a.child,null,f),a=dv(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function pb(a,o,f){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),sh(a.return,o,f)}function mv(a,o,f,m,v,w){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:v,treeForkCount:w}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=f,N.tailMode=v,N.treeForkCount=w)}function mb(a,o,f){var m=o.pendingProps,v=m.revealOrder,w=m.tail;m=m.children;var N=Nn.current,D=(N&2)!==0;if(D?(N=N&1|2,o.flags|=128):N&=1,V(Nn,N),Dr(a,o,m,f),m=Nt?nc:0,!D&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&pb(a,f,o);else if(a.tag===19)pb(a,f,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(f=o.child,v=null;f!==null;)a=f.alternate,a!==null&&Za(a)===null&&(v=f),f=f.sibling;f=v,f===null?(v=o.child,o.child=null):(v=f.sibling,f.sibling=null),mv(o,!1,v,f,w,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Za(a)===null){o.child=v;break}a=v.sibling,v.sibling=f,f=v,v=a}mv(o,!0,f,null,w,m);break;case"together":mv(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function go(a,o,f){if(a!==null&&(o.dependencies=a.dependencies),ml|=o.lanes,(f&o.childLanes)===0)if(a!==null){if(ac(a,o,f,!1),(f&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,f=ei(a,a.pendingProps),o.child=f,f.return=o;a.sibling!==null;)a=a.sibling,f=f.sibling=ei(a,a.pendingProps),f.return=o;f.sibling=null}return o.child}function gv(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&A0(a)))}function gb(a,o,f){switch(o.tag){case 3:Ne(o,o.stateNode.containerInfo),el(o,Gn,a.memoizedState.cache),rc();break;case 27:case 5:Re(o);break;case 4:Ne(o,o.stateNode.containerInfo);break;case 10:el(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,ks(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(ho(o),o.flags|=128,null):(f&o.child.childLanes)!==0?db(a,o,f):(ho(o),a=go(a,o,f),a!==null?a.sibling:null);ho(o);break;case 19:var v=(a.flags&128)!==0;if(m=(f&o.childLanes)!==0,m||(ac(a,o,f,!1),m=(f&o.childLanes)!==0),v){if(m)return mb(a,o,f);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),V(Nn,Nn.current),m)break;return null;case 22:return o.lanes=0,tp(a,o,f,o.pendingProps);case 24:el(o,Gn,a.memoizedState.cache)}return go(a,o,f)}function vv(a,o,f){if(a!==null)if(a.memoizedProps!==o.pendingProps)tr=!0;else{if(!gv(a,f)&&(o.flags&128)===0)return tr=!1,gb(a,o,f);tr=(a.flags&131072)!==0}else tr=!1,Nt&&(o.flags&1048576)!==0&&E0(o,nc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=tl(o.elementType),o.type=a,typeof a=="function")Zo(a)?(m=ul(a,m),o.tag=1,o=fb(null,o,a,m,f)):(o.tag=0,o=cv(null,o,a,m,f));else{if(a!=null){var v=a.$$typeof;if(v===O){o.tag=11,o=Z0(null,o,a,m,f);break e}else if(v===C){o.tag=14,o=ep(null,o,a,m,f);break e}}throw o=De(a)||a,Error(r(306,o,""))}}return o;case 0:return cv(a,o,o.type,o.pendingProps,f);case 1:return m=o.type,v=ul(m,o.pendingProps),fb(a,o,m,v,f);case 3:e:{if(Ne(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var w=o.memoizedState;v=w.element,rl(a,o),Ja(o,m,null,f);var N=o.memoizedState;if(m=N.cache,el(o,Gn,m),m!==w.cache&&T0(o,[Gn],f,!0),gh(),m=N.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=hb(a,o,m,f);break e}else if(m!==v){v=va(Error(r(424)),o),xu(v),o=hb(a,o,m,f);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ln=na(a.firstChild),ur=o,Nt=!0,xa=null,ya=!0,f=Eu(o,null,m,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(rc(),m===v){o=go(a,o,f);break e}Dr(a,o,m,f)}o=o.child}return o;case 26:return rp(a,o),a===null?(f=$b(o.type,null,o.pendingProps,null))?o.memoizedState=f:Nt||(f=o.type,a=o.pendingProps,m=El(se.current).createElement(f),m[U]=o,m[q]=a,Or(m,f,a),$e(m),o.stateNode=m):o.memoizedState=$b(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Re(o),a===null&&Nt&&(m=o.stateNode=Lp(o.type,o.pendingProps,se.current),ur=o,ya=!0,v=ln,Tl(o.type)?(ax=v,ln=na(m.firstChild)):ln=v),Dr(a,o,o.pendingProps.children,f),rp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Nt&&((v=m=ln)&&(m=zb(m,o.type,o.pendingProps,ya),m!==null?(o.stateNode=m,ur=o,ln=na(m.firstChild),ya=!1,v=!0):v=!1),v||Ya(o)),Re(o),v=o.type,w=o.pendingProps,N=a!==null?a.memoizedProps:null,m=w.children,Kh(v,w)?m=null:N!==null&&Kh(v,N)&&(o.flags|=32),o.memoizedState!==null&&(v=Tu(a,o,Gg,null,null,f),Ec._currentValue=v),rp(a,o),Dr(a,o,m,f),o.child;case 6:return a===null&&Nt&&((a=f=ln)&&(f=Vb(f,o.pendingProps,ya),f!==null?(o.stateNode=f,ur=o,ln=null,a=!0):a=!1),a||Ya(o)),null;case 13:return db(a,o,f);case 4:return Ne(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=Ts(o,null,m,f):Dr(a,o,m,f),o.child;case 11:return Z0(a,o,o.type,o.pendingProps,f);case 7:return Dr(a,o,o.pendingProps,f),o.child;case 8:return Dr(a,o,o.pendingProps.children,f),o.child;case 12:return Dr(a,o,o.pendingProps.children,f),o.child;case 10:return m=o.pendingProps,el(o,o.type,m.value),Dr(a,o,m.children,f),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,sc(o),v=xr(v),m=m(v),o.flags|=1,Dr(a,o,m,f),o.child;case 14:return ep(a,o,o.type,o.pendingProps,f);case 15:return lv(a,o,o.type,o.pendingProps,f);case 19:return mb(a,o,f);case 31:return mS(a,o,f);case 22:return tp(a,o,f,o.pendingProps);case 24:return sc(o),m=xr(Gn),a===null?(v=Ug(),v===null&&(v=en,w=oh(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=f),v=w),o.memoizedState={parent:m,cache:v},nl(o),el(o,Gn,v)):((a.lanes&f)!==0&&(rl(a,o),Ja(o,null,null,f),gh()),v=a.memoizedState,w=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),el(o,Gn,m)):(m=w.cache,el(o,Gn,m),m!==v.cache&&T0(o,[Gn],f,!0))),Dr(a,o,o.pendingProps.children,f),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function vo(a){a.flags|=4}function xv(a,o,f,m,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(Mv())a.flags|=8192;else throw uo=uc,D0}else a.flags&=-16777217}function vb(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!ew(o))if(Mv())a.flags|=8192;else throw uo=uc,D0}function ap(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?jf():536870912,a.lanes|=o,Ta|=o)}function Ih(a,o){if(!Nt)switch(a.tailMode){case"hidden":o=a.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function wn(a){var o=a.alternate!==null&&a.alternate.child===a.child,f=0,m=0;if(o)for(var v=a.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=m,a.childLanes=f,o}function gS(a,o,f){var m=o.pendingProps;switch(ih(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(o),null;case 1:return wn(o),null;case 3:return f=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),lo(Gn),Te(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(vu(o)?vo(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Bg())),wn(o),null;case 26:var v=o.type,w=o.memoizedState;return a===null?(vo(o),w!==null?(wn(o),vb(o,w)):(wn(o),xv(o,v,null,m,f))):w?w!==a.memoizedState?(vo(o),wn(o),vb(o,w)):(wn(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&vo(o),wn(o),xv(o,v,a,m,f)),null;case 27:if(rt(o),f=se.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&vo(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return wn(o),null}a=H.current,vu(o)?gu(o):(a=Lp(v,m,f),o.stateNode=a,vo(o))}return wn(o),null;case 5:if(rt(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&vo(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return wn(o),null}if(w=H.current,vu(o))gu(o);else{var N=El(se.current);switch(w){case 1:w=N.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:w=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":w=N.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":w=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":w=N.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?N.createElement(v,{is:m.is}):N.createElement(v)}}w[U]=o,w[q]=m;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)w.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=w;e:switch(Or(w,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&vo(o)}}return wn(o),xv(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,f),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&vo(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=se.current,vu(o)){if(a=o.stateNode,f=o.memoizedProps,m=null,v=ur,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}a[U]=o,a=!!(a.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||Uu(a.nodeValue,f)),a||Ya(o,!0)}else a=El(a).createTextNode(m),a[U]=o,o.stateNode=a}return wn(o),null;case 31:if(f=o.memoizedState,a===null||a.memoizedState!==null){if(m=vu(o),f!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[U]=o}else rc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;wn(o),a=!1}else f=Bg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return o.flags&256?(Ai(o),o):(Ai(o),null);if((o.flags&128)!==0)throw Error(r(558))}return wn(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=vu(o),m!==null&&m.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[U]=o}else rc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;wn(o),v=!1}else v=Bg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Ai(o),o):(Ai(o),null)}return Ai(o),(o.flags&128)!==0?(o.lanes=f,o):(f=m!==null,a=a!==null&&a.memoizedState!==null,f&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==v&&(m.flags|=2048)),f!==a&&f&&(o.child.flags|=8192),ap(o,o.updateQueue),wn(o),null);case 4:return Te(),a===null&&Dp(o.stateNode.containerInfo),wn(o),null;case 10:return lo(o.type),wn(o),null;case 19:if(F(Nn),m=o.memoizedState,m===null)return wn(o),null;if(v=(o.flags&128)!==0,w=m.rendering,w===null)if(v)Ih(m,!1);else{if(cn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=Za(a),w!==null){for(o.flags|=128,Ih(m,!1),a=w.updateQueue,o.updateQueue=a,ap(o,a),o.subtreeFlags=0,a=f,f=o.child;f!==null;)Lg(f,a),f=f.sibling;return V(Nn,Nn.current&1|2),Nt&&oo(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&st()>mp&&(o.flags|=128,v=!0,Ih(m,!1),o.lanes=4194304)}else{if(!v)if(a=Za(w),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,ap(o,a),Ih(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Nt)return wn(o),null}else 2*st()-m.renderingStartTime>mp&&f!==536870912&&(o.flags|=128,v=!0,Ih(m,!1),o.lanes=4194304);m.isBackwards?(w.sibling=o.child,o.child=w):(a=m.last,a!==null?a.sibling=w:o.child=w,m.last=w)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=st(),a.sibling=null,f=Nn.current,V(Nn,v?f&1|2:f&1),Nt&&oo(o,m.treeForkCount),a):(wn(o),null);case 22:case 23:return Ai(o),fo(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(f&536870912)!==0&&(o.flags&128)===0&&(wn(o),o.subtreeFlags&6&&(o.flags|=8192)):wn(o),f=o.updateQueue,f!==null&&ap(o,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048),a!==null&&F(cc),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),lo(Gn),wn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function xb(a,o){switch(ih(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return lo(Gn),Te(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return rt(o),null;case 31:if(o.memoizedState!==null){if(Ai(o),o.alternate===null)throw Error(r(340));rc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Ai(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));rc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return F(Nn),null;case 4:return Te(),null;case 10:return lo(o.type),null;case 22:case 23:return Ai(o),fo(),a!==null&&F(cc),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return lo(Gn),null;case 25:return null;default:return null}}function yb(a,o){switch(ih(o),o.tag){case 3:lo(Gn),Te();break;case 26:case 27:case 5:rt(o);break;case 4:Te();break;case 31:o.memoizedState!==null&&Ai(o);break;case 13:Ai(o);break;case 19:F(Nn);break;case 10:lo(o.type);break;case 22:case 23:Ai(o),fo(),a!==null&&F(cc);break;case 24:lo(Gn)}}function Oh(a,o){try{var f=o.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var v=m.next;f=v;do{if((f.tag&a)===a){m=void 0;var w=f.create,N=f.inst;m=w(),N.destroy=m}f=f.next}while(f!==v)}}catch(D){Wt(o,o.return,D)}}function hl(a,o,f){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var w=v.next;m=w;do{if((m.tag&a)===a){var N=m.inst,D=N.destroy;if(D!==void 0){N.destroy=void 0,v=o;var X=f,ae=D;try{ae()}catch(ue){Wt(v,X,ue)}}}m=m.next}while(m!==w)}}catch(ue){Wt(o,o.return,ue)}}function bb(a){var o=a.updateQueue;if(o!==null){var f=a.stateNode;try{Si(o,f)}catch(m){Wt(a,a.return,m)}}}function Ct(a,o,f){f.props=ul(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(m){Wt(a,o,m)}}function Mu(a,o){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof f=="function"?a.refCleanup=f(m):f.current=m}}catch(v){Wt(a,o,v)}}function _a(a,o){var f=a.ref,m=a.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(v){Wt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){Wt(a,o,v)}else f.current=null}function wb(a){var o=a.type,f=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(v){Wt(a,a.return,v)}}function yv(a,o,f){try{var m=a.stateNode;Bb(m,a.type,f,o),m[q]=o}catch(v){Wt(a,a.return,v)}}function _b(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Tl(a.type)||a.tag===4}function bv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||_b(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Tl(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function wv(a,o,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,o):(o=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,o.appendChild(a),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=Qe));else if(m!==4&&(m===27&&Tl(a.type)&&(f=a.stateNode,o=null),a=a.child,a!==null))for(wv(a,o,f),a=a.sibling;a!==null;)wv(a,o,f),a=a.sibling}function sp(a,o,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?f.insertBefore(a,o):f.appendChild(a);else if(m!==4&&(m===27&&Tl(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(sp(a,o,f),a=a.sibling;a!==null;)sp(a,o,f),a=a.sibling}function Eb(a){var o=a.stateNode,f=a.memoizedProps;try{for(var m=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Or(o,m,f),o[U]=a,o[q]=f}catch(w){Wt(a,a.return,w)}}var Ea=!1,nr=!1,op=!1,lp=typeof WeakSet=="function"?WeakSet:Set,rr=null;function Sb(a,o){if(a=a.containerInfo,Jv=td,a=Rg(a),Dg(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var v=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var N=0,D=-1,X=-1,ae=0,ue=0,ye=a,le=null;t:for(;;){for(var me;ye!==f||v!==0&&ye.nodeType!==3||(D=N+v),ye!==w||m!==0&&ye.nodeType!==3||(X=N+m),ye.nodeType===3&&(N+=ye.nodeValue.length),(me=ye.firstChild)!==null;)le=ye,ye=me;for(;;){if(ye===a)break t;if(le===f&&++ae===v&&(D=N),le===w&&++ue===m&&(X=N),(me=ye.nextSibling)!==null)break;ye=le,le=ye.parentNode}ye=me}f=D===-1||X===-1?null:{start:D,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for(To={focusedElem:a,selectionRange:f},td=!1,rr=o;rr!==null;)if(o=rr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,rr=a;else for(;rr!==null;){switch(o=rr,w=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(f=0;f<a.length;f++)v=a[f],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,f=o,v=w.memoizedProps,w=w.memoizedState,m=f.stateNode;try{var Ye=ul(f.type,v);a=m.getSnapshotBeforeUpdate(Ye,w),m.__reactInternalSnapshotBeforeUpdate=a}catch(lt){Wt(f,f.return,lt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,f=a.nodeType,f===9)bc(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":bc(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,rr=a;break}rr=o.return}}function _v(a,o,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Ns(a,f),m&4&&Oh(5,f);break;case 1:if(Ns(a,f),m&4)if(a=f.stateNode,o===null)try{a.componentDidMount()}catch(N){Wt(f,f.return,N)}else{var v=ul(f.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(N){Wt(f,f.return,N)}}m&64&&bb(f),m&512&&Mu(f,f.return);break;case 3:if(Ns(a,f),m&64&&(a=f.updateQueue,a!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{Si(a,o)}catch(N){Wt(f,f.return,N)}}break;case 27:o===null&&m&4&&Eb(f);case 26:case 5:Ns(a,f),o===null&&m&4&&wb(f),m&512&&Mu(f,f.return);break;case 12:Ns(a,f);break;case 31:Ns(a,f),m&4&&Sv(a,f);break;case 13:Ns(a,f),m&4&&Tv(a,f),m&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=Ap.bind(null,f),TS(a,f))));break;case 22:if(m=f.memoizedState!==null||Ea,!m){o=o!==null&&o.memoizedState!==null||nr,v=Ea;var w=nr;Ea=m,(nr=o)&&!w?bo(a,f,(f.subtreeFlags&8772)!==0):Ns(a,f),Ea=v,nr=w}break;case 30:break;default:Ns(a,f)}}function Ev(a){var o=a.alternate;o!==null&&(a.alternate=null,Ev(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Fe(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var _n=null,yr=!1;function xo(a,o,f){for(f=f.child;f!==null;)Tb(a,o,f),f=f.sibling}function Tb(a,o,f){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(mn,f)}catch{}switch(f.tag){case 26:nr||_a(f,o),xo(a,o,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:nr||_a(f,o);var m=_n,v=yr;Tl(f.type)&&(_n=f.stateNode,yr=!1),xo(a,o,f),zu(f.stateNode),_n=m,yr=v;break;case 5:nr||_a(f,o);case 6:if(m=_n,v=yr,_n=null,xo(a,o,f),_n=m,yr=v,_n!==null)if(yr)try{(_n.nodeType===9?_n.body:_n.nodeName==="HTML"?_n.ownerDocument.body:_n).removeChild(f.stateNode)}catch(w){Wt(f,o,w)}else try{_n.removeChild(f.stateNode)}catch(w){Wt(f,o,w)}break;case 18:_n!==null&&(yr?(a=_n,Ub(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),rn(a)):Ub(_n,f.stateNode));break;case 4:m=_n,v=yr,_n=f.stateNode.containerInfo,yr=!0,xo(a,o,f),_n=m,yr=v;break;case 0:case 11:case 14:case 15:hl(2,f,o),nr||hl(4,f,o),xo(a,o,f);break;case 1:nr||(_a(f,o),m=f.stateNode,typeof m.componentWillUnmount=="function"&&Ct(f,o,m)),xo(a,o,f);break;case 21:xo(a,o,f);break;case 22:nr=(m=nr)||f.memoizedState!==null,xo(a,o,f),nr=m;break;default:xo(a,o,f)}}function Sv(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{rn(a)}catch(f){Wt(o,o.return,f)}}}function Tv(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{rn(a)}catch(f){Wt(o,o.return,f)}}function Ab(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new lp),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new lp),o;default:throw Error(r(435,a.tag))}}function cp(a,o){var f=Ab(a);o.forEach(function(m){if(!f.has(m)){f.add(m);var v=bS.bind(null,a,m);m.then(v,v)}})}function ri(a,o){var f=o.deletions;if(f!==null)for(var m=0;m<f.length;m++){var v=f[m],w=a,N=o,D=N;e:for(;D!==null;){switch(D.tag){case 27:if(Tl(D.type)){_n=D.stateNode,yr=!1;break e}break;case 5:_n=D.stateNode,yr=!1;break e;case 3:case 4:_n=D.stateNode.containerInfo,yr=!0;break e}D=D.return}if(_n===null)throw Error(r(160));Tb(w,N,v),_n=null,yr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Av(o,a),o=o.sibling}var Sa=null;function Av(a,o){var f=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ri(o,a),ii(a),m&4&&(hl(3,a,a.return),Oh(3,a),hl(5,a,a.return));break;case 1:ri(o,a),ii(a),m&512&&(nr||f===null||_a(f,f.return)),m&64&&Ea&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var v=Sa;if(ri(o,a),ii(a),m&512&&(nr||f===null||_a(f,f.return)),m&4){var w=f!==null?f.memoizedState:null;if(m=a.memoizedState,f===null)if(m===null)if(a.stateNode===null){e:{m=a.type,f=a.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":w=v.getElementsByTagName("title")[0],(!w||w[pe]||w[U]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(m),v.head.insertBefore(w,v.querySelector("head > title"))),Or(w,m,f),w[U]=a,$e(w),m=w;break e;case"link":var N=xt("link","href",v).get(m+(f.href||""));if(N){for(var D=0;D<N.length;D++)if(w=N[D],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){N.splice(D,1);break t}}w=v.createElement(m),Or(w,m,f),v.head.appendChild(w);break;case"meta":if(N=xt("meta","content",v).get(m+(f.content||""))){for(D=0;D<N.length;D++)if(w=N[D],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){N.splice(D,1);break t}}w=v.createElement(m),Or(w,m,f),v.head.appendChild(w);break;default:throw Error(r(468,m))}w[U]=a,$e(w),m=w}a.stateNode=m}else Jh(v,a.type,a.stateNode);else a.stateNode=Zb(v,m,a.memoizedProps);else w!==m?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,m===null?Jh(v,a.type,a.stateNode):Zb(v,m,a.memoizedProps)):m===null&&a.stateNode!==null&&yv(a,a.memoizedProps,f.memoizedProps)}break;case 27:ri(o,a),ii(a),m&512&&(nr||f===null||_a(f,f.return)),f!==null&&m&4&&yv(a,a.memoizedProps,f.memoizedProps);break;case 5:if(ri(o,a),ii(a),m&512&&(nr||f===null||_a(f,f.return)),a.flags&32){v=a.stateNode;try{Yl(v,"")}catch(Ye){Wt(a,a.return,Ye)}}m&4&&a.stateNode!=null&&(v=a.memoizedProps,yv(a,v,f!==null?f.memoizedProps:v)),m&1024&&(op=!0);break;case 6:if(ri(o,a),ii(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,f=a.stateNode;try{f.nodeValue=m}catch(Ye){Wt(a,a.return,Ye)}}break;case 3:if(zt=null,v=Sa,Sa=Vu(o.containerInfo),ri(o,a),Sa=v,ii(a),m&4&&f!==null&&f.memoizedState.isDehydrated)try{rn(o.containerInfo)}catch(Ye){Wt(a,a.return,Ye)}op&&(op=!1,up(a));break;case 4:m=Sa,Sa=Vu(a.stateNode.containerInfo),ri(o,a),ii(a),Sa=m;break;case 12:ri(o,a),ii(a);break;case 31:ri(o,a),ii(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,cp(a,m)));break;case 13:ri(o,a),ii(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(dp=st()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,cp(a,m)));break;case 22:v=a.memoizedState!==null;var X=f!==null&&f.memoizedState!==null,ae=Ea,ue=nr;if(Ea=ae||v,nr=ue||X,ri(o,a),nr=ue,Ea=ae,ii(a),m&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(f===null||X||Ea||nr||yo(a)),f=null,o=a;;){if(o.tag===5||o.tag===26){if(f===null){X=f=o;try{if(w=X.stateNode,v)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{D=X.stateNode;var ye=X.memoizedProps.style,le=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;D.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Ye){Wt(X,X.return,Ye)}}}else if(o.tag===6){if(f===null){X=o;try{X.stateNode.nodeValue=v?"":X.memoizedProps}catch(Ye){Wt(X,X.return,Ye)}}}else if(o.tag===18){if(f===null){X=o;try{var me=X.stateNode;v?Qh(me,!0):Qh(X.stateNode,!1)}catch(Ye){Wt(X,X.return,Ye)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,cp(a,f))));break;case 19:ri(o,a),ii(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,cp(a,m)));break;case 30:break;case 21:break;default:ri(o,a),ii(a)}}function ii(a){var o=a.flags;if(o&2){try{for(var f,m=a.return;m!==null;){if(_b(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var v=f.stateNode,w=bv(a);sp(a,w,v);break;case 5:var N=f.stateNode;f.flags&32&&(Yl(N,""),f.flags&=-33);var D=bv(a);sp(a,D,N);break;case 3:case 4:var X=f.stateNode.containerInfo,ae=bv(a);wv(a,ae,X);break;default:throw Error(r(161))}}catch(ue){Wt(a,a.return,ue)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function up(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;up(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ns(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)_v(a,o.alternate,o),o=o.sibling}function yo(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:hl(4,o,o.return),yo(o);break;case 1:_a(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&Ct(o,o.return,f),yo(o);break;case 27:zu(o.stateNode);case 26:case 5:_a(o,o.return),yo(o);break;case 22:o.memoizedState===null&&yo(o);break;case 30:yo(o);break;default:yo(o)}a=a.sibling}}function bo(a,o,f){for(f=f&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=a,w=o,N=w.flags;switch(w.tag){case 0:case 11:case 15:bo(v,w,f),Oh(4,w);break;case 1:if(bo(v,w,f),m=w,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ae){Wt(m,m.return,ae)}if(m=w,v=m.updateQueue,v!==null){var D=m.stateNode;try{var X=v.shared.hiddenCallbacks;if(X!==null)for(v.shared.hiddenCallbacks=null,v=0;v<X.length;v++)Hg(X[v],D)}catch(ae){Wt(m,m.return,ae)}}f&&N&64&&bb(w),Mu(w,w.return);break;case 27:Eb(w);case 26:case 5:bo(v,w,f),f&&m===null&&N&4&&wb(w),Mu(w,w.return);break;case 12:bo(v,w,f);break;case 31:bo(v,w,f),f&&N&4&&Sv(v,w);break;case 13:bo(v,w,f),f&&N&4&&Tv(v,w);break;case 22:w.memoizedState===null&&bo(v,w,f),Mu(w,w.return);break;case 30:break;default:bo(v,w,f)}o=o.sibling}}function fp(a,o){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&yu(f))}function Fh(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&yu(a))}function ki(a,o,f,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)hp(a,o,f,m),o=o.sibling}function hp(a,o,f,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ki(a,o,f,m),v&2048&&Oh(9,o);break;case 1:ki(a,o,f,m);break;case 3:ki(a,o,f,m),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&yu(a)));break;case 12:if(v&2048){ki(a,o,f,m),a=o.stateNode;try{var w=o.memoizedProps,N=w.id,D=w.onPostCommit;typeof D=="function"&&D(N,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(X){Wt(o,o.return,X)}}else ki(a,o,f,m);break;case 31:ki(a,o,f,m);break;case 13:ki(a,o,f,m);break;case 23:break;case 22:w=o.stateNode,N=o.alternate,o.memoizedState!==null?w._visibility&2?ki(a,o,f,m):wo(a,o):w._visibility&2?ki(a,o,f,m):(w._visibility|=2,Cs(a,o,f,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&fp(N,o);break;case 24:ki(a,o,f,m),v&2048&&Fh(o.alternate,o);break;default:ki(a,o,f,m)}}function Cs(a,o,f,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=a,N=o,D=f,X=m,ae=N.flags;switch(N.tag){case 0:case 11:case 15:Cs(w,N,D,X,v),Oh(8,N);break;case 23:break;case 22:var ue=N.stateNode;N.memoizedState!==null?ue._visibility&2?Cs(w,N,D,X,v):wo(w,N):(ue._visibility|=2,Cs(w,N,D,X,v)),v&&ae&2048&&fp(N.alternate,N);break;case 24:Cs(w,N,D,X,v),v&&ae&2048&&Fh(N.alternate,N);break;default:Cs(w,N,D,X,v)}o=o.sibling}}function wo(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var f=a,m=o,v=m.flags;switch(m.tag){case 22:wo(f,m),v&2048&&fp(m.alternate,m);break;case 24:wo(f,m),v&2048&&Fh(m.alternate,m);break;default:wo(f,m)}o=o.sibling}}var Rs=8192;function gc(a,o,f){if(a.subtreeFlags&Rs)for(a=a.child;a!==null;)kv(a,o,f),a=a.sibling}function kv(a,o,f){switch(a.tag){case 26:gc(a,o,f),a.flags&Rs&&a.memoizedState!==null&&Pn(f,Sa,a.memoizedState,a.memoizedProps);break;case 5:gc(a,o,f);break;case 3:case 4:var m=Sa;Sa=Vu(a.stateNode.containerInfo),gc(a,o,f),Sa=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Rs,Rs=16777216,gc(a,o,f),Rs=m):gc(a,o,f));break;default:gc(a,o,f)}}function kb(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Lu(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var m=o[f];rr=m,Mh(m,a)}kb(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Nv(a),a=a.sibling}function Nv(a){switch(a.tag){case 0:case 11:case 15:Lu(a),a.flags&2048&&hl(9,a,a.return);break;case 3:Lu(a);break;case 12:Lu(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,dl(a)):Lu(a);break;default:Lu(a)}}function dl(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var m=o[f];rr=m,Mh(m,a)}kb(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:hl(8,o,o.return),dl(o);break;case 22:f=o.stateNode,f._visibility&2&&(f._visibility&=-3,dl(o));break;default:dl(o)}a=a.sibling}}function Mh(a,o){for(;rr!==null;){var f=rr;switch(f.tag){case 0:case 11:case 15:hl(8,f,o);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:yu(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,rr=m;else e:for(f=a;rr!==null;){m=rr;var v=m.sibling,w=m.return;if(Ev(m),m===f){rr=null;break e}if(v!==null){v.return=w,rr=v;break e}rr=w}}}var Nb={getCacheForType:function(a){var o=xr(Gn),f=o.data.get(a);return f===void 0&&(f=a(),o.data.set(a,f)),f},cacheSignal:function(){return xr(Gn).controller.signal}},vS=typeof WeakMap=="function"?WeakMap:Map,Bt=0,en=null,Tt=null,It=0,tn=0,ai=null,pl=!1,ju=!1,Cv=!1,_o=0,cn=0,ml=0,gl=0,Lh=0,Ir=0,Ta=0,Ds=null,Ni=null,vl=!1,dp=0,pp=0,mp=1/0,Pu=null,xl=null,hr=0,yl=null,Eo=null,Aa=0,gp=0,Rv=null,Dv=null,vc=0,vp=null;function si(){return(Bt&2)!==0&&It!==0?It&-It:ee.T!==null?Cp():L()}function xp(){if(Ir===0)if((It&536870912)===0||Nt){var a=Gl;Gl<<=1,(Gl&3932160)===0&&(Gl=262144),Ir=a}else Ir=536870912;return a=Ti.current,a!==null&&(a.flags|=32),Ir}function oi(a,o,f){(a===en&&(tn===2||tn===9)||a.cancelPendingCommit!==null)&&(Bu(a,0),rs(a,It,Ir,!1)),Zn(a,f),((Bt&2)===0||a!==en)&&(a===en&&((Bt&2)===0&&(gl|=f),cn===4&&rs(a,It,Ir,!1)),Na(a))}function Iv(a,o,f){if((Bt&6)!==0)throw Error(r(327));var m=!f&&(o&127)===0&&(o&a.expiredLanes)===0||Wl(a,o),v=m?Lv(a,o):jh(a,o,!0),w=m;do{if(v===0){ju&&!m&&rs(a,o,0,!1);break}else{if(f=a.current.alternate,w&&!Rb(f)){v=jh(a,o,!1),w=!1;continue}if(v===2){if(w=o,a.errorRecoveryDisabledLanes&w)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var D=a;v=Ds;var X=D.current.memoizedState.isDehydrated;if(X&&(Bu(D,N).flags|=256),N=jh(D,N,!1),N!==2){if(Cv&&!X){D.errorRecoveryDisabledLanes|=w,gl|=w,v=4;break e}w=Ni,Ni=v,w!==null&&(Ni===null?Ni=w:Ni.push.apply(Ni,w))}v=N}if(w=!1,v!==2)continue}}if(v===1){Bu(a,0),rs(a,o,0,!0);break}e:{switch(m=a,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:rs(m,o,Ir,!pl);break e;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=dp+300-st(),10<v)){if(rs(m,o,Ir,!pl),Ho(m,0,!0)!==0)break e;Aa=o,m.timeoutHandle=nx(Cb.bind(null,m,f,Ni,Pu,vl,o,Ir,gl,Ta,pl,w,"Throttled",-0,0),v);break e}Cb(m,f,Ni,Pu,vl,o,Ir,gl,Ta,pl,w,null,-0,0)}}break}while(!0);Na(a)}function Cb(a,o,f,m,v,w,N,D,X,ae,ue,ye,le,me){if(a.timeoutHandle=-1,ye=o.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qe},kv(o,w,ye);var Ye=(w&62914560)===w?dp-st():(w&4194048)===w?pp-st():0;if(Ye=Xu(ye,Ye),Ye!==null){Aa=w,a.cancelPendingCommit=Ye(_p.bind(null,a,o,w,f,m,v,N,D,X,ue,ye,null,le,me)),rs(a,w,N,!ae);return}}_p(a,o,w,f,m,v,N,D,X)}function Rb(a){for(var o=a;;){var f=o.tag;if((f===0||f===11||f===15)&&o.flags&16384&&(f=o.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var v=f[m],w=v.getSnapshot;v=v.value;try{if(!vr(w(),v))return!1}catch{return!1}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function rs(a,o,f,m){o&=~Lh,o&=~gl,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var v=o;0<v;){var w=31-Sn(v),N=1<<w;m[w]=-1,v&=~N}f!==0&&l0(a,f,o)}function yp(){return(Bt&6)===0?(yc(0),!1):!0}function Ov(){if(Tt!==null){if(tn===0)var a=Tt.return;else a=Tt,Ss=ic=null,Nu(a),ti=null,wu=0,a=Tt;for(;a!==null;)yb(a.alternate,a),a=a.return;Tt=null}}function Bu(a,o){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,Sl(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),Aa=0,Ov(),en=a,Tt=f=ei(a.current,null),It=o,tn=0,ai=null,pl=!1,ju=Wl(a,o),Cv=!1,Ta=Ir=Lh=gl=ml=cn=0,Ni=Ds=null,vl=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var v=31-Sn(m),w=1<<v;o|=a[v],m&=~w}return _o=o,er(),f}function Fv(a,o){ft=null,ee.H=cl,o===co||o===fh?(o=zg(),tn=3):o===D0?(o=zg(),tn=4):tn=o===J0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ai=o,Tt===null&&(cn=1,Q0(a,va(o,a.current)))}function Mv(){var a=Ti.current;return a===null?!0:(It&4194048)===It?Cr===null:(It&62914560)===It||(It&536870912)!==0?a===Cr:!1}function bp(){var a=ee.H;return ee.H=cl,a===null?cl:a}function Db(){var a=ee.A;return ee.A=Nb,a}function wp(){cn=4,pl||(It&4194048)!==It&&Ti.current!==null||(ju=!0),(ml&134217727)===0&&(gl&134217727)===0||en===null||rs(en,It,Ir,!1)}function jh(a,o,f){var m=Bt;Bt|=2;var v=bp(),w=Db();(en!==a||It!==o)&&(Pu=null,Bu(a,o)),o=!1;var N=cn;e:do try{if(tn!==0&&Tt!==null){var D=Tt,X=ai;switch(tn){case 8:Ov(),N=6;break e;case 3:case 2:case 9:case 6:Ti.current===null&&(o=!0);var ae=tn;if(tn=0,ai=null,xc(a,D,X,ae),f&&ju){N=0;break e}break;default:ae=tn,tn=0,ai=null,xc(a,D,X,ae)}}xS(),N=cn;break}catch(ue){Fv(a,ue)}while(!0);return o&&a.shellSuspendCounter++,Ss=ic=null,Bt=m,ee.H=v,ee.A=w,Tt===null&&(en=null,It=0,er()),N}function xS(){for(;Tt!==null;)Ph(Tt)}function Lv(a,o){var f=Bt;Bt|=2;var m=bp(),v=Db();en!==a||It!==o?(Pu=null,mp=st()+500,Bu(a,o)):ju=Wl(a,o);e:do try{if(tn!==0&&Tt!==null){o=Tt;var w=ai;t:switch(tn){case 1:tn=0,ai=null,xc(a,o,w,1);break;case 2:case 9:if(I0(w)){tn=0,ai=null,jv(o);break}o=function(){tn!==2&&tn!==9||en!==a||(tn=7),Na(a)},w.then(o,o);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:I0(w)?(tn=0,ai=null,jv(o)):(tn=0,ai=null,xc(a,o,w,7));break;case 5:var N=null;switch(Tt.tag){case 26:N=Tt.memoizedState;case 5:case 27:var D=Tt;if(N?ew(N):D.stateNode.complete){tn=0,ai=null;var X=D.sibling;if(X!==null)Tt=X;else{var ae=D.return;ae!==null?(Tt=ae,Bh(ae)):Tt=null}break t}}tn=0,ai=null,xc(a,o,w,5);break;case 6:tn=0,ai=null,xc(a,o,w,6);break;case 8:Ov(),cn=6;break e;default:throw Error(r(462))}}yS();break}catch(ue){Fv(a,ue)}while(!0);return Ss=ic=null,ee.H=m,ee.A=v,Bt=f,Tt!==null?0:(en=null,It=0,er(),cn)}function yS(){for(;Tt!==null&&!Hl();)Ph(Tt)}function Ph(a){var o=vv(a.alternate,a,_o);a.memoizedProps=a.pendingProps,o===null?Bh(a):Tt=o}function jv(a){var o=a,f=o.alternate;switch(o.tag){case 15:case 0:o=ub(f,o,o.pendingProps,o.type,void 0,It);break;case 11:o=ub(f,o,o.pendingProps,o.type.render,o.ref,It);break;case 5:Nu(o);default:yb(f,o),o=Tt=Lg(o,_o),o=vv(f,o,_o)}a.memoizedProps=a.pendingProps,o===null?Bh(a):Tt=o}function xc(a,o,f,m){Ss=ic=null,Nu(o),ti=null,wu=0;var v=o.return;try{if(pS(a,v,o,f,It)){cn=1,Q0(a,va(f,a.current)),Tt=null;return}}catch(w){if(v!==null)throw Tt=v,w;cn=1,Q0(a,va(f,a.current)),Tt=null;return}o.flags&32768?(Nt||m===1?a=!0:ju||(It&536870912)!==0?a=!1:(pl=a=!0,(m===2||m===9||m===3||m===6)&&(m=Ti.current,m!==null&&m.tag===13&&(m.flags|=16384))),Uh(o,a)):Bh(o)}function Bh(a){var o=a;do{if((o.flags&32768)!==0){Uh(o,pl);return}a=o.return;var f=gS(o.alternate,o,_o);if(f!==null){Tt=f;return}if(o=o.sibling,o!==null){Tt=o;return}Tt=o=a}while(o!==null);cn===0&&(cn=5)}function Uh(a,o){do{var f=xb(a.alternate,a);if(f!==null){f.flags&=32767,Tt=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!o&&(a=a.sibling,a!==null)){Tt=a;return}Tt=a=f}while(a!==null);cn=6,Tt=null}function _p(a,o,f,m,v,w,N,D,X){a.cancelPendingCommit=null;do zh();while(hr!==0);if((Bt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=Jo,Jc(a,f,w,N,D,X),a===en&&(Tt=en=null,It=0),Eo=o,yl=a,Aa=f,gp=w,Rv=v,Dv=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,wS(Vn,function(){return Bv(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=ee.T,ee.T=null,v=J.p,J.p=2,N=Bt,Bt|=4;try{Sb(a,o,f)}finally{Bt=N,J.p=v,ee.T=m}}hr=1,Ib(),Ob(),Pv()}}function Ib(){if(hr===1){hr=0;var a=yl,o=Eo,f=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||f){f=ee.T,ee.T=null;var m=J.p;J.p=2;var v=Bt;Bt|=4;try{Av(o,a);var w=To,N=Rg(a.containerInfo),D=w.focusedElem,X=w.selectionRange;if(N!==D&&D&&D.ownerDocument&&b0(D.ownerDocument.documentElement,D)){if(X!==null&&Dg(D)){var ae=X.start,ue=X.end;if(ue===void 0&&(ue=ae),"selectionStart"in D)D.selectionStart=ae,D.selectionEnd=Math.min(ue,D.value.length);else{var ye=D.ownerDocument||document,le=ye&&ye.defaultView||window;if(le.getSelection){var me=le.getSelection(),Ye=D.textContent.length,lt=Math.min(X.start,Ye),xn=X.end===void 0?lt:Math.min(X.end,Ye);!me.extend&&lt>xn&&(N=xn,xn=lt,lt=N);var oe=L1(D,lt),ie=L1(D,xn);if(oe&&ie&&(me.rangeCount!==1||me.anchorNode!==oe.node||me.anchorOffset!==oe.offset||me.focusNode!==ie.node||me.focusOffset!==ie.offset)){var fe=ye.createRange();fe.setStart(oe.node,oe.offset),me.removeAllRanges(),lt>xn?(me.addRange(fe),me.extend(ie.node,ie.offset)):(fe.setEnd(ie.node,ie.offset),me.addRange(fe))}}}}for(ye=[],me=D;me=me.parentNode;)me.nodeType===1&&ye.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ye.length;D++){var Se=ye[D];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}td=!!Jv,To=Jv=null}finally{Bt=v,J.p=m,ee.T=f}}a.current=o,hr=2}}function Ob(){if(hr===2){hr=0;var a=yl,o=Eo,f=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||f){f=ee.T,ee.T=null;var m=J.p;J.p=2;var v=Bt;Bt|=4;try{_v(a,o.alternate,o)}finally{Bt=v,J.p=m,ee.T=f}}hr=3}}function Pv(){if(hr===4||hr===3){hr=0,vs();var a=yl,o=Eo,f=Aa,m=Dv;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?hr=5:(hr=0,Eo=yl=null,Ep(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(xl=null),tu(f),o=o.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(mn,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=ee.T,v=J.p,J.p=2,ee.T=null;try{for(var w=a.onRecoverableError,N=0;N<m.length;N++){var D=m[N];w(D.value,{componentStack:D.stack})}}finally{ee.T=o,J.p=v}}(Aa&3)!==0&&zh(),Na(a),v=a.pendingLanes,(f&261930)!==0&&(v&42)!==0?a===vp?vc++:(vc=0,vp=a):vc=0,yc(0)}}function Ep(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,yu(o)))}function zh(){return Ib(),Ob(),Pv(),Bv()}function Bv(){if(hr!==5)return!1;var a=yl,o=gp;gp=0;var f=tu(Aa),m=ee.T,v=J.p;try{J.p=32>f?32:f,ee.T=null,f=Rv,Rv=null;var w=yl,N=Aa;if(hr=0,Eo=yl=null,Aa=0,(Bt&6)!==0)throw Error(r(331));var D=Bt;if(Bt|=4,Nv(w.current),hp(w,w.current,N,f),Bt=D,yc(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(mn,w)}catch{}return!0}finally{J.p=v,ee.T=m,Ep(a,o)}}function Sp(a,o,f){o=va(f,o),o=Dh(a.stateNode,o,2),a=As(a,o,2),a!==null&&(Zn(a,2),Na(a))}function Wt(a,o,f){if(a.tag===3)Sp(a,a,f);else for(;o!==null;){if(o.tag===3){Sp(o,a,f);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xl===null||!xl.has(m))){a=va(f,a),f=ob(2),m=As(o,f,2),m!==null&&(lb(f,m,o,a),Zn(m,2),Na(m));break}}o=o.return}}function Vh(a,o,f){var m=a.pingCache;if(m===null){m=a.pingCache=new vS;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(f)||(Cv=!0,v.add(f),a=Tp.bind(null,a,o,f),o.then(a,a))}function Tp(a,o,f){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,en===a&&(It&f)===f&&(cn===4||cn===3&&(It&62914560)===It&&300>st()-dp?(Bt&2)===0&&Bu(a,0):Lh|=f,Ta===It&&(Ta=0)),Na(a)}function Uv(a,o){o===0&&(o=jf()),a=ea(a,o),a!==null&&(Zn(a,o),Na(a))}function Ap(a){var o=a.memoizedState,f=0;o!==null&&(f=o.retryLane),Uv(a,f)}function bS(a,o){var f=0;switch(a.tag){case 31:case 13:var m=a.stateNode,v=a.memoizedState;v!==null&&(f=v.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),Uv(a,f)}function wS(a,o){return gi(a,o)}var Hh=null,ka=null,zv=!1,qh=!1,Vv=!1,So=0;function Na(a){a!==ka&&a.next===null&&(ka===null?Hh=ka=a:ka=ka.next=a),qh=!0,zv||(zv=!0,Fb())}function yc(a,o){if(!Vv&&qh){Vv=!0;do for(var f=!1,m=Hh;m!==null;){if(a!==0){var v=m.pendingLanes;if(v===0)var w=0;else{var N=m.suspendedLanes,D=m.pingedLanes;w=(1<<31-Sn(42|a)+1)-1,w&=v&~(N&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,Np(m,w))}else w=It,w=Ho(m,m===en?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Wl(m,w)||(f=!0,Np(m,w));m=m.next}while(f);Vv=!1}}function _S(){kp()}function kp(){qh=zv=!1;var a=0;So!==0&&tx()&&(a=So);for(var o=st(),f=null,m=Hh;m!==null;){var v=m.next,w=Hv(m,o);w===0?(m.next=null,f===null?Hh=v:f.next=v,v===null&&(ka=f)):(f=m,(a!==0||(w&3)!==0)&&(qh=!0)),m=v}hr!==0&&hr!==5||yc(a),So!==0&&(So=0)}function Hv(a,o){for(var f=a.suspendedLanes,m=a.pingedLanes,v=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var N=31-Sn(w),D=1<<N,X=v[N];X===-1?((D&f)===0||(D&m)!==0)&&(v[N]=ig(D,o)):X<=o&&(a.expiredLanes|=D),w&=~D}if(o=en,f=It,f=Ho(a,a===o?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,f===0||a===o&&(tn===2||tn===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Ki(m),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||Wl(a,f)){if(o=f&-f,o===a.callbackPriority)return o;switch(m!==null&&Ki(m),tu(f)){case 2:case 8:f=Js;break;case 32:f=Vn;break;case 268435456:f=vt;break;default:f=Vn}return m=qv.bind(null,a),f=gi(f,m),a.callbackPriority=o,a.callbackNode=f,o}return m!==null&&m!==null&&Ki(m),a.callbackPriority=2,a.callbackNode=null,2}function qv(a,o){if(hr!==0&&hr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(zh()&&a.callbackNode!==f)return null;var m=It;return m=Ho(a,a===en?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(Iv(a,m,o),Hv(a,st()),a.callbackNode!=null&&a.callbackNode===f?qv.bind(null,a):null)}function Np(a,o){if(zh())return null;Iv(a,o,!0)}function Fb(){rx(function(){(Bt&6)!==0?gi(Ur,_S):kp()})}function Cp(){if(So===0){var a=oc;a===0&&(a=xs,xs<<=1,(xs&261888)===0&&(xs=256)),So=a}return So}function Mb(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:au(""+a)}function Lb(a,o){var f=o.ownerDocument.createElement("input");return f.name=o.name,f.value=o.value,a.id&&f.setAttribute("form",a.id),o.parentNode.insertBefore(f,o),a=new FormData(a),f.parentNode.removeChild(f),a}function Gv(a,o,f,m,v){if(o==="submit"&&f&&f.stateNode===v){var w=Mb((v[q]||null).action),N=m.submitter;N&&(o=(o=N[q]||null)?Mb(o.formAction):N.getAttribute("formAction"),o!==null&&(w=o,N=null));var D=new h0("action","action",null,m,v);a.push({event:D,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(So!==0){var X=N?Lb(v,N):new FormData(v);ev(f,{pending:!0,data:X,method:v.method,action:w},null,X)}}else typeof w=="function"&&(D.preventDefault(),X=N?Lb(v,N):new FormData(v),ev(f,{pending:!0,data:X,method:v.method,action:w},w,X))},currentTarget:v}]})}}for(var Rp=0;Rp<Mg.length;Rp++){var bl=Mg[Rp],Wv=bl.toLowerCase(),ES=bl[0].toUpperCase()+bl.slice(1);Zi(Wv,"on"+ES)}Zi(U1,"onAnimationEnd"),Zi($f,"onAnimationIteration"),Zi(z1,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(Ig,"onTransitionRun"),Zi(Og,"onTransitionStart"),Zi(Xa,"onTransitionCancel"),Zi(Ka,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function jb(a,o){o=(o&4)!==0;for(var f=0;f<a.length;f++){var m=a[f],v=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var N=m.length-1;0<=N;N--){var D=m[N],X=D.instance,ae=D.currentTarget;if(D=D.listener,X!==w&&v.isPropagationStopped())break e;w=D,v.currentTarget=ae;try{w(v)}catch(ue){Qf(ue)}v.currentTarget=null,w=X}else for(N=0;N<m.length;N++){if(D=m[N],X=D.instance,ae=D.currentTarget,D=D.listener,X!==w&&v.isPropagationStopped())break e;w=D,v.currentTarget=ae;try{w(v)}catch(ue){Qf(ue)}v.currentTarget=null,w=X}}}}function wt(a,o){var f=o[he];f===void 0&&(f=o[he]=new Set);var m=a+"__bubble";f.has(m)||(Pb(o,a,2,!1),f.add(m))}function Gh(a,o,f){var m=0;o&&(m|=4),Pb(f,a,m,o)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function Dp(a){if(!a[Wh]){a[Wh]=!0,sn.forEach(function(f){f!=="selectionchange"&&(Xv.has(f)||Gh(f,!1,a),Gh(f,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Wh]||(o[Wh]=!0,Gh("selectionchange",!1,o))}}function Pb(a,o,f,m){switch(rd(o)){case 2:var v=nw;break;case 8:v=rw;break;default:v=fx}f=v.bind(null,o,f,a),v=void 0,!fg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?a.addEventListener(o,f,{capture:!0,passive:v}):a.addEventListener(o,f,!0):v!==void 0?a.addEventListener(o,f,{passive:v}):a.addEventListener(o,f,!1)}function Kv(a,o,f,m,v){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var D=m.stateNode.containerInfo;if(D===v)break;if(N===4)for(N=m.return;N!==null;){var X=N.tag;if((X===3||X===4)&&N.stateNode.containerInfo===v)return;N=N.return}for(;D!==null;){if(N=Me(D),N===null)return;if(X=N.tag,X===5||X===6||X===26||X===27){m=w=N;continue e}D=D.parentNode}}m=m.return}ug(function(){var ae=w,ue=u0(f),ye=[];e:{var le=Fg.get(a);if(le!==void 0){var me=h0,Ye=a;switch(a){case"keypress":if(Hf(f)===0)break e;case"keydown":case"keyup":me=k1;break;case"focusin":Ye="focus",me=uu;break;case"focusout":Ye="blur",me=uu;break;case"beforeblur":case"afterblur":me=uu;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=lS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=bg;break;case U1:case $f:case z1:me=pg;break;case Ka:me=N1;break;case"scroll":case"scrollend":me=sS;break;case"wheel":me=g0;break;case"copy":case"cut":case"paste":me=gg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Gf;break;case"toggle":case"beforetoggle":me=fu}var lt=(o&4)!==0,xn=!lt&&(a==="scroll"||a==="scrollend"),oe=lt?le!==null?le+"Capture":null:le;lt=[];for(var ie=ae,fe;ie!==null;){var Se=ie;if(fe=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||fe===null||oe===null||(Se=Ga(ie,oe),Se!=null&&lt.push(_l(ie,Se,fe))),xn)break;ie=ie.return}0<lt.length&&(le=new me(le,Ye,null,f,ue),ye.push({event:le,listeners:lt}))}}if((o&7)===0){e:{if(le=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",le&&f!==vn&&(Ye=f.relatedTarget||f.fromElement)&&(Me(Ye)||Ye[Y]))break e;if((me||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,me?(Ye=f.relatedTarget||f.toElement,me=ae,Ye=Ye?Me(Ye):null,Ye!==null&&(xn=s(Ye),lt=Ye.tag,Ye!==xn||lt!==5&&lt!==27&&lt!==6)&&(Ye=null)):(me=null,Ye=ae),me!==Ye)){if(lt=cu,Se="onMouseLeave",oe="onMouseEnter",ie="mouse",(a==="pointerout"||a==="pointerover")&&(lt=Gf,Se="onPointerLeave",oe="onPointerEnter",ie="pointer"),xn=me==null?le:Le(me),fe=Ye==null?le:Le(Ye),le=new lt(Se,ie+"leave",me,f,ue),le.target=xn,le.relatedTarget=fe,Se=null,Me(ue)===ae&&(lt=new lt(oe,ie+"enter",Ye,f,ue),lt.target=fe,lt.relatedTarget=xn,Se=lt),xn=Se,me&&Ye)t:{for(lt=SS,oe=me,ie=Ye,fe=0,Se=oe;Se;Se=lt(Se))fe++;Se=0;for(var it=ie;it;it=lt(it))Se++;for(;0<fe-Se;)oe=lt(oe),fe--;for(;0<Se-fe;)ie=lt(ie),Se--;for(;fe--;){if(oe===ie||ie!==null&&oe===ie.alternate){lt=oe;break t}oe=lt(oe),ie=lt(ie)}lt=null}else lt=null;me!==null&&Ci(ye,le,me,lt,!1),Ye!==null&&xn!==null&&Ci(ye,xn,Ye,lt,!0)}}e:{if(le=ae?Le(ae):window,me=le.nodeName&&le.nodeName.toLowerCase(),me==="select"||me==="input"&&le.type==="file")var Kt=Tg;else if(Ji(le))if(D1)Kt=F1;else{Kt=ws;var Je=O1}else me=le.nodeName,!me||me.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ae&&qa(ae.elementType)&&(Kt=Tg):Kt=Ng;if(Kt&&(Kt=Kt(a,ae))){Zr(ye,Kt,f,ue);break e}Je&&Je(a,le,ae),a==="focusout"&&ae&&le.type==="number"&&ae.memoizedProps.value!=null&&nu(le,"number",le.value)}switch(Je=ae?Le(ae):window,a){case"focusin":(Ji(Je)||Je.contentEditable==="true")&&($o=Je,Ql=ae,du=null);break;case"focusout":du=Ql=$o=null;break;case"mousedown":w0=!0;break;case"contextmenu":case"mouseup":case"dragend":w0=!1,P1(ye,f,ue);break;case"selectionchange":if(j1)break;case"keydown":case"keyup":P1(ye,f,ue)}var _t;if(v0)e:{switch(a){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else bs?R1(a,f)&&(Lt="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Lt="onCompositionStart");Lt&&(x0&&f.locale!=="ko"&&(bs||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&bs&&(_t=S1()):(to=ue,f0="value"in to?to.value:to.textContent,bs=!0)),Je=Ip(ae,Lt),0<Je.length&&(Lt=new vg(Lt,a,null,f,ue),ye.push({event:Lt,listeners:Je}),_t?Lt.data=_t:(_t=ro(f),_t!==null&&(Lt.data=_t)))),(_t=hu?Xf(a,f):Sg(a,f))&&(Lt=Ip(ae,"onBeforeInput"),0<Lt.length&&(Je=new vg("onBeforeInput","beforeinput",null,f,ue),ye.push({event:Je,listeners:Lt}),Je.data=_t)),Gv(ye,a,ae,f,ue)}jb(ye,o)})}function _l(a,o,f){return{instance:a,listener:o,currentTarget:f}}function Ip(a,o){for(var f=o+"Capture",m=[];a!==null;){var v=a,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=Ga(a,f),v!=null&&m.unshift(_l(a,v,w)),v=Ga(a,o),v!=null&&m.push(_l(a,v,w))),a.tag===3)return m;a=a.return}return[]}function SS(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Ci(a,o,f,m,v){for(var w=o._reactName,N=[];f!==null&&f!==m;){var D=f,X=D.alternate,ae=D.stateNode;if(D=D.tag,X!==null&&X===m)break;D!==5&&D!==26&&D!==27||ae===null||(X=ae,v?(ae=Ga(f,w),ae!=null&&N.unshift(_l(f,ae,X))):v||(ae=Ga(f,w),ae!=null&&N.push(_l(f,ae,X)))),f=f.return}N.length!==0&&a.push({event:o,listeners:N})}var Yv=/\r\n?/g,$v=/\u0000|\uFFFD/g;function Op(a){return(typeof a=="string"?a:""+a).replace(Yv,`
`).replace($v,"")}function Uu(a,o){return o=Op(o),Op(a)===o}function Xt(a,o,f,m,v,w){switch(f){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Yl(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Yl(a,""+m);break;case"className":Ha(a,"class",m);break;case"tabIndex":Ha(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Ha(a,f,m);break;case"style":iu(a,m,w);break;case"data":if(o!=="object"){Ha(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||f!=="href")){a.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(f);break}m=au(""+m),a.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(o!=="input"&&Xt(a,o,"name",v.name,v,null),Xt(a,o,"formEncType",v.formEncType,v,null),Xt(a,o,"formMethod",v.formMethod,v,null),Xt(a,o,"formTarget",v.formTarget,v,null)):(Xt(a,o,"encType",v.encType,v,null),Xt(a,o,"method",v.method,v,null),Xt(a,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(f);break}m=au(""+m),a.setAttribute(f,m);break;case"onClick":m!=null&&(a.onclick=Qe);break;case"onScroll":m!=null&&wt("scroll",a);break;case"onScrollEnd":m!=null&&wt("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}f=au(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,""+m):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":m===!0?a.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,m):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(f,m):a.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(f):a.setAttribute(f,m);break;case"popover":wt("beforetoggle",a),wt("toggle",a),Qr(a,"popover",m);break;case"xlinkActuate":eo(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":eo(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":eo(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":eo(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":eo(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":eo(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":eo(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":eo(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":eo(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Qr(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=_1.get(f)||f,Qr(a,f,m))}}function Xh(a,o,f,m,v,w){switch(f){case"style":iu(a,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"children":typeof m=="string"?Yl(a,m):(typeof m=="number"||typeof m=="bigint")&&Yl(a,""+m);break;case"onScroll":m!=null&&wt("scroll",a);break;case"onScrollEnd":m!=null&&wt("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Qe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zt.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),o=f.slice(2,v?f.length-7:void 0),w=a[q]||null,w=w!=null?w[f]:null,typeof w=="function"&&a.removeEventListener(o,w,v),typeof m=="function")){typeof w!="function"&&w!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(o,m,v);break e}f in a?a[f]=m:m===!0?a.setAttribute(f,""):Qr(a,f,m)}}}function Or(a,o,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",a),wt("load",a);var m=!1,v=!1,w;for(w in f)if(f.hasOwnProperty(w)){var N=f[w];if(N!=null)switch(w){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Xt(a,o,w,N,f,null)}}v&&Xt(a,o,"srcSet",f.srcSet,f,null),m&&Xt(a,o,"src",f.src,f,null);return;case"input":wt("invalid",a);var D=w=N=v=null,X=null,ae=null;for(m in f)if(f.hasOwnProperty(m)){var ue=f[m];if(ue!=null)switch(m){case"name":v=ue;break;case"type":N=ue;break;case"checked":X=ue;break;case"defaultChecked":ae=ue;break;case"value":w=ue;break;case"defaultValue":D=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,o));break;default:Xt(a,o,m,ue,f,null)}}Uf(a,w,D,X,ae,N,v,!1);return;case"select":wt("invalid",a),m=N=w=null;for(v in f)if(f.hasOwnProperty(v)&&(D=f[v],D!=null))switch(v){case"value":w=D;break;case"defaultValue":N=D;break;case"multiple":m=D;default:Xt(a,o,v,D,f,null)}o=w,f=N,a.multiple=!!m,o!=null?ru(a,!!m,o,!1):f!=null&&ru(a,!!m,f,!0);return;case"textarea":wt("invalid",a),w=v=m=null;for(N in f)if(f.hasOwnProperty(N)&&(D=f[N],D!=null))switch(N){case"value":m=D;break;case"defaultValue":v=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Xt(a,o,N,D,f,null)}lg(a,m,v,w);return;case"option":for(X in f)if(f.hasOwnProperty(X)&&(m=f[X],m!=null))switch(X){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Xt(a,o,X,m,f,null)}return;case"dialog":wt("beforetoggle",a),wt("toggle",a),wt("cancel",a),wt("close",a);break;case"iframe":case"object":wt("load",a);break;case"video":case"audio":for(m=0;m<wl.length;m++)wt(wl[m],a);break;case"image":wt("error",a),wt("load",a);break;case"details":wt("toggle",a);break;case"embed":case"source":case"link":wt("error",a),wt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in f)if(f.hasOwnProperty(ae)&&(m=f[ae],m!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Xt(a,o,ae,m,f,null)}return;default:if(qa(o)){for(ue in f)f.hasOwnProperty(ue)&&(m=f[ue],m!==void 0&&Xh(a,o,ue,m,f,void 0));return}}for(D in f)f.hasOwnProperty(D)&&(m=f[D],m!=null&&Xt(a,o,D,m,f,null))}function Bb(a,o,f,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,N=null,D=null,X=null,ae=null,ue=null;for(me in f){var ye=f[me];if(f.hasOwnProperty(me)&&ye!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":X=ye;default:m.hasOwnProperty(me)||Xt(a,o,me,null,m,ye)}}for(var le in m){var me=m[le];if(ye=f[le],m.hasOwnProperty(le)&&(me!=null||ye!=null))switch(le){case"type":w=me;break;case"name":v=me;break;case"checked":ae=me;break;case"defaultChecked":ue=me;break;case"value":N=me;break;case"defaultValue":D=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:me!==ye&&Xt(a,o,le,me,m,ye)}}og(a,N,D,X,ae,ue,w,v);return;case"select":me=N=D=le=null;for(w in f)if(X=f[w],f.hasOwnProperty(w)&&X!=null)switch(w){case"value":break;case"multiple":me=X;default:m.hasOwnProperty(w)||Xt(a,o,w,null,m,X)}for(v in m)if(w=m[v],X=f[v],m.hasOwnProperty(v)&&(w!=null||X!=null))switch(v){case"value":le=w;break;case"defaultValue":D=w;break;case"multiple":N=w;default:w!==X&&Xt(a,o,v,w,m,X)}o=D,f=N,m=me,le!=null?ru(a,!!f,le,!1):!!m!=!!f&&(o!=null?ru(a,!!f,o,!0):ru(a,!!f,f?[]:"",!1));return;case"textarea":me=le=null;for(D in f)if(v=f[D],f.hasOwnProperty(D)&&v!=null&&!m.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Xt(a,o,D,null,m,v)}for(N in m)if(v=m[N],w=f[N],m.hasOwnProperty(N)&&(v!=null||w!=null))switch(N){case"value":le=v;break;case"defaultValue":me=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&Xt(a,o,N,v,m,w)}c0(a,le,me);return;case"option":for(var Ye in f)if(le=f[Ye],f.hasOwnProperty(Ye)&&le!=null&&!m.hasOwnProperty(Ye))switch(Ye){case"selected":a.selected=!1;break;default:Xt(a,o,Ye,null,m,le)}for(X in m)if(le=m[X],me=f[X],m.hasOwnProperty(X)&&le!==me&&(le!=null||me!=null))switch(X){case"selected":a.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Xt(a,o,X,le,m,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in f)le=f[lt],f.hasOwnProperty(lt)&&le!=null&&!m.hasOwnProperty(lt)&&Xt(a,o,lt,null,m,le);for(ae in m)if(le=m[ae],me=f[ae],m.hasOwnProperty(ae)&&le!==me&&(le!=null||me!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:Xt(a,o,ae,le,m,me)}return;default:if(qa(o)){for(var xn in f)le=f[xn],f.hasOwnProperty(xn)&&le!==void 0&&!m.hasOwnProperty(xn)&&Xh(a,o,xn,void 0,m,le);for(ue in m)le=m[ue],me=f[ue],!m.hasOwnProperty(ue)||le===me||le===void 0&&me===void 0||Xh(a,o,ue,le,m,me);return}}for(var oe in f)le=f[oe],f.hasOwnProperty(oe)&&le!=null&&!m.hasOwnProperty(oe)&&Xt(a,o,oe,null,m,le);for(ye in m)le=m[ye],me=f[ye],!m.hasOwnProperty(ye)||le===me||le==null&&me==null||Xt(a,o,ye,le,m,me)}function Fp(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qv(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var v=f[m],w=v.transferSize,N=v.initiatorType,D=v.duration;if(w&&D&&Fp(N)){for(N=0,D=v.responseEnd,m+=1;m<f.length;m++){var X=f[m],ae=X.startTime;if(ae>D)break;var ue=X.transferSize,ye=X.initiatorType;ue&&Fp(ye)&&(X=X.responseEnd,N+=ue*(X<D?1:(D-ae)/(X-ae)))}if(--m,o+=8*(w+N)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Jv=null,To=null;function El(a){return a.nodeType===9?a:a.ownerDocument}function Zv(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ex(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Kh(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Yh=null;function tx(){var a=window.event;return a&&a.type==="popstate"?a===Yh?!1:(Yh=a,!0):(Yh=null,!1)}var nx=typeof setTimeout=="function"?setTimeout:void 0,Sl=typeof clearTimeout=="function"?clearTimeout:void 0,$h=typeof Promise=="function"?Promise:void 0,rx=typeof queueMicrotask=="function"?queueMicrotask:typeof $h<"u"?function(a){return $h.resolve(null).then(a).catch(Is)}:nx;function Is(a){setTimeout(function(){throw a})}function Tl(a){return a==="head"}function Ub(a,o){var f=o,m=0;do{var v=f.nextSibling;if(a.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"||f==="/&"){if(m===0){a.removeChild(v),rn(o);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")zu(a.ownerDocument.documentElement);else if(f==="head"){f=a.ownerDocument.head,zu(f);for(var w=f.firstChild;w;){var N=w.nextSibling,D=w.nodeName;w[pe]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||f.removeChild(w),w=N}}else f==="body"&&zu(a.ownerDocument.body);f=v}while(f);rn(o)}function Qh(a,o){var f=a;a=0;do{var m=f.nextSibling;if(f.nodeType===1?o?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(o?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(a===0)break;a--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||a++;f=m}while(f)}function bc(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var f=o;switch(o=o.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":bc(f),Fe(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function zb(a,o,f,m){for(;a.nodeType===1;){var v=f;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[pe])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=na(a.nextSibling),a===null)break}return null}function Vb(a,o,f){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=na(a.nextSibling),a===null))return null;return a}function ix(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=na(a.nextSibling),a===null))return null;return a}function Mp(a){return a.data==="$?"||a.data==="$~"}function Xn(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function TS(a,o){var f=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||f.readyState!=="loading")o();else{var m=function(){o(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function na(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var ax=null;function Hb(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"||f==="/&"){if(o===0)return na(a.nextSibling);o--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||o++}a=a.nextSibling}return null}function qb(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(o===0)return a;o--}else f!=="/$"&&f!=="/&"||o++}a=a.previousSibling}return null}function Lp(a,o,f){switch(o=El(f),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function zu(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Fe(a)}var Ca=new Map,jp=new Set;function Vu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ao=J.d;J.d={f:sx,r:Os,D:Gb,C:Wb,L:qu,m:is,X:Kb,S:Xb,M:Yb};function sx(){var a=Ao.f(),o=yp();return a||o}function Os(a){var o=qe(a);o!==null&&o.tag===5&&o.type==="form"?nb(o):Ao.r(a)}var Hu=typeof document>"u"?null:document;function ox(a,o,f){var m=Hu;if(m&&typeof o=="string"&&o){var v=xi(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),jp.has(v)||(jp.add(v),a={rel:a,crossOrigin:f,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),Or(o,"link",a),$e(o),m.head.appendChild(o)))}}function Gb(a){Ao.D(a),ox("dns-prefetch",a,null)}function Wb(a,o){Ao.C(a,o),ox("preconnect",a,o)}function qu(a,o,f){Ao.L(a,o,f);var m=Hu;if(m&&a&&o){var v='link[rel="preload"][as="'+xi(o)+'"]';o==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+xi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+xi(f.imageSizes)+'"]')):v+='[href="'+xi(a)+'"]';var w=v;switch(o){case"style":w=Gu(a);break;case"script":w=Wu(a)}Ca.has(w)||(a=x({rel:"preload",href:o==="image"&&f&&f.imageSrcSet?void 0:a,as:o},f),Ca.set(w,a),m.querySelector(v)!==null||o==="style"&&m.querySelector(wc(w))||o==="script"&&m.querySelector(Fs(w))||(o=m.createElement("link"),Or(o,"link",a),$e(o),m.head.appendChild(o)))}}function is(a,o){Ao.m(a,o);var f=Hu;if(f&&a){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+xi(m)+'"][href="'+xi(a)+'"]',w=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Wu(a)}if(!Ca.has(w)&&(a=x({rel:"modulepreload",href:a},o),Ca.set(w,a),f.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Fs(w)))return}m=f.createElement("link"),Or(m,"link",a),$e(m),f.head.appendChild(m)}}}function Xb(a,o,f){Ao.S(a,o,f);var m=Hu;if(m&&a){var v=Ve(m).hoistableStyles,w=Gu(a);o=o||"default";var N=v.get(w);if(!N){var D={loading:0,preload:null};if(N=m.querySelector(wc(w)))D.loading=5;else{a=x({rel:"stylesheet",href:a,"data-precedence":o},f),(f=Ca.get(w))&&lx(a,f);var X=N=m.createElement("link");$e(X),Or(X,"link",a),X._p=new Promise(function(ae,ue){X.onload=ae,X.onerror=ue}),X.addEventListener("load",function(){D.loading|=1}),X.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Pp(N,o,m)}N={type:"stylesheet",instance:N,count:1,state:D},v.set(w,N)}}}function Kb(a,o){Ao.X(a,o);var f=Hu;if(f&&a){var m=Ve(f).hoistableScripts,v=Wu(a),w=m.get(v);w||(w=f.querySelector(Fs(v)),w||(a=x({src:a,async:!0},o),(o=Ca.get(v))&&ko(a,o),w=f.createElement("script"),$e(w),Or(w,"link",a),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(v,w))}}function Yb(a,o){Ao.M(a,o);var f=Hu;if(f&&a){var m=Ve(f).hoistableScripts,v=Wu(a),w=m.get(v);w||(w=f.querySelector(Fs(v)),w||(a=x({src:a,async:!0,type:"module"},o),(o=Ca.get(v))&&ko(a,o),w=f.createElement("script"),$e(w),Or(w,"link",a),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(v,w))}}function $b(a,o,f,m){var v=(v=se.current)?Vu(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(o=Gu(f.href),f=Ve(v).hoistableStyles,m=f.get(o),m||(m={type:"style",instance:null,count:0,state:null},f.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=Gu(f.href);var w=Ve(v).hoistableStyles,N=w.get(a);if(N||(v=v.ownerDocument||v,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,N),(w=v.querySelector(wc(a)))&&!w._p&&(N.instance=w,N.state.loading=5),Ca.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ca.set(a,f),w||Jb(v,a,f,N.state))),o&&m===null)throw Error(r(528,""));return N}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=f.async,f=f.src,typeof f=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Wu(f),f=Ve(v).hoistableScripts,m=f.get(o),m||(m={type:"script",instance:null,count:0,state:null},f.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Gu(a){return'href="'+xi(a)+'"'}function wc(a){return'link[rel="stylesheet"]['+a+"]"}function Qb(a){return x({},a,{"data-precedence":a.precedence,precedence:null})}function Jb(a,o,f,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Or(o,"link",f),$e(o),a.head.appendChild(o))}function Wu(a){return'[src="'+xi(a)+'"]'}function Fs(a){return"script[async]"+a}function Zb(a,o,f){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+xi(f.href)+'"]');if(m)return o.instance=m,$e(m),m;var v=x({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),$e(m),Or(m,"style",v),Pp(m,f.precedence,a),o.instance=m;case"stylesheet":v=Gu(f.href);var w=a.querySelector(wc(v));if(w)return o.state.loading|=4,o.instance=w,$e(w),w;m=Qb(f),(v=Ca.get(v))&&lx(m,v),w=(a.ownerDocument||a).createElement("link"),$e(w);var N=w;return N._p=new Promise(function(D,X){N.onload=D,N.onerror=X}),Or(w,"link",m),o.state.loading|=4,Pp(w,f.precedence,a),o.instance=w;case"script":return w=Wu(f.src),(v=a.querySelector(Fs(w)))?(o.instance=v,$e(v),v):(m=f,(v=Ca.get(w))&&(m=x({},f),ko(m,v)),a=a.ownerDocument||a,v=a.createElement("script"),$e(v),Or(v,"link",m),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Pp(m,f.precedence,a));return o.instance}function Pp(a,o,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,w=v,N=0;N<m.length;N++){var D=m[N];if(D.dataset.precedence===o)w=D;else if(w!==v)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=f.nodeType===9?f.head:f,o.insertBefore(a,o.firstChild))}function lx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function ko(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var zt=null;function xt(a,o,f){if(zt===null){var m=new Map,v=zt=new Map;v.set(f,m)}else v=zt,m=v.get(f),m||(m=new Map,v.set(f,m));if(m.has(a))return m;for(m.set(a,null),f=f.getElementsByTagName(a),v=0;v<f.length;v++){var w=f[v];if(!(w[pe]||w[U]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(o)||"";N=a+N;var D=m.get(N);D?D.push(w):m.set(N,[w])}}return m}function Jh(a,o,f){a=a.ownerDocument||a,a.head.insertBefore(f,o==="title"?a.querySelector("head > title"):null)}function Zh(a,o,f){if(f===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function ew(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Pn(a,o,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var v=Gu(m.href),w=o.querySelector(wc(v));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Ku.bind(a),o.then(a,a)),f.state.loading|=4,f.instance=w,$e(w);return}w=o.ownerDocument||o,m=Qb(m),(v=Ca.get(v))&&lx(m,v),w=w.createElement("link"),$e(w);var N=w;N._p=new Promise(function(D,X){N.onload=D,N.onerror=X}),Or(w,"link",m),f.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(f,o),(o=f.state.preload)&&(f.state.loading&3)===0&&(a.count++,f=Ku.bind(a),o.addEventListener("load",f),o.addEventListener("error",f))}}var _c=0;function Xu(a,o){return a.stylesheets&&a.count===0&&ed(a,a.stylesheets),0<a.count||0<a.imgCount?function(f){var m=setTimeout(function(){if(a.stylesheets&&ed(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+o);0<a.imgBytes&&_c===0&&(_c=62500*Qv());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&ed(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>_c?50:800)+o);return a.unsuspend=f,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function Ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ed(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Yu=null;function ed(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Yu=new Map,o.forEach(Bp,a),Yu=null,Ku.call(a))}function Bp(a,o){if(!(o.state.loading&4)){var f=Yu.get(a);if(f)var m=f.get(null);else{f=new Map,Yu.set(a,f);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var N=v[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(f.set(N.dataset.precedence,N),m=N)}m&&f.set(null,m)}v=o.instance,N=v.getAttribute("data-precedence"),w=f.get(N)||m,w===m&&f.set(null,v),f.set(N,v),this.count++,m=Ku.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),w?w.parentNode.insertBefore(v,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var Ec={$$typeof:A,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function cx(a,o,f,m,v,w,N,D,X){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pf(0),this.hiddenUpdates=Pf(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function Up(a,o,f,m,v,w,N,D,X,ae,ue,ye){return a=new cx(a,o,f,N,X,ae,ue,ye,D),o=1,w===!0&&(o|=24),w=bi(3,null,null,o),a.current=w,w.stateNode=a,o=oh(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:f,cache:o},nl(w),a}function zp(a){return a?(a=_s,a):_s}function Vp(a,o,f,m,v,w){v=zp(v),m.context===null?m.context=v:m.pendingContext=v,m=Ei(o),m.payload={element:f},w=w===void 0?null:w,w!==null&&(m.callback=w),f=As(a,m,o),f!==null&&(oi(f,a,o),ph(f,a,o))}function tw(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<o?f:o}}function ux(a,o){tw(a,o),(a=a.alternate)&&tw(a,o)}function Hp(a){if(a.tag===13||a.tag===31){var o=ea(a,67108864);o!==null&&oi(o,a,67108864),ux(a,67108864)}}function qp(a){if(a.tag===13||a.tag===31){var o=si();o=eu(o);var f=ea(a,o);f!==null&&oi(f,a,o),ux(a,o)}}var td=!0;function nw(a,o,f,m){var v=ee.T;ee.T=null;var w=J.p;try{J.p=2,fx(a,o,f,m)}finally{J.p=w,ee.T=v}}function rw(a,o,f,m){var v=ee.T;ee.T=null;var w=J.p;try{J.p=8,fx(a,o,f,m)}finally{J.p=w,ee.T=v}}function fx(a,o,f,m){if(td){var v=Gp(m);if(v===null)Kv(a,o,m,Wp,f),iw(a,m);else if(AS(v,a,o,f,m))m.stopPropagation();else if(iw(a,m),o&4&&-1<Ms.indexOf(a)){for(;v!==null;){var w=qe(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=$i(w.pendingLanes);if(N!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;N;){var X=1<<31-Sn(N);D.entanglements[1]|=X,N&=~X}Na(w),(Bt&6)===0&&(mp=st()+500,yc(0))}}break;case 31:case 13:D=ea(w,2),D!==null&&oi(D,w,2),yp(),ux(w,2)}if(w=Gp(m),w===null&&Kv(a,o,m,Wp,f),w===v)break;v=w}v!==null&&m.stopPropagation()}else Kv(a,o,m,null,f)}}function Gp(a){return a=u0(a),nd(a)}var Wp=null;function nd(a){if(Wp=null,a=Me(a),a!==null){var o=s(a);if(o===null)a=null;else{var f=o.tag;if(f===13){if(a=c(o),a!==null)return a;a=null}else if(f===31){if(a=u(o),a!==null)return a;a=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Wp=a,null}function rd(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yi()){case Ur:return 2;case Js:return 8;case Vn:case Gt:return 32;case vt:return 268435456;default:return 32}default:return 32}}var id=!1,No=null,Co=null,We=null,Sc=new Map,An=new Map,ra=[],Ms="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iw(a,o){switch(a){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":We=null;break;case"pointerover":case"pointerout":Sc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(o.pointerId)}}function ad(a,o,f,m,v,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:f,eventSystemFlags:m,nativeEvent:w,targetContainers:[v]},o!==null&&(o=qe(o),o!==null&&Hp(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function AS(a,o,f,m,v){switch(o){case"focusin":return No=ad(No,a,o,f,m,v),!0;case"dragenter":return Co=ad(Co,a,o,f,m,v),!0;case"mouseover":return We=ad(We,a,o,f,m,v),!0;case"pointerover":var w=v.pointerId;return Sc.set(w,ad(Sc.get(w)||null,a,o,f,m,v)),!0;case"gotpointercapture":return w=v.pointerId,An.set(w,ad(An.get(w)||null,a,o,f,m,v)),!0}return!1}function Ro(a){var o=Me(a.target);if(o!==null){var f=s(o);if(f!==null){if(o=f.tag,o===13){if(o=c(f),o!==null){a.blockedOn=o,K(a.priority,function(){qp(f)});return}}else if(o===31){if(o=u(f),o!==null){a.blockedOn=o,K(a.priority,function(){qp(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function sd(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var f=Gp(a.nativeEvent);if(f===null){f=a.nativeEvent;var m=new f.constructor(f.type,f);vn=m,f.target.dispatchEvent(m),vn=null}else return o=qe(f),o!==null&&Hp(o),a.blockedOn=f,!1;o.shift()}return!0}function Tc(a,o,f){sd(a)&&f.delete(o)}function hx(){id=!1,No!==null&&sd(No)&&(No=null),Co!==null&&sd(Co)&&(Co=null),We!==null&&sd(We)&&(We=null),Sc.forEach(Tc),An.forEach(Tc)}function od(a,o){a.blockedOn===o&&(a.blockedOn=null,id||(id=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hx)))}var Ac=null;function Bn(a){Ac!==a&&(Ac=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ac===a&&(Ac=null);for(var o=0;o<a.length;o+=3){var f=a[o],m=a[o+1],v=a[o+2];if(typeof m!="function"){if(nd(m||f)===null)continue;break}var w=qe(f);w!==null&&(a.splice(o,3),o-=3,ev(w,{pending:!0,data:v,method:f.method,action:m},m,v))}}))}function rn(a){function o(X){return od(X,a)}No!==null&&od(No,a),Co!==null&&od(Co,a),We!==null&&od(We,a),Sc.forEach(o),An.forEach(o);for(var f=0;f<ra.length;f++){var m=ra[f];m.blockedOn===a&&(m.blockedOn=null)}for(;0<ra.length&&(f=ra[0],f.blockedOn===null);)Ro(f),f.blockedOn===null&&ra.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var v=f[m],w=f[m+1],N=v[q]||null;if(typeof w=="function")N||Bn(f);else if(N){var D=null;if(w&&w.hasAttribute("formAction")){if(v=w,N=w[q]||null)D=N.formAction;else if(nd(v)!==null)continue}else D=N.action;typeof D=="function"?f[m+1]=D:(f.splice(m,3),m-=3),Bn(f)}}}function dx(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(N){return v=N})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Rn(a){this._internalRoot=a}ld.prototype.render=Rn.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var f=o.current,m=si();Vp(f,m,a,o,null,null)},ld.prototype.unmount=Rn.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Vp(a.current,2,null,a,null,null),yp(),o[Y]=null}};function ld(a){this._internalRoot=a}ld.prototype.unstable_scheduleHydration=function(a){if(a){var o=L();a={blockedOn:null,target:a,priority:o};for(var f=0;f<ra.length&&o!==0&&o<ra[f].priority;f++);ra.splice(f,0,a),f===0&&Ro(a)}};var aw=t.version;if(aw!=="19.2.0")throw Error(r(527,aw,"19.2.0"));J.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=p(o),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var l={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d.isDisabled&&d.supportsFiber)try{mn=d.inject(l),Mt=d}catch{}}return mx.createRoot=function(a,o){if(!i(a))throw Error(r(299));var f=!1,m="",v=fl,w=ov,N=sb;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=Up(a,1,!1,null,null,f,m,null,v,w,N,dx),a[Y]=o.current,Dp(a),new Rn(o)},mx.hydrateRoot=function(a,o,f){if(!i(a))throw Error(r(299));var m=!1,v="",w=fl,N=ov,D=sb,X=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(N=f.onCaughtError),f.onRecoverableError!==void 0&&(D=f.onRecoverableError),f.formState!==void 0&&(X=f.formState)),o=Up(a,1,!0,o,f??null,m,v,X,w,N,D,dx),o.context=zp(null),f=o.current,m=si(),m=eu(m),v=Ei(m),v.callback=null,As(f,v,m),f=m,o.current.lanes=f,Zn(o,f),Na(o),a[Y]=o.current,Dp(a),new ld(o)},mx.version="19.2.0",mx}var uN;function bj(){if(uN)return CS.exports;uN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),CS.exports=yj(),CS.exports}var wj=bj();const _j=ED(wj);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fN="popstate";function Ej(e={}){function t(r,i){let{pathname:s,search:c,hash:u}=r.location;return ET("",{pathname:s,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ny(i)}return Tj(t,n,null,e)}function Jn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sj(){return Math.random().toString(36).substring(2,10)}function hN(e,t){return{usr:e.state,key:e.key,idx:t}}function ET(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Vm(t):t,state:n,key:t&&t.key||r||Sj()}}function ny({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Tj(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,c=i.history,u="POP",h=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function x(){u="POP";let T=g(),k=T==null?null:T-p;p=T,h&&h({action:u,location:E.location,delta:k})}function b(T,k){u="PUSH";let R=ET(E.location,T,k);p=g()+1;let A=hN(R,p),O=E.createHref(R);try{c.pushState(A,"",O)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(O)}s&&h&&h({action:u,location:E.location,delta:1})}function _(T,k){u="REPLACE";let R=ET(E.location,T,k);p=g();let A=hN(R,p),O=E.createHref(R);c.replaceState(A,"",O),s&&h&&h({action:u,location:E.location,delta:0})}function S(T){return Aj(T)}let E={get action(){return u},get location(){return e(i,c)},listen(T){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(fN,x),h=T,()=>{i.removeEventListener(fN,x),h=null}},createHref(T){return t(i,T)},createURL:S,encodeLocation(T){let k=S(T);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:_,go(T){return c.go(T)}};return E}function Aj(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Jn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ny(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function SD(e,t,n="/"){return kj(e,t,n,!1)}function kj(e,t,n,r){let i=typeof t=="string"?Vm(t):t,s=Vc(i.pathname||"/",n);if(s==null)return null;let c=TD(e);Nj(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let p=Bj(s);u=jj(c[h],p,r)}return u}function TD(e,t=[],n=[],r="",i=!1){let s=(c,u,h=i,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;Jn(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let x=Mc([r,g.relativePath]),b=n.concat(g);c.children&&c.children.length>0&&(Jn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),TD(c.children,t,b,x,h)),!(c.path==null&&!c.index)&&t.push({path:x,score:Mj(x,c.index),routesMeta:b})};return e.forEach((c,u)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))s(c,u);else for(let p of AD(c.path))s(c,u,!0,p)}),t}function AD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let c=AD(r.join("/")),u=[];return u.push(...c.map(h=>h===""?s:[s,h].join("/"))),i&&u.push(...c),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function Nj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Lj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Cj=/^:[\w-]+$/,Rj=3,Dj=2,Ij=1,Oj=10,Fj=-2,dN=e=>e==="*";function Mj(e,t){let n=e.split("/"),r=n.length;return n.some(dN)&&(r+=Fj),t&&(r+=Dj),n.filter(i=>!dN(i)).reduce((i,s)=>i+(Cj.test(s)?Rj:s===""?Ij:Oj),r)}function Lj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function jj(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",c=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,g=s==="/"?t:t.slice(s.length)||"/",x=s_({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),b=h.route;if(!x&&p&&n&&!r[r.length-1].route.index&&(x=s_({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:Mc([s,x.pathname]),pathnameBase:Hj(Mc([s,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(s=Mc([s,x.pathnameBase]))}return c}function s_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Pj(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:x},b)=>{if(g==="*"){let S=u[b]||"";c=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const _=u[b];return x&&!_?p[g]=void 0:p[g]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:c,pattern:e}}function Pj(e,t=!1,n=!0){jl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Bj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jl(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Vc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Uj(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Vm(e):e;return{pathname:n?n.startsWith("/")?n:zj(n,t):t,search:qj(r),hash:Gj(i)}}function zj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function OS(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function kD(e){let t=Vj(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ND(e,t,n,r=!1){let i;typeof e=="string"?i=Vm(e):(i={...e},Jn(!i.pathname||!i.pathname.includes("?"),OS("?","pathname","search",i)),Jn(!i.pathname||!i.pathname.includes("#"),OS("#","pathname","hash",i)),Jn(!i.search||!i.search.includes("#"),OS("#","search","hash",i)));let s=e===""||i.pathname==="",c=s?"/":i.pathname,u;if(c==null)u=n;else{let x=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),x-=1;i.pathname=b.join("/")}u=x>=0?t[x]:"/"}let h=Uj(i,u),p=c&&c!=="/"&&c.endsWith("/"),g=(s||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Mc=e=>e.join("/").replace(/\/\/+/g,"/"),Hj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Wj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var CD=["POST","PUT","PATCH","DELETE"];new Set(CD);var Xj=["GET",...CD];new Set(Xj);var Hm=G.createContext(null);Hm.displayName="DataRouter";var aE=G.createContext(null);aE.displayName="DataRouterState";G.createContext(!1);var RD=G.createContext({isTransitioning:!1});RD.displayName="ViewTransition";var Kj=G.createContext(new Map);Kj.displayName="Fetchers";var Yj=G.createContext(null);Yj.displayName="Await";var Ul=G.createContext(null);Ul.displayName="Navigation";var Vy=G.createContext(null);Vy.displayName="Location";var Gc=G.createContext({outlet:null,matches:[],isDataRoute:!1});Gc.displayName="Route";var N2=G.createContext(null);N2.displayName="RouteError";function $j(e,{relative:t}={}){Jn(Hy(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=G.useContext(Ul),{hash:i,pathname:s,search:c}=Gy(e,{relative:t}),u=s;return n!=="/"&&(u=s==="/"?n:Mc([n,s])),r.createHref({pathname:u,search:c,hash:i})}function Hy(){return G.useContext(Vy)!=null}function Tf(){return Jn(Hy(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Vy).location}var DD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ID(e){G.useContext(Ul).static||G.useLayoutEffect(e)}function qy(){let{isDataRoute:e}=G.useContext(Gc);return e?c6():Qj()}function Qj(){Jn(Hy(),"useNavigate() may be used only in the context of a <Router> component.");let e=G.useContext(Hm),{basename:t,navigator:n}=G.useContext(Ul),{matches:r}=G.useContext(Gc),{pathname:i}=Tf(),s=JSON.stringify(kD(r)),c=G.useRef(!1);return ID(()=>{c.current=!0}),G.useCallback((h,p={})=>{if(jl(c.current,DD),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=ND(h,JSON.parse(s),i,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Mc([t,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[t,n,s,i,e])}G.createContext(null);function Gy(e,{relative:t}={}){let{matches:n}=G.useContext(Gc),{pathname:r}=Tf(),i=JSON.stringify(kD(n));return G.useMemo(()=>ND(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Jj(e,t){return OD(e,t)}function OD(e,t,n,r,i){var R;Jn(Hy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=G.useContext(Ul),{matches:c}=G.useContext(Gc),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",x=u&&u.route;{let A=x&&x.path||"";FD(p,!x||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let b=Tf(),_;if(t){let A=typeof t=="string"?Vm(t):t;Jn(g==="/"||((R=A.pathname)==null?void 0:R.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${A.pathname}" was given in the \`location\` prop.`),_=A}else _=b;let S=_.pathname||"/",E=S;if(g!=="/"){let A=g.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let T=SD(e,{pathname:E});jl(x||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),jl(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=r6(T&&T.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:Mc([g,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:Mc([g,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,n,r,i);return t&&k?G.createElement(Vy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},k):k}function Zj(){let e=l6(),t=Wj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:s},"ErrorBoundary")," or"," ",G.createElement("code",{style:s},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:i},n):null,c)}var e6=G.createElement(Zj,null),t6=class extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?G.createElement(Gc.Provider,{value:this.props.routeContext},G.createElement(N2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function n6({routeContext:e,match:t,children:n}){let r=G.useContext(Hm);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Gc.Provider,{value:e},n)}function r6(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,c=n==null?void 0:n.errors;if(c!=null){let p=s.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);Jn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,h=-1;if(n)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:x,errors:b}=n,_=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||_){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((p,g,x)=>{let b,_=!1,S=null,E=null;n&&(b=c&&g.route.id?c[g.route.id]:void 0,S=g.route.errorElement||e6,u&&(h<0&&x===0?(FD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):h===x&&(_=!0,E=g.route.hydrateFallbackElement||null)));let T=t.concat(s.slice(0,x+1)),k=()=>{let R;return b?R=S:_?R=E:g.route.Component?R=G.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=p,G.createElement(n6,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?G.createElement(t6,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:k(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:r}):k()},null)}function C2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i6(e){let t=G.useContext(Hm);return Jn(t,C2(e)),t}function a6(e){let t=G.useContext(aE);return Jn(t,C2(e)),t}function s6(e){let t=G.useContext(Gc);return Jn(t,C2(e)),t}function R2(e){let t=s6(e),n=t.matches[t.matches.length-1];return Jn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function o6(){return R2("useRouteId")}function l6(){var r;let e=G.useContext(N2),t=a6("useRouteError"),n=R2("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function c6(){let{router:e}=i6("useNavigate"),t=R2("useNavigate"),n=G.useRef(!1);return ID(()=>{n.current=!0}),G.useCallback(async(i,s={})=>{jl(n.current,DD),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var pN={};function FD(e,t,n){!t&&!pN[e]&&(pN[e]=!0,jl(!1,n))}G.memo(u6);function u6({routes:e,future:t,state:n,unstable_onError:r}){return OD(e,void 0,n,r,t)}function tm(e){Jn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f6({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Jn(!Hy(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=G.useMemo(()=>({basename:c,navigator:i,static:s,future:{}}),[c,i,s]);typeof n=="string"&&(n=Vm(n));let{pathname:h="/",search:p="",hash:g="",state:x=null,key:b="default"}=n,_=G.useMemo(()=>{let S=Vc(h,c);return S==null?null:{location:{pathname:S,search:p,hash:g,state:x,key:b},navigationType:r}},[c,h,p,g,x,b,r]);return jl(_!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:G.createElement(Ul.Provider,{value:u},G.createElement(Vy.Provider,{children:t,value:_}))}function h6({children:e,location:t}){return Jj(ST(e),t)}function ST(e,t=[]){let n=[];return G.Children.forEach(e,(r,i)=>{if(!G.isValidElement(r))return;let s=[...t,i];if(r.type===G.Fragment){n.push.apply(n,ST(r.props.children,s));return}Jn(r.type===tm,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ST(r.props.children,s)),n.push(c)}),n}var Gw="get",Ww="application/x-www-form-urlencoded";function sE(e){return e!=null&&typeof e.tagName=="string"}function d6(e){return sE(e)&&e.tagName.toLowerCase()==="button"}function p6(e){return sE(e)&&e.tagName.toLowerCase()==="form"}function m6(e){return sE(e)&&e.tagName.toLowerCase()==="input"}function g6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function v6(e,t){return e.button===0&&(!t||t==="_self")&&!g6(e)}var sw=null;function x6(){if(sw===null)try{new FormData(document.createElement("form"),0),sw=!1}catch{sw=!0}return sw}var y6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function FS(e){return e!=null&&!y6.has(e)?(jl(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ww}"`),null):e}function b6(e,t){let n,r,i,s,c;if(p6(e)){let u=e.getAttribute("action");r=u?Vc(u,t):null,n=e.getAttribute("method")||Gw,i=FS(e.getAttribute("enctype"))||Ww,s=new FormData(e)}else if(d6(e)||m6(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||u.getAttribute("action");if(r=h?Vc(h,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Gw,i=FS(e.getAttribute("formenctype"))||FS(u.getAttribute("enctype"))||Ww,s=new FormData(u,e),!x6()){let{name:p,type:g,value:x}=e;if(g==="image"){let b=p?`${p}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else p&&s.append(p,x)}}else{if(sE(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gw,r=null,i=Ww,c=e}return s&&i==="text/plain"&&(c=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function w6(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Vc(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function _6(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function S6(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let c=await _6(s,n);return c.links?c.links():[]}return[]}));return N6(r.flat(1).filter(E6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function mN(e,t,n,r,i,s){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,u=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return s==="assets"?t.filter((h,p)=>c(h,p)||u(h,p)):s==="data"?t.filter((h,p)=>{var x;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function T6(e,t,{includeHydrateFallback:n}={}){return A6(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function A6(e){return[...new Set(e)]}function k6(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function N6(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(k6(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function MD(){let e=G.useContext(Hm);return D2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function C6(){let e=G.useContext(aE);return D2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var I2=G.createContext(void 0);I2.displayName="FrameworkContext";function LD(){let e=G.useContext(I2);return D2(e,"You must render this element inside a <HydratedRouter> element"),e}function R6(e,t){let n=G.useContext(I2),[r,i]=G.useState(!1),[s,c]=G.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:x}=t,b=G.useRef(null);G.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let E=k=>{k.forEach(R=>{c(R.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[e]),G.useEffect(()=>{if(r){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[r]);let _=()=>{i(!0)},S=()=>{i(!1),c(!1)};return n?e!=="intent"?[s,b,{}]:[s,b,{onFocus:gx(u,_),onBlur:gx(h,S),onMouseEnter:gx(p,_),onMouseLeave:gx(g,S),onTouchStart:gx(x,_)}]:[!1,b,{}]}function gx(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function D6({page:e,...t}){let{router:n}=MD(),r=G.useMemo(()=>SD(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?G.createElement(O6,{page:e,matches:r,...t}):null}function I6(e){let{manifest:t,routeModules:n}=LD(),[r,i]=G.useState([]);return G.useEffect(()=>{let s=!1;return S6(e,t,n).then(c=>{s||i(c)}),()=>{s=!0}},[e,t,n]),r}function O6({page:e,matches:t,...n}){let r=Tf(),{manifest:i,routeModules:s}=LD(),{basename:c}=MD(),{loaderData:u,matches:h}=C6(),p=G.useMemo(()=>mN(e,t,h,i,r,"data"),[e,t,h,i,r]),g=G.useMemo(()=>mN(e,t,h,i,r,"assets"),[e,t,h,i,r]),x=G.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,E=!1;if(t.forEach(k=>{var A;let R=i.routes[k.route.id];!R||!R.hasLoader||(!p.some(O=>O.route.id===k.route.id)&&k.route.id in u&&((A=s[k.route.id])!=null&&A.shouldRevalidate)||R.hasClientLoader?E=!0:S.add(k.route.id))}),S.size===0)return[];let T=w6(e,c,"data");return E&&S.size>0&&T.searchParams.set("_routes",t.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[T.pathname+T.search]},[c,u,r,i,p,t,e,s]),b=G.useMemo(()=>T6(g,i),[g,i]),_=I6(g);return G.createElement(G.Fragment,null,x.map(S=>G.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>G.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),_.map(({key:S,link:E})=>G.createElement("link",{key:S,nonce:n.nonce,...E})))}function F6(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var jD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jD&&(window.__reactRouterVersion="7.9.4")}catch{}function M6({basename:e,children:t,window:n}){let r=G.useRef();r.current==null&&(r.current=Ej({window:n,v5Compat:!0}));let i=r.current,[s,c]=G.useState({action:i.action,location:i.location}),u=G.useCallback(h=>{G.startTransition(()=>c(h))},[c]);return G.useLayoutEffect(()=>i.listen(u),[i,u]),G.createElement(f6,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var PD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lx=G.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:c,state:u,target:h,to:p,preventScrollReset:g,viewTransition:x,...b},_){let{basename:S}=G.useContext(Ul),E=typeof p=="string"&&PD.test(p),T,k=!1;if(typeof p=="string"&&E&&(T=p,jD))try{let B=new URL(window.location.href),re=p.startsWith("//")?new URL(B.protocol+p):new URL(p),te=Vc(re.pathname,S);re.origin===B.origin&&te!=null?p=te+re.search+re.hash:k=!0}catch{jl(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=$j(p,{relative:i}),[A,O,I]=R6(r,b),M=B6(p,{replace:c,state:u,target:h,preventScrollReset:g,relative:i,viewTransition:x});function C(B){t&&t(B),B.defaultPrevented||M(B)}let z=G.createElement("a",{...b,...I,href:T||R,onClick:k||s?t:C,ref:F6(_,O),target:h,"data-discover":!E&&n==="render"?"true":void 0});return A&&!E?G.createElement(G.Fragment,null,z,G.createElement(D6,{page:R})):z});Lx.displayName="Link";var L6=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:c,viewTransition:u,children:h,...p},g){let x=Gy(c,{relative:p.relative}),b=Tf(),_=G.useContext(aE),{navigator:S,basename:E}=G.useContext(Ul),T=_!=null&&q6(x)&&u===!0,k=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,R=b.pathname,A=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(R=R.toLowerCase(),A=A?A.toLowerCase():null,k=k.toLowerCase()),A&&E&&(A=Vc(A,E)||A);const O=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let I=R===k||!i&&R.startsWith(k)&&R.charAt(O)==="/",M=A!=null&&(A===k||!i&&A.startsWith(k)&&A.charAt(k.length)==="/"),C={isActive:I,isPending:M,isTransitioning:T},z=I?t:void 0,B;typeof r=="function"?B=r(C):B=[r,I?"active":null,M?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let re=typeof s=="function"?s(C):s;return G.createElement(Lx,{...p,"aria-current":z,className:B,ref:g,style:re,to:c,viewTransition:u},typeof h=="function"?h(C):h)});L6.displayName="NavLink";var j6=G.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:c=Gw,action:u,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:x,...b},_)=>{let S=V6(),E=H6(u,{relative:p}),T=c.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&PD.test(u),R=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let O=A.nativeEvent.submitter,I=(O==null?void 0:O.getAttribute("formmethod"))||c;S(O||A.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:i,state:s,relative:p,preventScrollReset:g,viewTransition:x})};return G.createElement("form",{ref:_,method:T,action:E,onSubmit:r?h:R,...b,"data-discover":!k&&e==="render"?"true":void 0})});j6.displayName="Form";function P6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BD(e){let t=G.useContext(Hm);return Jn(t,P6(e)),t}function B6(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:c}={}){let u=qy(),h=Tf(),p=Gy(e,{relative:s});return G.useCallback(g=>{if(v6(g,t)){g.preventDefault();let x=n!==void 0?n:ny(h)===ny(p);u(e,{replace:x,state:r,preventScrollReset:i,relative:s,viewTransition:c})}},[h,u,p,n,r,t,e,i,s,c])}var U6=0,z6=()=>`__${String(++U6)}__`;function V6(){let{router:e}=BD("useSubmit"),{basename:t}=G.useContext(Ul),n=o6();return G.useCallback(async(r,i={})=>{let{action:s,method:c,encType:u,formData:h,body:p}=b6(r,t);if(i.navigate===!1){let g=i.fetcherKey||z6();await e.fetch(g,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function H6(e,{relative:t}={}){let{basename:n}=G.useContext(Ul),r=G.useContext(Gc);Jn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Gy(e||".",{relative:t})},c=Tf();if(e==null){s.search=c.search;let u=new URLSearchParams(s.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(x=>x).forEach(x=>u.append("index",x));let g=u.toString();s.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Mc([n,s.pathname])),ny(s)}function q6(e,{relative:t}={}){let n=G.useContext(RD);Jn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BD("useViewTransitionState"),i=Gy(e,{relative:t});if(!n.isTransitioning)return!1;let s=Vc(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Vc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return s_(i.pathname,c)!=null||s_(i.pathname,s)!=null}var TT=function(e,t){return TT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},TT(e,t)};function ot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");TT(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var vm=function(){return vm=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},vm.apply(this,arguments)};function ke(e,t,n,r){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function u(g){try{p(r.next(g))}catch(x){c(x)}}function h(g){try{p(r.throw(g))}catch(x){c(x)}}function p(g){g.done?s(g.value):i(g.value).then(u,h)}p((r=r.apply(e,t||[])).next())})}function Ae(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(g){return h([p,g])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(s=p[0]&2?i.return:p[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,p[1])).done)return s;switch(i=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(g){p=[6,g],i=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function MS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ow(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],c;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return s}function Un(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UD=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},G6=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],c=e[n++],u=e[n++],h=((i&7)<<18|(s&63)<<12|(c&63)<<6|u&63)-65536;t[r++]=String.fromCharCode(55296+(h>>10)),t[r++]=String.fromCharCode(56320+(h&1023))}else{var s=e[n++],c=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|c&63)}}return t.join("")},W6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],c=i+1<e.length,u=c?e[i+1]:0,h=i+2<e.length,p=h?e[i+2]:0,g=s>>2,x=(s&3)<<4|u>>4,b=(u&15)<<2|p>>6,_=p&63;h||(_=64,c||(b=64)),r.push(n[g],n[x],n[b],n[_])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(UD(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):G6(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],c=i<e.length,u=c?n[e.charAt(i)]:0;++i;var h=i<e.length,p=h?n[e.charAt(i)]:64;++i;var g=i<e.length,x=g?n[e.charAt(i)]:64;if(++i,s==null||u==null||p==null||x==null)throw Error();var b=s<<2|u>>4;if(r.push(b),p!==64){var _=u<<4&240|p>>2;if(r.push(_),x!==64){var S=p<<6&192|x;r.push(S)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},X6=function(e){var t=UD(e);return W6.encodeByteArray(t,!0)},gN=function(e){return X6(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(e){return ry(void 0,e)}function ry(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!Y6(r)||(e[r]=ry(e[r],t[r]));return e}function Y6(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $6=(function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e})();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var c=vm({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),u="";return[gN(JSON.stringify(n)),gN(JSON.stringify(c)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Od())}function VD(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J6(){return typeof self=="object"&&self.self===self}function Z6(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function e8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t8(){return Od().indexOf("Electron/")>=0}function n8(){var e=Od();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function r8(){return Od().indexOf("MSAppHost/")>=0}function i8(){return!VD()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a8="FirebaseError",HD=(function(e){ot(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=a8,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,O2.prototype.create),s}return t})(Error),O2=(function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,c=this.errors[t],u=c?s8(c,i):"Error",h=this.serviceName+": "+u+" ("+s+").",p=new HD(s,h,i);return p},e})();function s8(e,t){return e.replace(o8,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var o8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l8(e,t){var n=new c8(e,t);return n.subscribe.bind(n)}var c8=(function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");u8(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=LS),s.error===void 0&&(s.error=LS),s.complete===void 0&&(s.complete=LS);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),c},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e})();function u8(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function LS(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(e){return e&&e._delegate?e._delegate:e}var Wy=(function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e})();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f8=(function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new $6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(d8(t))try{this.getOrInitializeService({instanceIdentifier:pd})}catch{}try{for(var i=MS(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var c=ow(s.value,2),u=c[0],h=c[1],p=this.normalizeInstanceIdentifier(u);try{var g=this.getOrInitializeService({instanceIdentifier:p});h.resolve(g)}catch{}}}catch(x){n={error:x}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=pd),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return ke(this,void 0,void 0,function(){var t;return Ae(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Un(Un([],ow(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),ow(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=pd),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=pd),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,c=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:c,options:s});try{for(var h=MS(this.instancesDeferred.entries()),p=h.next();!p.done;p=h.next()){var g=ow(p.value,2),x=g[0],b=g[1],_=this.normalizeInstanceIdentifier(x);c===_&&b.resolve(u)}}catch(S){n={error:S}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}return u},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var c=this.instances.get(i);return c&&t(c,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var c=MS(s),u=c.next();!u.done;u=c.next()){var h=u.value;try{h(t,n)}catch{}}}catch(p){r={error:p}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:h8(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=pd),this.component?this.component.multipleInstances?t:pd:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e})();function h8(e){return e===pd?void 0:e}function d8(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p8=(function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new f8(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Io(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],c=0,u=s.length;c<u;c++,i++)r[i]=s[c];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cd,F2=[],Qt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Qt||(Qt={}));var qD={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},m8=Qt.INFO,g8=(cd={},cd[Qt.DEBUG]="log",cd[Qt.VERBOSE]="log",cd[Qt.INFO]="info",cd[Qt.WARN]="warn",cd[Qt.ERROR]="error",cd),v8=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=g8[t];if(s)console[s].apply(console,Io(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},GD=(function(){function e(t){this.name=t,this._logLevel=m8,this._logHandler=v8,this._userLogHandler=null,F2.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Qt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?qD[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Io([this,Qt.DEBUG],t)),this._logHandler.apply(this,Io([this,Qt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Io([this,Qt.VERBOSE],t)),this._logHandler.apply(this,Io([this,Qt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Io([this,Qt.INFO],t)),this._logHandler.apply(this,Io([this,Qt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Io([this,Qt.WARN],t)),this._logHandler.apply(this,Io([this,Qt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Io([this,Qt.ERROR],t)),this._logHandler.apply(this,Io([this,Qt.ERROR],t))},e})();function x8(e){F2.forEach(function(t){t.setLogLevel(e)})}function y8(e,t){for(var n=function(c){var u=null;t&&t.level&&(u=qD[t.level]),e===null?c.userLogHandler=null:c.userLogHandler=function(h,p){for(var g=[],x=2;x<arguments.length;x++)g[x-2]=arguments[x];var b=g.map(function(_){if(_==null)return null;if(typeof _=="string")return _;if(typeof _=="number"||typeof _=="boolean")return _.toString();if(_ instanceof Error)return _.message;try{return JSON.stringify(_)}catch{return null}}).filter(function(_){return _}).join(" ");p>=(u??h.logLevel)&&e({level:Qt[p].toLowerCase(),message:b,args:g,type:h.name})}},r=0,i=F2;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qu,b8=(Qu={},Qu["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Qu["bad-app-name"]="Illegal App name: '{$appName}",Qu["duplicate-app"]="Firebase App named '{$appName}' already exists",Qu["app-deleted"]="Firebase App named '{$appName}' already deleted",Qu["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Qu["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Qu),nm=new O2("app","Firebase",b8),WD="@firebase/app",w8="0.6.30",_8="@firebase/analytics",E8="@firebase/app-check",S8="@firebase/auth",T8="@firebase/database",A8="@firebase/functions",k8="@firebase/installations",N8="@firebase/messaging",C8="@firebase/performance",R8="@firebase/remote-config",D8="@firebase/storage",I8="@firebase/firestore",O8="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Di,o_="[DEFAULT]",F8=(Di={},Di[WD]="fire-core",Di[_8]="fire-analytics",Di[E8]="fire-app-check",Di[S8]="fire-auth",Di[T8]="fire-rtdb",Di[A8]="fire-fn",Di[k8]="fire-iid",Di[N8]="fire-fcm",Di[C8]="fire-perf",Di[R8]="fire-rc",Di[D8]="fire-gcs",Di[I8]="fire-fst",Di["fire-js"]="fire-js",Di[O8]="fire-js-all",Di);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xm=new GD("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xw=(function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=K6(t),this.container=new p8(n.name),this._addComponent(new Wy("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=o_),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=o_),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){xm.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw nm.create("app-deleted",{appName:this.name_})},e})();Xw.prototype.name&&Xw.prototype.options||Xw.prototype.delete||console.log("dc");var M8="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(e){var t={},n=new Map,r={__esModule:!0,initializeApp:c,app:s,registerVersion:p,setLogLevel:x8,onLog:g,apps:null,SDK_VERSION:M8,INTERNAL:{registerComponent:h,removeApp:i,components:n,useAsService:x}};r.default=r,Object.defineProperty(r,"apps",{get:u});function i(b){delete t[b]}function s(b){if(b=b||o_,!vN(t,b))throw nm.create("no-app",{appName:b});return t[b]}s.App=e;function c(b,_){if(_===void 0&&(_={}),typeof _!="object"||_===null){var S=_;_={name:S}}var E=_;E.name===void 0&&(E.name=o_);var T=E.name;if(typeof T!="string"||!T)throw nm.create("bad-app-name",{appName:String(T)});if(vN(t,T))throw nm.create("duplicate-app",{appName:T});var k=new e(b,E,r);return t[T]=k,k}function u(){return Object.keys(t).map(function(b){return t[b]})}function h(b){var _=b.name;if(n.has(_))return xm.debug("There were multiple attempts to register component "+_+"."),b.type==="PUBLIC"?r[_]:null;if(n.set(_,b),b.type==="PUBLIC"){var S=function(R){if(R===void 0&&(R=s()),typeof R[_]!="function")throw nm.create("invalid-app-argument",{appName:_});return R[_]()};b.serviceProps!==void 0&&ry(S,b.serviceProps),r[_]=S,e.prototype[_]=function(){for(var R=[],A=0;A<arguments.length;A++)R[A]=arguments[A];var O=this._getService.bind(this,_);return O.apply(this,b.multipleInstances?R:[])}}for(var E=0,T=Object.keys(t);E<T.length;E++){var k=T[E];t[k]._addComponent(b)}return b.type==="PUBLIC"?r[_]:null}function p(b,_,S){var E,T=(E=F8[b])!==null&&E!==void 0?E:b;S&&(T+="-"+S);var k=T.match(/\s|\//),R=_.match(/\s|\//);if(k||R){var A=['Unable to register library "'+T+'" with version "'+_+'":'];k&&A.push('library name "'+T+'" contains illegal characters (whitespace or "/")'),k&&R&&A.push("and"),R&&A.push('version name "'+_+'" contains illegal characters (whitespace or "/")'),xm.warn(A.join(" "));return}h(new Wy(T+"-version",function(){return{library:T,version:_}},"VERSION"))}function g(b,_){if(b!==null&&typeof b!="function")throw nm.create("invalid-log-argument");y8(b,_)}function x(b,_){if(_==="serverAuth")return null;var S=_;return S}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){var e=L8(Xw);e.INTERNAL=vm(vm({},e.INTERNAL),{createFirebaseNamespace:XD,extendNamespace:t,createSubscribe:l8,ErrorFactory:O2,deepExtend:ry});function t(n){ry(e,n)}return e}var M2=XD();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j8=(function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(P8(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e})();function P8(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(e,t){e.INTERNAL.registerComponent(new Wy("platform-logger",function(n){return new j8(n)},"PRIVATE")),e.registerVersion(WD,w8,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(J6()&&self.firebase!==void 0){xm.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var xN=self.firebase.SDK_VERSION;xN&&xN.indexOf("LITE")>=0&&xm.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var U8=M2.initializeApp;M2.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return VD()&&xm.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),U8.apply(void 0,e)};var Ze=M2;B8(Ze);var z8="firebase",KD="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ze.registerVersion(z8,KD,"app");Ze.SDK_VERSION=KD;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,a){l!=Array.prototype&&l!=Object.prototype&&(l[d]=a.value)};function n(l){l=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,l];for(var d=0;d<l.length;++d){var a=l[d];if(a&&a.Math==Math)return a}return globalThis}var r=n(this);function i(l,d){if(d){var a=r;l=l.split(".");for(var o=0;o<l.length-1;o++){var f=l[o];f in a||(a[f]={}),a=a[f]}l=l[l.length-1],o=a[l],d=d(o),d!=o&&d!=null&&t(a,l,{configurable:!0,writable:!0,value:d})}}function s(l){var d=0;return function(){return d<l.length?{done:!1,value:l[d++]}:{done:!0}}}function c(l){var d=typeof Symbol<"u"&&Symbol.iterator&&l[Symbol.iterator];return d?d.call(l):{next:s(l)}}i("Promise",function(l){function d(v){this.b=0,this.c=void 0,this.a=[];var w=this.f();try{v(w.resolve,w.reject)}catch(N){w.reject(N)}}function a(){this.a=null}function o(v){return v instanceof d?v:new d(function(w){w(v)})}if(l)return l;a.prototype.b=function(v){if(this.a==null){this.a=[];var w=this;this.c(function(){w.g()})}this.a.push(v)};var f=r.setTimeout;a.prototype.c=function(v){f(v,0)},a.prototype.g=function(){for(;this.a&&this.a.length;){var v=this.a;this.a=[];for(var w=0;w<v.length;++w){var N=v[w];v[w]=null;try{N()}catch(D){this.f(D)}}}this.a=null},a.prototype.f=function(v){this.c(function(){throw v})},d.prototype.f=function(){function v(D){return function(X){N||(N=!0,D.call(w,X))}}var w=this,N=!1;return{resolve:v(this.m),reject:v(this.g)}},d.prototype.m=function(v){if(v===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(v instanceof d)this.s(v);else{e:switch(typeof v){case"object":var w=v!=null;break e;case"function":w=!0;break e;default:w=!1}w?this.v(v):this.h(v)}},d.prototype.v=function(v){var w=void 0;try{w=v.then}catch(N){this.g(N);return}typeof w=="function"?this.u(w,v):this.h(v)},d.prototype.g=function(v){this.i(2,v)},d.prototype.h=function(v){this.i(1,v)},d.prototype.i=function(v,w){if(this.b!=0)throw Error("Cannot settle("+v+", "+w+"): Promise already settled in state"+this.b);this.b=v,this.c=w,this.l()},d.prototype.l=function(){if(this.a!=null){for(var v=0;v<this.a.length;++v)m.b(this.a[v]);this.a=null}};var m=new a;return d.prototype.s=function(v){var w=this.f();v.Ra(w.resolve,w.reject)},d.prototype.u=function(v,w){var N=this.f();try{v.call(w,N.resolve,N.reject)}catch(D){N.reject(D)}},d.prototype.then=function(v,w){function N(ue,ye){return typeof ue=="function"?function(le){try{D(ue(le))}catch(me){X(me)}}:ye}var D,X,ae=new d(function(ue,ye){D=ue,X=ye});return this.Ra(N(v,D),N(w,X)),ae},d.prototype.catch=function(v){return this.then(void 0,v)},d.prototype.Ra=function(v,w){function N(){switch(D.b){case 1:v(D.c);break;case 2:w(D.c);break;default:throw Error("Unexpected state: "+D.b)}}var D=this;this.a==null?m.b(N):this.a.push(N)},d.resolve=o,d.reject=function(v){return new d(function(w,N){N(v)})},d.race=function(v){return new d(function(w,N){for(var D=c(v),X=D.next();!X.done;X=D.next())o(X.value).Ra(w,N)})},d.all=function(v){var w=c(v),N=w.next();return N.done?o([]):new d(function(D,X){function ae(le){return function(me){ue[le]=me,ye--,ye==0&&D(ue)}}var ue=[],ye=0;do ue.push(void 0),ye++,o(N.value).Ra(ae(ue.length-1),X),N=w.next();while(!N.done)})},d});var u=u||{},h=this||self,p=/^[\w+/_-]+[=]{0,2}$/,g=null;function x(l){return(l=l.querySelector&&l.querySelector("script[nonce]"))&&(l=l.nonce||l.getAttribute("nonce"))&&p.test(l)?l:""}function b(){}function _(l){var d=typeof l;return d!="object"?d:l?Array.isArray(l)?"array":d:"null"}function S(l){var d=_(l);return d=="array"||d=="object"&&typeof l.length=="number"}function E(l){return _(l)=="function"}function T(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function k(l,d,a){return l.call.apply(l.bind,arguments)}function R(l,d,a){if(!l)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,o),l.apply(d,f)}}return function(){return l.apply(d,arguments)}}function A(l,d,a){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A=k:A=R,A.apply(null,arguments)}function O(l,d){var a=Array.prototype.slice.call(arguments,1);return function(){var o=a.slice();return o.push.apply(o,arguments),l.apply(this,o)}}function I(l,d){function a(){}a.prototype=d.prototype,l.bb=d.prototype,l.prototype=new a,l.prototype.constructor=l}function M(l){return l}function C(l,d,a){this.code=B+l,this.message=d||re[l]||"",this.a=a||null}I(C,Error),C.prototype.w=function(){var l={code:this.code,message:this.message};return this.a&&(l.serverResponse=this.a),l},C.prototype.toJSON=function(){return this.w()};function z(l){var d=l&&l.code;return d?new C(d.substring(B.length),l.message,l.serverResponse):null}var B="auth/",re={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},te={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Z(l){for(var d in te)if(te[d].id===l)return l=te[d],{firebaseEndpoint:l.Ua,secureTokenEndpoint:l.$a,identityPlatformEndpoint:l.Xa};return null}var xe;xe=Z("__EID__")?"__EID__":void 0;function De(l){if(!l)return!1;try{return!!l.$goog_Thenable}catch{return!1}}function ve(l){if(Error.captureStackTrace)Error.captureStackTrace(this,ve);else{var d=Error().stack;d&&(this.stack=d)}l&&(this.message=String(l))}I(ve,Error),ve.prototype.name="CustomError";function ee(l,d){l=l.split("%s");for(var a="",o=l.length-1,f=0;f<o;f++)a+=l[f]+(f<d.length?d[f]:"%s");ve.call(this,a+l[o])}I(ee,ve),ee.prototype.name="AssertionError";function J(l,d){throw new ee("Failure"+(l?": "+l:""),Array.prototype.slice.call(arguments,1))}function Ee(l,d){this.c=l,this.f=d,this.b=0,this.a=null}Ee.prototype.get=function(){if(0<this.b){this.b--;var l=this.a;this.a=l.next,l.next=null}else l=this.c();return l};function ne(l,d){l.f(d),100>l.b&&(l.b++,d.next=l.a,l.a=d)}function Ie(){this.b=this.a=null}var j=new Ee(function(){return new V},function(l){l.reset()});Ie.prototype.add=function(l,d){var a=j.get();a.set(l,d),this.b?this.b.next=a:this.a=a,this.b=a};function F(){var l=lg,d=null;return l.a&&(d=l.a,l.a=l.a.next,l.a||(l.b=null),d.next=null),d}function V(){this.next=this.b=this.a=null}V.prototype.set=function(l,d){this.a=l,this.b=d,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(l,d){return Array.prototype.indexOf.call(l,d,void 0)}:function(l,d){if(typeof l=="string")return typeof d!="string"||d.length!=1?-1:l.indexOf(d,0);for(var a=0;a<l.length;a++)if(a in l&&l[a]===d)return a;return-1},W=Array.prototype.forEach?function(l,d,a){Array.prototype.forEach.call(l,d,a)}:function(l,d,a){for(var o=l.length,f=typeof l=="string"?l.split(""):l,m=0;m<o;m++)m in f&&d.call(a,f[m],m,l)};function se(l,d){for(var a=typeof l=="string"?l.split(""):l,o=l.length-1;0<=o;--o)o in a&&d.call(void 0,a[o],o,l)}var we=Array.prototype.filter?function(l,d){return Array.prototype.filter.call(l,d,void 0)}:function(l,d){for(var a=l.length,o=[],f=0,m=typeof l=="string"?l.split(""):l,v=0;v<a;v++)if(v in m){var w=m[v];d.call(void 0,w,v,l)&&(o[f++]=w)}return o},Ne=Array.prototype.map?function(l,d){return Array.prototype.map.call(l,d,void 0)}:function(l,d){for(var a=l.length,o=Array(a),f=typeof l=="string"?l.split(""):l,m=0;m<a;m++)m in f&&(o[m]=d.call(void 0,f[m],m,l));return o},Te=Array.prototype.some?function(l,d){return Array.prototype.some.call(l,d,void 0)}:function(l,d){for(var a=l.length,o=typeof l=="string"?l.split(""):l,f=0;f<a;f++)if(f in o&&d.call(void 0,o[f],f,l))return!0;return!1};function Re(l){e:{for(var d=J1,a=l.length,o=typeof l=="string"?l.split(""):l,f=0;f<a;f++)if(f in o&&d.call(void 0,o[f],f,l)){d=f;break e}d=-1}return 0>d?null:typeof l=="string"?l.charAt(d):l[d]}function rt(l,d){return 0<=H(l,d)}function Q(l,d){d=H(l,d);var a;return(a=0<=d)&&Array.prototype.splice.call(l,d,1),a}function St(l,d){var a=0;se(l,function(o,f){d.call(void 0,o,f,l)&&Array.prototype.splice.call(l,f,1).length==1&&a++})}function pt(l){return Array.prototype.concat.apply([],arguments)}function At(l){var d=l.length;if(0<d){for(var a=Array(d),o=0;o<d;o++)a[o]=l[o];return a}return[]}var gt=String.prototype.trim?function(l){return l.trim()}:function(l){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(l)[1]},He=/&/g,En=/</g,Br=/>/g,gi=/"/g,Ki=/'/g,Hl=/\x00/g,vs=/[\x00&<>"']/;function st(l,d){return l.indexOf(d)!=-1}function Yi(l,d){return l<d?-1:l>d?1:0}var Ur;e:{var Js=h.navigator;if(Js){var Vn=Js.userAgent;if(Vn){Ur=Vn;break e}}Ur=""}function Gt(l){return st(Ur,l)}function vt(l,d){for(var a in l)d.call(void 0,l[a],a,l)}function Jt(l){for(var d in l)return!1;return!0}function Hn(l){var d={},a;for(a in l)d[a]=l[a];return d}var mn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mt(l,d){for(var a,o,f=1;f<arguments.length;f++){o=arguments[f];for(a in o)l[a]=o[a];for(var m=0;m<mn.length;m++)a=mn[m],Object.prototype.hasOwnProperty.call(o,a)&&(l[a]=o[a])}}function pa(l,d){e:{try{var a=l&&l.ownerDocument,o=a&&(a.defaultView||a.parentWindow);if(o=o||h,o.Element&&o.Location){var f=o;break e}}catch{}f=null}if(f&&typeof f[d]<"u"&&(!l||!(l instanceof f[d])&&(l instanceof f.Location||l instanceof f.Element))){if(T(l))try{var m=l.constructor.displayName||l.constructor.name||Object.prototype.toString.call(l)}catch{m="<object could not be stringified>"}else m=l===void 0?"undefined":l===null?"null":typeof l;J("Argument is not a %s (or a non-Element, non-Location mock); got: %s",d,m)}}function Sn(l,d){this.a=l===ql&&d||"",this.b=Lf}Sn.prototype.ta=!0,Sn.prototype.sa=function(){return this.a},Sn.prototype.toString=function(){return"Const{"+this.a+"}"};function Mf(l){return l instanceof Sn&&l.constructor===Sn&&l.b===Lf?l.a:(J("expected object of type Const, got '"+l+"'"),"type_error:Const")}var Lf={},ql={},xs;function Gl(){if(xs===void 0){var l=null,d=h.trustedTypes;if(d&&d.createPolicy){try{l=d.createPolicy("goog#html",{createHTML:M,createScript:M,createScriptURL:M})}catch(a){h.console&&h.console.error(a.message)}xs=l}else xs=l}return xs}function za(l,d){this.a=d===jf?l:""}za.prototype.ta=!0,za.prototype.sa=function(){return this.a.toString()},za.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function $i(l){return l instanceof za&&l.constructor===za?l.a:(J("expected object of type TrustedResourceUrl, got '"+l+"' of type "+_(l)),"type_error:TrustedResourceUrl")}function Ho(l,d){var a=Mf(l);if(!ig.test(a))throw Error("Invalid TrustedResourceUrl format: "+a);return l=a.replace(Wl,function(o,f){if(!Object.prototype.hasOwnProperty.call(d,f))throw Error('Found marker, "'+f+'", in format string, "'+a+'", but no valid label mapping found in args: '+JSON.stringify(d));return o=d[f],o instanceof Sn?Mf(o):encodeURIComponent(String(o))}),Pf(l)}var Wl=/%{(\w+)}/g,ig=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,jf={};function Pf(l){var d=Gl();return l=d?d.createScriptURL(l):l,new za(l,jf)}function Zn(l,d){this.a=d===L?l:""}Zn.prototype.ta=!0,Zn.prototype.sa=function(){return this.a.toString()},Zn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Jc(l){return l instanceof Zn&&l.constructor===Zn?l.a:(J("expected object of type SafeUrl, got '"+l+"' of type "+_(l)),"type_error:SafeUrl")}var l0=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Zc=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Bf=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function eu(l){if(l instanceof Zn)return l;if(l=typeof l=="object"&&l.ta?l.sa():String(l),Bf.test(l))l=new Zn(l,L);else{l=String(l),l=l.replace(/(%0A|%0D)/g,"");var d=l.match(Zc);l=d&&l0.test(d[1])?new Zn(l,L):null}return l}function tu(l){return l instanceof Zn?l:(l=typeof l=="object"&&l.ta?l.sa():String(l),Bf.test(l)||(l="about:invalid#zClosurez"),new Zn(l,L))}var L={},K=new Zn("about:invalid#zClosurez",L);function P(l,d,a){this.a=a===q?l:""}P.prototype.ta=!0,P.prototype.sa=function(){return this.a.toString()},P.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function U(l){return l instanceof P&&l.constructor===P?l.a:(J("expected object of type SafeHtml, got '"+l+"' of type "+_(l)),"type_error:SafeHtml")}var q={};function Y(l,d){pa(l,"HTMLScriptElement"),l.src=$i(d),(d=l.ownerDocument&&l.ownerDocument.defaultView)&&d!=h?d=x(d.document):(g===null&&(g=x(h.document)),d=g),d&&l.setAttribute("nonce",d)}function he(l,d,a,o){return l=l instanceof Zn?l:tu(l),d=d||h,a=a instanceof Sn?Mf(a):a||"",d.open(Jc(l),a,o,void 0)}function _e(l,d){for(var a=l.split("%s"),o="",f=Array.prototype.slice.call(arguments,1);f.length&&1<a.length;)o+=a.shift()+f.shift();return o+a.join("%s")}function ce(l){return vs.test(l)&&(l.indexOf("&")!=-1&&(l=l.replace(He,"&amp;")),l.indexOf("<")!=-1&&(l=l.replace(En,"&lt;")),l.indexOf(">")!=-1&&(l=l.replace(Br,"&gt;")),l.indexOf('"')!=-1&&(l=l.replace(gi,"&quot;")),l.indexOf("'")!=-1&&(l=l.replace(Ki,"&#39;")),l.indexOf("\0")!=-1&&(l=l.replace(Hl,"&#0;"))),l}function de(l){return de[" "](l),l}de[" "]=b;function pe(l,d){var a=qo;return Object.prototype.hasOwnProperty.call(a,l)?a[l]:a[l]=d(l)}var Fe=Gt("Opera"),Me=Gt("Trident")||Gt("MSIE"),qe=Gt("Edge"),Le=qe||Me,Ve=Gt("Gecko")&&!(st(Ur.toLowerCase(),"webkit")&&!Gt("Edge"))&&!(Gt("Trident")||Gt("MSIE"))&&!Gt("Edge"),$e=st(Ur.toLowerCase(),"webkit")&&!Gt("Edge");function sn(){var l=h.document;return l?l.documentMode:void 0}var Zt;e:{var gn="",vi=(function(){var l=Ur;if(Ve)return/rv:([^\);]+)(\)|;)/.exec(l);if(qe)return/Edge\/([\d\.]+)/.exec(l);if(Me)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l);if($e)return/WebKit\/(\S+)/.exec(l);if(Fe)return/(?:Version)[ \/]?(\S+)/.exec(l)})();if(vi&&(gn=vi?vi[1]:""),Me){var Zs=sn();if(Zs!=null&&Zs>parseFloat(gn)){Zt=String(Zs);break e}}Zt=gn}var qo={};function Va(l){return pe(l,function(){for(var d=0,a=gt(String(Zt)).split("."),o=gt(String(l)).split("."),f=Math.max(a.length,o.length),m=0;d==0&&m<f;m++){var v=a[m]||"",w=o[m]||"";do{if(v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],v[0].length==0&&w[0].length==0)break;d=Yi(v[1].length==0?0:parseInt(v[1],10),w[1].length==0?0:parseInt(w[1],10))||Yi(v[2].length==0,w[2].length==0)||Yi(v[2],w[2]),v=v[3],w=w[3]}while(d==0)}return 0<=d})}var Xl;if(h.document&&Me){var Qr=sn();Xl=Qr||parseInt(Zt,10)||void 0}else Xl=void 0;var Ha=Xl;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var eo=!Me||9<=Number(Ha);function zr(l){var d=document;return typeof l=="string"?d.getElementById(l):l}function ag(l,d){vt(d,function(a,o){a&&typeof a=="object"&&a.ta&&(a=a.sa()),o=="style"?l.style.cssText=a:o=="class"?l.className=a:o=="for"?l.htmlFor=a:y1.hasOwnProperty(o)?l.setAttribute(y1[o],a):o.lastIndexOf("aria-",0)==0||o.lastIndexOf("data-",0)==0?l.setAttribute(o,a):l[o]=a})}var y1={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function sg(l,d,a){var o=arguments,f=document,m=String(o[0]),v=o[1];if(!eo&&v&&(v.name||v.type)){if(m=["<",m],v.name&&m.push(' name="',ce(v.name),'"'),v.type){m.push(' type="',ce(v.type),'"');var w={};Mt(w,v),delete w.type,v=w}m.push(">"),m=m.join("")}return m=Kl(f,m),v&&(typeof v=="string"?m.className=v:Array.isArray(v)?m.className=v.join(" "):ag(m,v)),2<o.length&&b1(f,m,o),m}function b1(l,d,a){function o(w){w&&d.appendChild(typeof w=="string"?l.createTextNode(w):w)}for(var f=2;f<a.length;f++){var m=a[f];if(!S(m)||T(m)&&0<m.nodeType)o(m);else{e:{if(m&&typeof m.length=="number"){if(T(m)){var v=typeof m.item=="function"||typeof m.item=="string";break e}if(E(m)){v=typeof m.item=="function";break e}}v=!1}W(v?At(m):m,o)}}}function Kl(l,d){return d=String(d),l.contentType==="application/xhtml+xml"&&(d=d.toLowerCase()),l.createElement(d)}function w1(l){h.setTimeout(function(){throw l},0)}var xi;function og(){var l=h.MessageChannel;if(typeof l>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Gt("Presto")&&(l=function(){var f=Kl(document,"IFRAME");f.style.display="none",document.documentElement.appendChild(f);var m=f.contentWindow;f=m.document,f.open(),f.close();var v="callImmediate"+Math.random(),w=m.location.protocol=="file:"?"*":m.location.protocol+"//"+m.location.host;f=A(function(N){(w=="*"||N.origin==w)&&N.data==v&&this.port1.onmessage()},this),m.addEventListener("message",f,!1),this.port1={},this.port2={postMessage:function(){m.postMessage(v,w)}}}),typeof l<"u"&&!Gt("Trident")&&!Gt("MSIE")){var d=new l,a={},o=a;return d.port1.onmessage=function(){if(a.next!==void 0){a=a.next;var f=a.Hb;a.Hb=null,f()}},function(f){o.next={Hb:f},o=o.next,d.port2.postMessage(0)}}return function(f){h.setTimeout(f,0)}}function Uf(l,d){nu||ru(),c0||(nu(),c0=!0),lg.add(l,d)}var nu;function ru(){if(h.Promise&&h.Promise.resolve){var l=h.Promise.resolve(void 0);nu=function(){l.then(Yl)}}else nu=function(){var d=Yl;!E(h.setImmediate)||h.Window&&h.Window.prototype&&!Gt("Edge")&&h.Window.prototype.setImmediate==h.setImmediate?(xi||(xi=og()),xi(d)):h.setImmediate(d)}}var c0=!1,lg=new Ie;function Yl(){for(var l;l=F();){try{l.a.call(l.b)}catch(d){w1(d)}ne(j,l)}c0=!1}function kt(l,d){if(this.a=Go,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,l!=b)try{var a=this;l.call(d,function(o){Ga(a,iu,o)},function(o){if(!(o instanceof no))try{throw o instanceof Error?o:Error("Promise rejected.")}catch{}Ga(a,qa,o)})}catch(o){Ga(this,qa,o)}}var Go=0,iu=2,qa=3;function _1(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_1.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var E1=new Ee(function(){return new _1},function(l){l.reset()});function au(l,d,a){var o=E1.get();return o.g=l,o.b=d,o.f=a,o}function Qe(l){if(l instanceof kt)return l;var d=new kt(b);return Ga(d,iu,l),d}function vn(l){return new kt(function(d,a){a(l)})}function u0(l,d,a){ys(l,d,a,null)||Uf(O(d,l))}function su(l){return new kt(function(d,a){var o=l.length,f=[];if(o)for(var m=function(D,X){o--,f[D]=X,o==0&&d(f)},v=function(D){a(D)},w=0,N;w<l.length;w++)N=l[w],u0(N,O(m,w),v);else d(f)})}function $l(l){return new kt(function(d){var a=l.length,o=[];if(a)for(var f=function(w,N,D){a--,o[w]=N?{Qb:!0,value:D}:{Qb:!1,reason:D},a==0&&d(o)},m=0,v;m<l.length;m++)v=l[m],u0(v,O(f,m,!0),O(f,m,!1));else d(o)})}kt.prototype.then=function(l,d,a){return ug(this,E(l)?l:null,E(d)?d:null,a)},kt.prototype.$goog_Thenable=!0,e=kt.prototype,e.oa=function(l,d){return l=au(l,l,d),l.c=!0,zf(this,l),this},e.o=function(l,d){return ug(this,null,l,d)},e.cancel=function(l){if(this.a==Go){var d=new no(l);Uf(function(){cg(this,d)},this)}};function cg(l,d){if(l.a==Go)if(l.c){var a=l.c;if(a.b){for(var o=0,f=null,m=null,v=a.b;v&&(v.c||(o++,v.a==l&&(f=v),!(f&&1<o)));v=v.next)f||(m=v);f&&(a.a==Go&&o==1?cg(a,d):(m?(o=m,o.next==a.f&&(a.f=o),o.next=o.next.next):to(a),f0(a,f,qa,d)))}l.c=null}else Ga(l,qa,d)}function zf(l,d){l.b||l.a!=iu&&l.a!=qa||ou(l),l.f?l.f.next=d:l.b=d,l.f=d}function ug(l,d,a,o){var f=au(null,null,null);return f.a=new kt(function(m,v){f.g=d?function(w){try{var N=d.call(o,w);m(N)}catch(D){v(D)}}:m,f.b=a?function(w){try{var N=a.call(o,w);N===void 0&&w instanceof no?v(w):m(N)}catch(D){v(D)}}:v}),f.a.c=l,zf(l,f),f.a}e.$c=function(l){this.a=Go,Ga(this,iu,l)},e.ad=function(l){this.a=Go,Ga(this,qa,l)};function Ga(l,d,a){l.a==Go&&(l===a&&(d=qa,a=new TypeError("Promise cannot resolve to itself")),l.a=1,ys(a,l.$c,l.ad,l)||(l.i=a,l.a=d,l.c=null,ou(l),d!=qa||a instanceof no||S1(l,a)))}function ys(l,d,a,o){if(l instanceof kt)return zf(l,au(d||b,a||null,o)),!0;if(De(l))return l.then(d,a,o),!0;if(T(l))try{var f=l.then;if(E(f))return fg(l,f,d,a,o),!0}catch(m){return a.call(o,m),!0}return!1}function fg(l,d,a,o,f){function m(N){w||(w=!0,o.call(f,N))}function v(N){w||(w=!0,a.call(f,N))}var w=!1;try{d.call(l,v,m)}catch(N){m(N)}}function ou(l){l.h||(l.h=!0,Uf(l.gc,l))}function to(l){var d=null;return l.b&&(d=l.b,l.b=d.next,d.next=null),l.b||(l.f=null),d}e.gc=function(){for(var l;l=to(this);)f0(this,l,this.a,this.i);this.h=!1};function f0(l,d,a,o){if(a==qa&&d.b&&!d.c)for(;l&&l.g;l=l.c)l.g=!1;if(d.a)d.a.c=null,Vf(d,a,o);else try{d.c?d.g.call(d.f):Vf(d,a,o)}catch(f){Hf.call(null,f)}ne(E1,d)}function Vf(l,d,a){d==iu?l.g.call(l.f,a):l.b&&l.b.call(l.f,a)}function S1(l,d){l.g=!0,Uf(function(){l.g&&Hf.call(null,d)})}var Hf=w1;function no(l){ve.call(this,l)}I(no,ve),no.prototype.name="cancel";function qf(){this.ya=this.ya,this.pa=this.pa}var yi=0;qf.prototype.ya=!1;function Wo(l){!l.ya&&(l.ya=!0,l.Da(),yi!=0)}qf.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var h0=Object.freeze||function(l){return l},lu=!Me||9<=Number(Ha),sS=Me&&!Va("9"),hg=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{h.addEventListener("test",b,d),h.removeEventListener("test",b,d)}catch{}return l})();function Vr(l,d){this.type=l,this.b=this.target=d,this.defaultPrevented=!1}Vr.prototype.preventDefault=function(){this.defaultPrevented=!0};function Wa(l,d){if(Vr.call(this,l?l.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,l){var a=this.type=l.type,o=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.b=d,d=l.relatedTarget){if(Ve){e:{try{de(d.nodeName);var f=!0;break e}catch{}f=!1}f||(d=null)}}else a=="mouseover"?d=l.fromElement:a=="mouseout"&&(d=l.toElement);this.relatedTarget=d,o?(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:d0[l.pointerType]||"",this.a=l,l.defaultPrevented&&this.preventDefault()}}I(Wa,Vr);var d0=h0({2:"touch",3:"pen",4:"mouse"});Wa.prototype.preventDefault=function(){Wa.bb.preventDefault.call(this);var l=this.a;if(l.preventDefault)l.preventDefault();else if(l.returnValue=!1,sS)try{(l.ctrlKey||112<=l.keyCode&&123>=l.keyCode)&&(l.keyCode=-1)}catch{}},Wa.prototype.g=function(){return this.a};var cu="closure_listenable_"+(1e6*Math.random()|0),oS=0;function lS(l,d,a,o,f){this.listener=l,this.proxy=null,this.src=d,this.type=a,this.capture=!!o,this.Wa=f,this.key=++oS,this.wa=this.Qa=!1}function p0(l){l.wa=!0,l.listener=null,l.proxy=null,l.src=null,l.Wa=null}function uu(l){this.src=l,this.a={},this.b=0}uu.prototype.add=function(l,d,a,o,f){var m=l.toString();l=this.a[m],l||(l=this.a[m]=[],this.b++);var v=pg(l,d,o,f);return-1<v?(d=l[v],a||(d.Qa=!1)):(d=new lS(d,this.src,m,!!o,f),d.Qa=a,l.push(d)),d};function dg(l,d){var a=d.type;a in l.a&&Q(l.a[a],d)&&(p0(d),l.a[a].length==0&&(delete l.a[a],l.b--))}function pg(l,d,a,o){for(var f=0;f<l.length;++f){var m=l[f];if(!m.wa&&m.listener==d&&m.capture==!!a&&m.Wa==o)return f}return-1}var mg="closure_lm_"+(1e6*Math.random()|0),gg={};function ma(l,d,a,o,f){if(o&&o.once)xg(l,d,a,o,f);else if(Array.isArray(d))for(var m=0;m<d.length;m++)ma(l,d[m],a,o,f);else a=bg(a),l&&l[cu]?N1(l,d,a,T(o)?!!o.capture:!!o,f):vg(l,d,a,!1,o,f)}function vg(l,d,a,o,f,m){if(!d)throw Error("Invalid event type");var v=T(f)?!!f.capture:!!f,w=Gf(l);if(w||(l[mg]=w=new uu(l)),a=w.add(d,a,o,v,m),!a.proxy)if(o=cS(),a.proxy=o,o.src=l,o.listener=a,l.addEventListener)hg||(f=v),f===void 0&&(f=!1),l.addEventListener(d.toString(),o,f);else if(l.attachEvent)l.attachEvent(m0(d.toString()),o);else if(l.addListener&&l.removeListener)l.addListener(o);else throw Error("addEventListener and attachEvent are unavailable.")}function cS(){var l=uS,d=lu?function(a){return l.call(d.src,d.listener,a)}:function(a){if(a=l.call(d.src,d.listener,a),!a)return a};return d}function xg(l,d,a,o,f){if(Array.isArray(d))for(var m=0;m<d.length;m++)xg(l,d[m],a,o,f);else a=bg(a),l&&l[cu]?wg(l,d,a,T(o)?!!o.capture:!!o,f):vg(l,d,a,!0,o,f)}function Qi(l,d,a,o,f){if(Array.isArray(d))for(var m=0;m<d.length;m++)Qi(l,d[m],a,o,f);else o=T(o)?!!o.capture:!!o,a=bg(a),l&&l[cu]?(l=l.v,d=String(d).toString(),d in l.a&&(m=l.a[d],a=pg(m,a,o,f),-1<a&&(p0(m[a]),Array.prototype.splice.call(m,a,1),m.length==0&&(delete l.a[d],l.b--)))):l&&(l=Gf(l))&&(d=l.a[d.toString()],l=-1,d&&(l=pg(d,a,o,f)),(a=-1<l?d[l]:null)&&T1(a))}function T1(l){if(typeof l!="number"&&l&&!l.wa){var d=l.src;if(d&&d[cu])dg(d.v,l);else{var a=l.type,o=l.proxy;d.removeEventListener?d.removeEventListener(a,o,l.capture):d.detachEvent?d.detachEvent(m0(a),o):d.addListener&&d.removeListener&&d.removeListener(o),(a=Gf(d))?(dg(a,l),a.b==0&&(a.src=null,d[mg]=null)):p0(l)}}}function m0(l){return l in gg?gg[l]:gg[l]="on"+l}function A1(l,d,a,o){var f=!0;if((l=Gf(l))&&(d=l.a[d.toString()]))for(d=d.concat(),l=0;l<d.length;l++){var m=d[l];m&&m.capture==a&&!m.wa&&(m=k1(m,o),f=f&&m!==!1)}return f}function k1(l,d){var a=l.listener,o=l.Wa||l.src;return l.Qa&&T1(l),a.call(o,d)}function uS(l,d){if(l.wa)return!0;if(!lu){if(!d)e:{d=["window","event"];for(var a=h,o=0;o<d.length;o++)if(a=a[d[o]],a==null){d=null;break e}d=a}if(o=d,d=new Wa(o,this),a=!0,!(0>o.keyCode||o.returnValue!=null)){e:{var f=!1;if(o.keyCode==0)try{o.keyCode=-1;break e}catch{f=!0}(f||o.returnValue==null)&&(o.returnValue=!0)}for(o=[],f=d.b;f;f=f.parentNode)o.push(f);for(l=l.type,f=o.length-1;0<=f;f--){d.b=o[f];var m=A1(o[f],l,!0,d);a=a&&m}for(f=0;f<o.length;f++)d.b=o[f],m=A1(o[f],l,!1,d),a=a&&m}return a}return k1(l,new Wa(d,this))}function Gf(l){return l=l[mg],l instanceof uu?l:null}var yg="__closure_events_fn_"+(1e9*Math.random()>>>0);function bg(l){return E(l)?l:(l[yg]||(l[yg]=function(d){return l.handleEvent(d)}),l[yg])}function Jr(){qf.call(this),this.v=new uu(this),this.bc=this,this.hb=null}I(Jr,qf),Jr.prototype[cu]=!0,Jr.prototype.addEventListener=function(l,d,a,o){ma(this,l,d,a,o)},Jr.prototype.removeEventListener=function(l,d,a,o){Qi(this,l,d,a,o)},Jr.prototype.dispatchEvent=function(l){var d,a=this.hb;if(a)for(d=[];a;a=a.hb)d.push(a);a=this.bc;var o=l.type||l;if(typeof l=="string")l=new Vr(l,a);else if(l instanceof Vr)l.target=l.target||a;else{var f=l;l=new Vr(o,a),Mt(l,f)}if(f=!0,d)for(var m=d.length-1;0<=m;m--){var v=l.b=d[m];f=g0(v,o,!0,l)&&f}if(v=l.b=a,f=g0(v,o,!0,l)&&f,f=g0(v,o,!1,l)&&f,d)for(m=0;m<d.length;m++)v=l.b=d[m],f=g0(v,o,!1,l)&&f;return f},Jr.prototype.Da=function(){if(Jr.bb.Da.call(this),this.v){var l=this.v,d;for(d in l.a){for(var a=l.a[d],o=0;o<a.length;o++)p0(a[o]);delete l.a[d],l.b--}}this.hb=null};function N1(l,d,a,o,f){l.v.add(String(d),a,!1,o,f)}function wg(l,d,a,o,f){l.v.add(String(d),a,!0,o,f)}function g0(l,d,a,o){if(d=l.v.a[String(d)],!d)return!0;d=d.concat();for(var f=!0,m=0;m<d.length;++m){var v=d[m];if(v&&!v.wa&&v.capture==a){var w=v.listener,N=v.Wa||v.src;v.Qa&&dg(l.v,v),f=w.call(N,o)!==!1&&f}}return f&&!o.defaultPrevented}function _g(l,d,a){if(E(l))a&&(l=A(l,a));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:h.setTimeout(l,d||0)}function fu(l){var d=null;return new kt(function(a,o){d=_g(function(){a(void 0)},l),d==-1&&o(Error("Failed to schedule timer."))}).o(function(a){throw h.clearTimeout(d),a})}function C1(l){if(l.X&&typeof l.X=="function")return l.X();if(typeof l=="string")return l.split("");if(S(l)){for(var d=[],a=l.length,o=0;o<a;o++)d.push(l[o]);return d}d=[],a=0;for(o in l)d[a++]=l[o];return d}function v0(l){if(l.Y&&typeof l.Y=="function")return l.Y();if(!l.X||typeof l.X!="function"){if(S(l)||typeof l=="string"){var d=[];l=l.length;for(var a=0;a<l;a++)d.push(a);return d}d=[],a=0;for(var o in l)d[a++]=o;return d}}function Wf(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(S(l)||typeof l=="string")W(l,d,void 0);else for(var a=v0(l),o=C1(l),f=o.length,m=0;m<f;m++)d.call(void 0,o[m],a&&a[m],l)}function hu(l,d){this.b={},this.a=[],this.c=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var o=0;o<a;o+=2)this.set(arguments[o],arguments[o+1])}else if(l)if(l instanceof hu)for(a=l.Y(),o=0;o<a.length;o++)this.set(a[o],l.get(a[o]));else for(o in l)this.set(o,l[o])}e=hu.prototype,e.X=function(){x0(this);for(var l=[],d=0;d<this.a.length;d++)l.push(this.b[this.a[d]]);return l},e.Y=function(){return x0(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function x0(l){if(l.c!=l.a.length){for(var d=0,a=0;d<l.a.length;){var o=l.a[d];Xo(l.b,o)&&(l.a[a++]=o),d++}l.a.length=a}if(l.c!=l.a.length){var f={};for(a=d=0;d<l.a.length;)o=l.a[d],Xo(f,o)||(l.a[a++]=o,f[o]=1),d++;l.a.length=a}}e.get=function(l,d){return Xo(this.b,l)?this.b[l]:d},e.set=function(l,d){Xo(this.b,l)||(this.c++,this.a.push(l)),this.b[l]=d},e.forEach=function(l,d){for(var a=this.Y(),o=0;o<a.length;o++){var f=a[o],m=this.get(f);l.call(d,m,f,this)}};function Xo(l,d){return Object.prototype.hasOwnProperty.call(l,d)}var Eg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function R1(l,d){if(l){l=l.split("&");for(var a=0;a<l.length;a++){var o=l[a].indexOf("="),f=null;if(0<=o){var m=l[a].substring(0,o);f=l[a].substring(o+1)}else m=l[a];d(m,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}function ro(l,d){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var a;l instanceof ro?(this.i=d!==void 0?d:l.i,bs(this,l.c),this.l=l.l,this.a=l.a,Xf(this,l.g),this.f=l.f,Sg(this,M1(l.b)),this.h=l.h):l&&(a=String(l).match(Eg))?(this.i=!!d,bs(this,a[1]||"",!0),this.l=io(a[2]||""),this.a=io(a[3]||"",!0),Xf(this,a[4]),this.f=io(a[5]||"",!0),Sg(this,a[6]||"",!0),this.h=io(a[7]||"")):(this.i=!!d,this.b=new Yo(null,this.i))}ro.prototype.toString=function(){var l=[],d=this.c;d&&l.push(Kf(d,Tg,!0),":");var a=this.a;return(a||d=="file")&&(l.push("//"),(d=this.l)&&l.push(Kf(d,Tg,!0),"@"),l.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a=this.g,a!=null&&l.push(":",String(a))),(a=this.f)&&(this.a&&a.charAt(0)!="/"&&l.push("/"),l.push(Kf(a,a.charAt(0)=="/"?Ag:D1,!0))),(a=this.b.toString())&&l.push("?",a),(a=this.h)&&l.push("#",Kf(a,I1)),l.join("")},ro.prototype.resolve=function(l){var d=new ro(this),a=!!l.c;a?bs(d,l.c):a=!!l.l,a?d.l=l.l:a=!!l.a,a?d.a=l.a:a=l.g!=null;var o=l.f;if(a)Xf(d,l.g);else if(a=!!l.f){if(o.charAt(0)!="/")if(this.a&&!this.f)o="/"+o;else{var f=d.f.lastIndexOf("/");f!=-1&&(o=d.f.substr(0,f+1)+o)}if(f=o,f==".."||f==".")o="";else if(st(f,"./")||st(f,"/.")){o=f.lastIndexOf("/",0)==0,f=f.split("/");for(var m=[],v=0;v<f.length;){var w=f[v++];w=="."?o&&v==f.length&&m.push(""):w==".."?((1<m.length||m.length==1&&m[0]!="")&&m.pop(),o&&v==f.length&&m.push("")):(m.push(w),o=!0)}o=m.join("/")}else o=f}return a?d.f=o:a=l.b.toString()!=="",a?Sg(d,M1(l.b)):a=!!l.h,a&&(d.h=l.h),d};function bs(l,d,a){l.c=a?io(d,!0):d,l.c&&(l.c=l.c.replace(/:$/,""))}function Xf(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.g=d}else l.g=null}function Sg(l,d,a){d instanceof Yo?(l.b=d,Yf(l.b,l.i)):(a||(d=Kf(d,kg)),l.b=new Yo(d,l.i))}function qn(l,d,a){l.b.set(d,a)}function Ji(l,d){return l.b.get(d)}function Zr(l){return l instanceof ro?new ro(l):new ro(l,void 0)}function Ko(l,d,a,o){var f=new ro(null,void 0);return l&&bs(f,l),d&&(f.a=d),a&&Xf(f,a),o&&(f.f=o),f}function io(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Kf(l,d,a){return typeof l=="string"?(l=encodeURI(l).replace(d,y0),a&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function y0(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Tg=/[#\/\?@]/g,D1=/[#\?:]/g,Ag=/[#\?]/g,kg=/[#\?@]/g,I1=/#/g;function Yo(l,d){this.b=this.a=null,this.c=l||null,this.f=!!d}function ao(l){l.a||(l.a=new hu,l.b=0,l.c&&R1(l.c,function(d,a){l.add(decodeURIComponent(d.replace(/\+/g," ")),a)}))}function O1(l){var d=v0(l);if(typeof d>"u")throw Error("Keys are undefined");var a=new Yo(null,void 0);l=C1(l);for(var o=0;o<d.length;o++){var f=d[o],m=l[o];Array.isArray(m)?F1(a,f,m):a.add(f,m)}return a}e=Yo.prototype,e.add=function(l,d){ao(this),this.c=null,l=vr(this,l);var a=this.a.get(l);return a||this.a.set(l,a=[]),a.push(d),this.b+=1,this};function ws(l,d){ao(l),d=vr(l,d),Xo(l.a.b,d)&&(l.c=null,l.b-=l.a.get(d).length,l=l.a,Xo(l.b,d)&&(delete l.b[d],l.c--,l.a.length>2*l.c&&x0(l)))}e.clear=function(){this.a=this.c=null,this.b=0};function Ng(l,d){return ao(l),d=vr(l,d),Xo(l.a.b,d)}e.forEach=function(l,d){ao(this),this.a.forEach(function(a,o){W(a,function(f){l.call(d,f,o,this)},this)},this)},e.Y=function(){ao(this);for(var l=this.a.X(),d=this.a.Y(),a=[],o=0;o<d.length;o++)for(var f=l[o],m=0;m<f.length;m++)a.push(d[o]);return a},e.X=function(l){ao(this);var d=[];if(typeof l=="string")Ng(this,l)&&(d=pt(d,this.a.get(vr(this,l))));else{l=this.a.X();for(var a=0;a<l.length;a++)d=pt(d,l[a])}return d},e.set=function(l,d){return ao(this),this.c=null,l=vr(this,l),Ng(this,l)&&(this.b-=this.a.get(l).length),this.a.set(l,[d]),this.b+=1,this},e.get=function(l,d){return l?(l=this.X(l),0<l.length?String(l[0]):d):d};function F1(l,d,a){ws(l,d),0<a.length&&(l.c=null,l.a.set(vr(l,d),At(a)),l.b+=a.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var l=[],d=this.a.Y(),a=0;a<d.length;a++){var o=d[a],f=encodeURIComponent(String(o));o=this.X(o);for(var m=0;m<o.length;m++){var v=f;o[m]!==""&&(v+="="+encodeURIComponent(String(o[m]))),l.push(v)}}return this.c=l.join("&")};function M1(l){var d=new Yo;return d.c=l.c,l.a&&(d.a=new hu(l.a),d.b=l.b),d}function vr(l,d){return d=String(d),l.f&&(d=d.toLowerCase()),d}function Yf(l,d){d&&!l.f&&(ao(l),l.c=null,l.a.forEach(function(a,o){var f=o.toLowerCase();o!=f&&(ws(this,o),F1(this,f,a))},l)),l.f=d}function Cg(l){var d=[];return b0(new L1,l,d),d.join("")}function L1(){}function b0(l,d,a){if(d==null)a.push("null");else{if(typeof d=="object"){if(Array.isArray(d)){var o=d;d=o.length,a.push("[");for(var f="",m=0;m<d;m++)a.push(f),b0(l,o[m],a),f=",";a.push("]");return}if(d instanceof String||d instanceof Number||d instanceof Boolean)d=d.valueOf();else{a.push("{"),f="";for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(m=d[o],typeof m!="function"&&(a.push(f),j1(o,a),a.push(":"),b0(l,m,a),f=","));a.push("}");return}}switch(typeof d){case"string":j1(d,a);break;case"number":a.push(isFinite(d)&&!isNaN(d)?String(d):"null");break;case"boolean":a.push(String(d));break;case"function":a.push("null");break;default:throw Error("Unknown type: "+typeof d)}}}var Rg={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Dg=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function j1(l,d){d.push('"',l.replace(Dg,function(a){var o=Rg[a];return o||(o="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),Rg[a]=o),o}),'"')}function $o(){var l=er();return Me&&!!Ha&&Ha==11||/Edge\/\d+/.test(l)}function Ql(){return h.window&&h.window.location.href||self&&self.location&&self.location.href||""}function du(l,d){d=d||h.window;var a="about:blank";l&&(a=Jc(eu(l)||K)),d.location.href=a}function w0(l,d){var a=[],o;for(o in l)o in d?typeof l[o]!=typeof d[o]?a.push(o):typeof l[o]=="object"&&l[o]!=null&&d[o]!=null?0<w0(l[o],d[o]).length&&a.push(o):l[o]!==d[o]&&a.push(o):a.push(o);for(o in d)o in l||a.push(o);return a}function P1(){var l=er();return l=Nr(l)!=Qf?null:(l=l.match(/\sChrome\/(\d+)/i))&&l.length==2?parseInt(l[1],10):null,l&&30>l?!1:!Me||!Ha||9<Ha}function Qo(l){return l=(l||er()).toLowerCase(),!!(l.match(/android/)||l.match(/webos/)||l.match(/iphone|ipad|ipod/)||l.match(/blackberry/)||l.match(/windows phone/)||l.match(/iemobile/))}function ga(l){l=l||h.window;try{l.close()}catch{}}function _0(l,d,a){var o=Math.floor(1e9*Math.random()).toString();d=d||500,a=a||600;var f=(window.screen.availHeight-a)/2,m=(window.screen.availWidth-d)/2;d={width:d,height:a,top:0<f?f:0,left:0<m?m:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},a=er().toLowerCase(),o&&(d.target=o,st(a,"crios/")&&(d.target="_blank")),Nr(er())==Zi&&(l=l||"http://localhost",d.scrollbars=!0),a=l||"",(l=d)||(l={}),o=window,d=a instanceof Zn?a:eu(typeof a.href<"u"?a.href:String(a))||K,a=l.target||a.target,f=[];for(v in l)switch(v){case"width":case"height":case"top":case"left":f.push(v+"="+l[v]);break;case"target":case"noopener":case"noreferrer":break;default:f.push(v+"="+(l[v]?1:0))}var v=f.join(",");if((Gt("iPhone")&&!Gt("iPod")&&!Gt("iPad")||Gt("iPad")||Gt("iPod"))&&o.navigator&&o.navigator.standalone&&a&&a!="_self"?(v=Kl(document,"A"),pa(v,"HTMLAnchorElement"),d=d instanceof Zn?d:tu(d),v.href=Jc(d),v.setAttribute("target",a),l.noreferrer&&v.setAttribute("rel","noreferrer"),l=document.createEvent("MouseEvent"),l.initMouseEvent("click",!0,!0,o,1),v.dispatchEvent(l),v={}):l.noreferrer?(v=he("",o,a,v),l=Jc(d),v&&(Le&&st(l,";")&&(l="'"+l.replace(/'/g,"%27")+"'"),v.opener=null,l='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ce(l)+'">',l=(o=Gl())?o.createHTML(l):l,l=new P(l,null,q),o=v.document)&&(o.write(U(l)),o.close())):(v=he(d,o,a,v))&&l.noopener&&(v.opener=null),v)try{v.focus()}catch{}return v}function B1(l){return new kt(function(d){function a(){fu(2e3).then(function(){if(!l||l.closed)d();else return a()})}return a()})}var Jl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U1=/^[^@]+@[^@]+$/;function $f(){var l=null;return new kt(function(d){h.document.readyState=="complete"?d():(l=function(){d()},xg(window,"load",l))}).o(function(d){throw Qi(window,"load",l),d})}function z1(){return Ig(void 0)?$f().then(function(){return new kt(function(l,d){var a=h.document,o=setTimeout(function(){d(Error("Cordova framework is not ready."))},1e3);a.addEventListener("deviceready",function(){clearTimeout(o),l()},!1)})}):vn(Error("Cordova must run in an Android or iOS file scheme."))}function Ig(l){return l=l||er(),!(so()!=="file:"&&so()!=="ionic:"||!l.toLowerCase().match(/iphone|ipad|ipod|android/))}function Og(){var l=h.window;try{return!(!l||l==l.top)}catch{return!1}}function Xa(){return typeof h.WorkerGlobalScope<"u"&&typeof h.importScripts=="function"}function Ka(){return Ze.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ze.INTERNAL.hasOwnProperty("node")?"Node":Xa()?"Worker":"Browser"}function Fg(){var l=Ka();return l==="ReactNative"||l==="Node"}function Mg(){for(var l=50,d=[];0<l;)d.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),l--;return d.join("")}var Zi="Firefox",Qf="Chrome";function Nr(l){var d=l.toLowerCase();if(st(d,"opera/")||st(d,"opr/")||st(d,"opios/"))return"Opera";if(st(d,"iemobile"))return"IEMobile";if(st(d,"msie")||st(d,"trident/"))return"IE";if(st(d,"edge/"))return"Edge";if(st(d,"firefox/"))return Zi;if(st(d,"silk/"))return"Silk";if(st(d,"blackberry"))return"Blackberry";if(st(d,"webos"))return"Webos";if(!st(d,"safari/")||st(d,"chrome/")||st(d,"crios/")||st(d,"android"))if(!st(d,"chrome/")&&!st(d,"crios/")||st(d,"edge/")){if(st(d,"android"))return"Android";if((l=l.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&l.length==2)return l[1]}else return Qf;else return"Safari";return"Other"}var Zl={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Jo(l,d){d=d||[];var a=[],o={},f;for(f in Zl)o[Zl[f]]=!0;for(f=0;f<d.length;f++)typeof o[d[f]]<"u"&&(delete o[d[f]],a.push(d[f]));return a.sort(),d=a,d.length||(d=["FirebaseCore-web"]),a=Ka(),a==="Browser"?(o=er(),a=Nr(o)):a==="Worker"&&(o=er(),a=Nr(o)+"-"+a),a+"/JsCore/"+l+"/"+d.join(",")}function er(){return h.navigator&&h.navigator.userAgent||""}function on(l,d){l=l.split("."),d=d||h;for(var a=0;a<l.length&&typeof d=="object"&&d!=null;a++)d=d[l[a]];return a!=l.length&&(d=void 0),d}function Jf(){try{var l=h.localStorage,d=ei();if(l)return l.setItem(d,"1"),l.removeItem(d),$o()?!!h.indexedDB:!0}catch{return Xa()&&!!h.indexedDB}return!1}function ea(){return(Zf()||so()==="chrome-extension:"||Ig())&&!Fg()&&Jf()&&!Xa()}function Zf(){return so()==="http:"||so()==="https:"}function so(){return h.location&&h.location.protocol||null}function _s(l){return l=l||er(),!(Qo(l)||Nr(l)==Zi)}function eh(l){return typeof l>"u"?null:Cg(l)}function bi(l){var d={},a;for(a in l)l.hasOwnProperty(a)&&l[a]!==null&&l[a]!==void 0&&(d[a]=l[a]);return d}function Zo(l){if(l!==null)return JSON.parse(l)}function ei(l){return l||Math.floor(1e9*Math.random()).toString()}function Lg(l){return l=l||er(),!(Nr(l)=="Safari"||l.toLowerCase().match(/iphone|ipad|ipod/))}function th(){var l=h.___jsl;if(l&&l.H){for(var d in l.H)if(l.H[d].r=l.H[d].r||[],l.H[d].L=l.H[d].L||[],l.H[d].r=l.H[d].L.concat(),l.CP)for(var a=0;a<l.CP.length;a++)l.CP[a]=null}}function wi(l,d){if(l>d)throw Error("Short delay should be less than long delay!");this.a=l,this.c=d,l=er(),d=Ka(),this.b=Qo(l)||d==="ReactNative"}wi.prototype.get=function(){var l=h.navigator;return!(l&&typeof l.onLine=="boolean"&&(Zf()||so()==="chrome-extension:"||typeof l.connection<"u"))||l.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function nh(){var l=h.document;return l&&typeof l.visibilityState<"u"?l.visibilityState=="visible":!0}function V1(){var l=h.document,d=null;return nh()||!l?Qe():new kt(function(a){d=function(){nh()&&(l.removeEventListener("visibilitychange",d,!1),a())},l.addEventListener("visibilitychange",d,!1)}).o(function(a){throw l.removeEventListener("visibilitychange",d,!1),a})}function ec(l){try{var d=new Date(parseInt(l,10));if(!isNaN(d.getTime())&&!/[^0-9]/.test(l))return d.toUTCString()}catch{}return null}function jg(){return!(!on("fireauth.oauthhelper",h)&&!on("fireauth.iframe",h))}function va(){var l=h.navigator;return l&&l.serviceWorker&&l.serviceWorker.controller||null}function pu(){var l=h.navigator;return l&&l.serviceWorker?Qe().then(function(){return l.serviceWorker.ready}).then(function(d){return d.active||null}).o(function(){return null}):Qe(null)}var tc={};function mu(l){tc[l]||(tc[l]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(l))}var nc;try{var _i={};Object.defineProperty(_i,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(_i,"abcd",{configurable:!0,enumerable:!0,value:2}),nc=_i.abcd==2}catch{nc=!1}function Ge(l,d,a){nc?Object.defineProperty(l,d,{configurable:!0,enumerable:!0,value:a}):l[d]=a}function jn(l,d){if(d)for(var a in d)d.hasOwnProperty(a)&&Ge(l,a,d[a])}function cr(l){var d={};return jn(d,l),d}function Es(l){var d={},a;for(a in l)l.hasOwnProperty(a)&&(d[a]=l[a]);return d}function oo(l,d){if(!d||!d.length)return!0;if(!l)return!1;for(var a=0;a<d.length;a++){var o=l[d[a]];if(o==null||o==="")return!1}return!0}function E0(l){var d=l;if(typeof l=="object"&&l!=null){d="length"in l?[]:{};for(var a in l)Ge(d,a,E0(l[a]))}return d}function rh(l){var d=l&&(l[Nt]?"phone":null);if(d&&l&&l[ln]){Ge(this,"uid",l[ln]),Ge(this,"displayName",l[Pg]||null);var a=null;l[ur]&&(a=new Date(l[ur]).toUTCString()),Ge(this,"enrollmentTime",a),Ge(this,"factorId",d)}else throw new C("internal-error","Internal assert: invalid MultiFactorInfo object")}rh.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function ih(l){try{var d=new xa(l)}catch{d=null}return d}var Pg="displayName",ur="enrolledAt",ln="mfaEnrollmentId",Nt="phoneInfo";function xa(l){rh.call(this,l),Ge(this,"phoneNumber",l[Nt])}I(xa,rh),xa.prototype.w=function(){var l=xa.bb.w.call(this);return l.phoneNumber=this.phoneNumber,l};function ya(l){var d={},a=l[H1],o=l[rc],f=l[Bg];if(l=ih(l[vu]),!f||f!=Ya&&f!=gu&&!a||f==gu&&!o||f==ah&&!l)throw Error("Invalid checkActionCode response!");f==gu?(d[S0]=a||null,d[Ss]=a||null,d[xu]=o):(d[S0]=o||null,d[Ss]=o||null,d[xu]=a||null),d[ic]=l||null,Ge(this,lo,f),Ge(this,el,E0(d))}var ah="REVERT_SECOND_FACTOR_ADDITION",Ya="EMAIL_SIGNIN",gu="VERIFY_AND_CHANGE_EMAIL",H1="email",vu="mfaInfo",rc="newEmail",Bg="requestType",xu="email",S0="fromEmail",ic="multiFactorInfo",Ss="previousEmail",el="data",lo="operation";function sh(l){l=Zr(l);var d=Ji(l,T0)||null,a=Ji(l,ac)||null,o=Ji(l,xr)||null;if(o=o&&q1[o]||null,!d||!a||!o)throw new C("argument-error",T0+", "+ac+"and "+xr+" are required in a valid action code URL.");jn(this,{apiKey:d,operation:o,code:a,continueUrl:Ji(l,A0)||null,languageCode:Ji(l,sc)||null,tenantId:Ji(l,k0)||null})}var T0="apiKey",ac="oobCode",A0="continueUrl",sc="languageCode",xr="mode",k0="tenantId",q1={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ah,signIn:Ya,verifyAndChangeEmail:gu,verifyEmail:"VERIFY_EMAIL"};function G1(l){try{return new sh(l)}catch{return null}}function N0(l){var d=l[lh];if(typeof d>"u")throw new C("missing-continue-uri");if(typeof d!="string"||typeof d=="string"&&!d.length)throw new C("invalid-continue-uri");this.h=d,this.b=this.a=null,this.g=!1;var a=l[W1];if(a&&typeof a=="object"){d=a[lc];var o=a[C0];if(a=a[oc],typeof d=="string"&&d.length){if(this.a=d,typeof o<"u"&&typeof o!="boolean")throw new C("argument-error",C0+" property must be a boolean when specified.");if(this.g=!!o,typeof a<"u"&&(typeof a!="string"||typeof a=="string"&&!a.length))throw new C("argument-error",oc+" property must be a non empty string when specified.");this.b=a||null}else{if(typeof d<"u")throw new C("argument-error",lc+" property must be a non empty string when specified.");if(typeof o<"u"||typeof a<"u")throw new C("missing-android-pkg-name")}}else if(typeof a<"u")throw new C("argument-error",W1+" property must be a non null object when specified.");if(this.f=null,(d=l[yu])&&typeof d=="object"){if(d=d[X1],typeof d=="string"&&d.length)this.f=d;else if(typeof d<"u")throw new C("argument-error",X1+" property must be a non empty string when specified.")}else if(typeof d<"u")throw new C("argument-error",yu+" property must be a non null object when specified.");if(d=l[oh],typeof d<"u"&&typeof d!="boolean")throw new C("argument-error",oh+" property must be a boolean when specified.");if(this.c=!!d,l=l[Gn],typeof l<"u"&&(typeof l!="string"||typeof l=="string"&&!l.length))throw new C("argument-error",Gn+" property must be a non empty string when specified.");this.i=l||null}var W1="android",Gn="dynamicLinkDomain",oh="handleCodeInApp",yu="iOS",lh="url",C0="installApp",oc="minimumVersion",lc="packageName",X1="bundleId";function ch(l){var d={};d.continueUrl=l.h,d.canHandleCodeInApp=l.c,(d.androidPackageName=l.a)&&(d.androidMinimumVersion=l.b,d.androidInstallApp=l.g),d.iOSBundleId=l.f,d.dynamicLinkDomain=l.i;for(var a in d)d[a]===null&&delete d[a];return d}function fS(l){return Ne(l,function(d){return d=d.toString(16),1<d.length?d:"0"+d}).join("")}var bu=null;function cc(l){var d=[];return Ug(l,function(a){d.push(a)}),d}function Ug(l,d){function a(N){for(;o<l.length;){var D=l.charAt(o++),X=bu[D];if(X!=null)return X;if(!/^[\s\xa0]*$/.test(D))throw Error("Unknown base64 encoding at char: "+D)}return N}R0();for(var o=0;;){var f=a(-1),m=a(0),v=a(64),w=a(64);if(w===64&&f===-1)break;d(f<<2|m>>4),v!=64&&(d(m<<4&240|v>>2),w!=64&&d(v<<6&192|w))}}function R0(){if(!bu){bu={};for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),d=["+/=","+/","-_=","-_.","-_"],a=0;5>a;a++)for(var o=l.concat(d[a].split("")),f=0;f<o.length;f++){var m=o[f];bu[m]===void 0&&(bu[m]=f)}}}function uh(l){var d=D0(l);if(!(d&&d.sub&&d.iss&&d.aud&&d.exp))throw Error("Invalid JWT");this.h=l,this.a=d.exp,this.i=d.sub,l=Date.now()/1e3,this.g=d.iat||(l>this.a?this.a:l),this.b=d.provider_id||d.firebase&&d.firebase.sign_in_provider||null,this.f=d.firebase&&d.firebase.tenant||null,this.c=!!d.is_anonymous||this.b=="anonymous"}uh.prototype.T=function(){return this.f},uh.prototype.l=function(){return this.c},uh.prototype.toString=function(){return this.h};function co(l){try{return new uh(l)}catch{return null}}function D0(l){if(!l||(l=l.split("."),l.length!=3))return null;l=l[1];for(var d=(4-l.length%4)%4,a=0;a<d;a++)l+=".";try{var o=cc(l);for(l=[],a=d=0;d<o.length;){var f=o[d++];if(128>f)l[a++]=String.fromCharCode(f);else if(191<f&&224>f){var m=o[d++];l[a++]=String.fromCharCode((f&31)<<6|m&63)}else if(239<f&&365>f){m=o[d++];var v=o[d++],w=o[d++],N=((f&7)<<18|(m&63)<<12|(v&63)<<6|w&63)-65536;l[a++]=String.fromCharCode(55296+(N>>10)),l[a++]=String.fromCharCode(56320+(N&1023))}else m=o[d++],v=o[d++],l[a++]=String.fromCharCode((f&15)<<12|(m&63)<<6|v&63)}return JSON.parse(l.join(""))}catch{}return null}var fh="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),uc=["client_id","response_type","scope","redirect_uri","state"],I0={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:uc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:uc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:uc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:fh},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function O0(l){for(var d in I0)if(I0[d].fa==l)return I0[d];return null}function tl(l){var d={};d["facebook.com"]=wu,d["google.com"]=_u,d["github.com"]=hh,d["twitter.com"]=dh;var a=l&&l[zg];try{if(a)return d[a]?new d[a](l):new ti(l);if(typeof l[uo]<"u")return new F0(l)}catch{}return null}var uo="idToken",zg="providerId";function F0(l){var d=l[zg];if(!d&&l[uo]){var a=co(l[uo]);a&&a.b&&(d=a.b)}if(!d)throw Error("Invalid additional user info!");(d=="anonymous"||d=="custom")&&(d=null),a=!1,typeof l.isNewUser<"u"?a=!!l.isNewUser:l.kind==="identitytoolkit#SignupNewUserResponse"&&(a=!0),Ge(this,"providerId",d),Ge(this,"isNewUser",a)}function ti(l){F0.call(this,l),l=Zo(l.rawUserInfo||"{}"),Ge(this,"profile",E0(l||{}))}I(ti,F0);function wu(l){if(ti.call(this,l),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}I(wu,ti);function hh(l){if(ti.call(this,l),this.providerId!="github.com")throw Error("Invalid provider ID!");Ge(this,"username",this.profile&&this.profile.login||null)}I(hh,ti);function _u(l){if(ti.call(this,l),this.providerId!="google.com")throw Error("Invalid provider ID!")}I(_u,ti);function dh(l){if(ti.call(this,l),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Ge(this,"username",l.screenName||null)}I(dh,ti);function Vg(l){var d=Zr(l),a=Ji(d,"link"),o=Ji(Zr(a),"link");return d=Ji(d,"deep_link_id"),Ji(Zr(d),"link")||d||o||a||l}function Ts(l,d){if(!l&&!d)throw new C("internal-error","Internal assert: no raw session string available");if(l&&d)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=l||null,this.b=d||null,this.type=this.a?Eu:$a}var Eu="enroll",$a="signin";Ts.prototype.Ha=function(){return this.a?Qe(this.a):Qe(this.b)},Ts.prototype.w=function(){return this.type==Eu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function nl(){}nl.prototype.ka=function(){},nl.prototype.b=function(){},nl.prototype.c=function(){},nl.prototype.w=function(){};function rl(l,d){return l.then(function(a){if(a[wa]){var o=co(a[wa]);if(!o||d!=o.i)throw new C("user-mismatch");return a}throw new C("user-mismatch")}).o(function(a){throw a&&a.code&&a.code==B+"user-not-found"?new C("user-mismatch"):a})}function Ei(l,d){if(d)this.a=d;else throw new C("internal-error","failed to construct a credential");Ge(this,"providerId",l),Ge(this,"signInMethod",l)}Ei.prototype.ka=function(l){return tp(l,As(this))},Ei.prototype.b=function(l,d){var a=As(this);return a.idToken=d,mc(l,a)},Ei.prototype.c=function(l,d){return rl(np(l,As(this)),d)};function As(l){return{pendingToken:l.a,requestUri:"http://localhost"}}Ei.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function ph(l){if(l&&l.providerId&&l.signInMethod&&l.providerId.indexOf("saml.")==0&&l.pendingToken)try{return new Ei(l.providerId,l.pendingToken)}catch{}return null}function Qa(l,d,a){if(this.a=null,d.idToken||d.accessToken)d.idToken&&Ge(this,"idToken",d.idToken),d.accessToken&&Ge(this,"accessToken",d.accessToken),d.nonce&&!d.pendingToken&&Ge(this,"nonce",d.nonce),d.pendingToken&&(this.a=d.pendingToken);else if(d.oauthToken&&d.oauthTokenSecret)Ge(this,"accessToken",d.oauthToken),Ge(this,"secret",d.oauthTokenSecret);else throw new C("internal-error","failed to construct a credential");Ge(this,"providerId",l),Ge(this,"signInMethod",a)}Qa.prototype.ka=function(l){return tp(l,mh(this))},Qa.prototype.b=function(l,d){var a=mh(this);return a.idToken=d,mc(l,a)},Qa.prototype.c=function(l,d){var a=mh(this);return rl(np(l,a),d)};function mh(l){var d={};return l.idToken&&(d.id_token=l.idToken),l.accessToken&&(d.access_token=l.accessToken),l.secret&&(d.oauth_token_secret=l.secret),d.providerId=l.providerId,l.nonce&&!l.a&&(d.nonce=l.nonce),d={postBody:O1(d).toString(),requestUri:"http://localhost"},l.a&&(delete d.postBody,d.pendingToken=l.a),d}Qa.prototype.w=function(){var l={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(l.oauthIdToken=this.idToken),this.accessToken&&(l.oauthAccessToken=this.accessToken),this.secret&&(l.oauthTokenSecret=this.secret),this.nonce&&(l.nonce=this.nonce),this.a&&(l.pendingToken=this.a),l};function gh(l){if(l&&l.providerId&&l.signInMethod){var d={idToken:l.oauthIdToken,accessToken:l.oauthTokenSecret?null:l.oauthAccessToken,oauthTokenSecret:l.oauthTokenSecret,oauthToken:l.oauthTokenSecret&&l.oauthAccessToken,nonce:l.nonce,pendingToken:l.pendingToken};try{return new Qa(l.providerId,d,l.signInMethod)}catch{}}return null}function Ja(l,d){this.Qc=d||[],jn(this,{providerId:l,isOAuthProvider:!0}),this.Jb={},this.qb=(O0(l)||{}).Ja||null,this.pb=null}Ja.prototype.Ka=function(l){return this.Jb=Hn(l),this};function Hg(l){if(typeof l!="string"||l.indexOf("saml.")!=0)throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');Ja.call(this,l,[])}I(Hg,Ja);function Si(l){Ja.call(this,l,uc),this.a=[]}I(Si,Ja),Si.prototype.Ca=function(l){return rt(this.a,l)||this.a.push(l),this},Si.prototype.Rb=function(){return At(this.a)},Si.prototype.credential=function(l,d){var a;if(T(l)?a={idToken:l.idToken||null,accessToken:l.accessToken||null,nonce:l.rawNonce||null}:a={idToken:l||null,accessToken:d||null},!a.idToken&&!a.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new Qa(this.providerId,a,this.providerId)};function ba(){Si.call(this,"facebook.com")}I(ba,Si),Ge(ba,"PROVIDER_ID","facebook.com"),Ge(ba,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function vh(l){if(!l)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var d=l;return T(l)&&(d=l.accessToken),new ba().credential({accessToken:d})}function il(){Si.call(this,"github.com")}I(il,Si),Ge(il,"PROVIDER_ID","github.com"),Ge(il,"GITHUB_SIGN_IN_METHOD","github.com");function M0(l){if(!l)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var d=l;return T(l)&&(d=l.accessToken),new il().credential({accessToken:d})}function fo(){Si.call(this,"google.com"),this.Ca("profile")}I(fo,Si),Ge(fo,"PROVIDER_ID","google.com"),Ge(fo,"GOOGLE_SIGN_IN_METHOD","google.com");function Ti(l,d){var a=l;return T(l)&&(a=l.idToken,d=l.accessToken),new fo().credential({idToken:a,accessToken:d})}function Cr(){Ja.call(this,"twitter.com",fh)}I(Cr,Ja),Ge(Cr,"PROVIDER_ID","twitter.com"),Ge(Cr,"TWITTER_SIGN_IN_METHOD","twitter.com");function ho(l,d){var a=l;if(T(a)||(a={oauthToken:l,oauthTokenSecret:d}),!a.oauthToken||!a.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Qa("twitter.com",a,"twitter.com")}function ks(l,d,a){this.a=l,this.f=d,Ge(this,"providerId","password"),Ge(this,"signInMethod",a===fr.EMAIL_LINK_SIGN_IN_METHOD?fr.EMAIL_LINK_SIGN_IN_METHOD:fr.EMAIL_PASSWORD_SIGN_IN_METHOD)}ks.prototype.ka=function(l){return this.signInMethod==fr.EMAIL_LINK_SIGN_IN_METHOD?Ct(l,hb,{email:this.a,oobCode:this.f}):Ct(l,xb,{email:this.a,password:this.f})},ks.prototype.b=function(l,d){return this.signInMethod==fr.EMAIL_LINK_SIGN_IN_METHOD?Ct(l,uv,{idToken:d,email:this.a,oobCode:this.f}):Ct(l,vv,{idToken:d,email:this.a,password:this.f})},ks.prototype.c=function(l,d){return rl(this.ka(l),d)},ks.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function K1(l){return l&&l.email&&l.password?new ks(l.email,l.password,l.signInMethod):null}function fr(){jn(this,{providerId:"password",isOAuthProvider:!1})}function Ai(l,d){if(d=Nn(d),!d)throw new C("argument-error","Invalid email link!");return new ks(l,d.code,fr.EMAIL_LINK_SIGN_IN_METHOD)}function Nn(l){return l=Vg(l),(l=G1(l))&&l.operation===Ya?l:null}jn(fr,{PROVIDER_ID:"password"}),jn(fr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),jn(fr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Za(l){if(!(l.fb&&l.eb||l.La&&l.ea))throw new C("internal-error");this.a=l,Ge(this,"providerId","phone"),this.fa="phone",Ge(this,"signInMethod","phone")}Za.prototype.ka=function(l){return l.gb(ft(this))},Za.prototype.b=function(l,d){var a=ft(this);return a.idToken=d,Ct(l,Oh,a)},Za.prototype.c=function(l,d){var a=ft(this);return a.operation="REAUTH",l=Ct(l,hl,a),rl(l,d)},Za.prototype.w=function(){var l={providerId:"phone"};return this.a.fb&&(l.verificationId=this.a.fb),this.a.eb&&(l.verificationCode=this.a.eb),this.a.La&&(l.temporaryProof=this.a.La),this.a.ea&&(l.phoneNumber=this.a.ea),l};function po(l){if(l&&l.providerId==="phone"&&(l.verificationId&&l.verificationCode||l.temporaryProof&&l.phoneNumber)){var d={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(a){l[a]&&(d[a]=l[a])}),new Za(d)}return null}function ft(l){return l.a.La&&l.a.ea?{temporaryProof:l.a.La,phoneNumber:l.a.ea}:{sessionInfo:l.a.fb,code:l.a.eb}}function Dt(l){try{this.a=l||Ze.auth()}catch{throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}jn(this,{providerId:"phone",isOAuthProvider:!1})}Dt.prototype.gb=function(l,d){var a=this.a.a;return Qe(d.verify()).then(function(o){if(typeof o!="string")throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(d.type){case"recaptcha":var f=T(l)?l.session:null,m=T(l)?l.phoneNumber:l,v;return f&&f.type==Eu?v=f.Ha().then(function(w){return pS(a,{idToken:w,phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:o}})}):f&&f.type==$a?v=f.Ha().then(function(w){return tr(a,{mfaPendingCredential:w,mfaEnrollmentId:l.multiFactorHint&&l.multiFactorHint.uid||l.multiFactorUid,phoneSignInInfo:{recaptchaToken:o}})}):v=lb(a,{phoneNumber:m,recaptchaToken:o}),v.then(function(w){return typeof d.reset=="function"&&d.reset(),w},function(w){throw typeof d.reset=="function"&&d.reset(),w});default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Wn(l,d){if(!l)throw new C("missing-verification-id");if(!d)throw new C("missing-verification-code");return new Za({fb:l,eb:d})}jn(Dt,{PROVIDER_ID:"phone"}),jn(Dt,{PHONE_SIGN_IN_METHOD:"phone"});function Su(l){if(l.temporaryProof&&l.phoneNumber)return new Za({La:l.temporaryProof,ea:l.phoneNumber});var d=l&&l.providerId;if(!d||d==="password")return null;var a=l&&l.oauthAccessToken,o=l&&l.oauthTokenSecret,f=l&&l.nonce,m=l&&l.oauthIdToken,v=l&&l.pendingToken;try{switch(d){case"google.com":return Ti(m,a);case"facebook.com":return vh(a);case"github.com":return M0(a);case"twitter.com":return ho(a,o);default:return a||o||m||v?v?d.indexOf("saml.")==0?new Ei(d,v):new Qa(d,{pendingToken:v,idToken:l.oauthIdToken,accessToken:l.oauthAccessToken},d):new Si(d).credential({idToken:m,accessToken:a,rawNonce:f}):null}}catch{return null}}function al(l){if(!l.isOAuthProvider)throw new C("invalid-oauth-provider")}function Rr(l,d,a,o,f,m,v){if(this.c=l,this.b=d||null,this.g=a||null,this.f=o||null,this.i=m||null,this.h=v||null,this.a=f||null,this.g||this.a){if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}else throw new C("invalid-auth-event")}Rr.prototype.getUid=function(){var l=[];return l.push(this.c),this.b&&l.push(this.b),this.f&&l.push(this.f),this.h&&l.push(this.h),l.join("-")},Rr.prototype.T=function(){return this.h},Rr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function xh(l){return l=l||{},l.type?new Rr(l.type,l.eventId,l.urlResponse,l.sessionId,l.error&&z(l.error),l.postBody,l.tenantId):null}function yh(){this.b=null,this.a=[]}var sl=null;function hS(l){var d=sl;d.a.push(l),d.b||(d.b=function(a){for(var o=0;o<d.a.length;o++)d.a[o](a)},l=on("universalLinks.subscribe",h),typeof l=="function"&&l(null,d.b))}function Tn(l){var d="unauthorized-domain",a=void 0,o=Zr(l);l=o.a,o=o.c,o=="chrome-extension"?a=_e("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",l):o=="http"||o=="https"?a=_e("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",l):d="operation-not-supported-in-this-environment",C.call(this,d,a)}I(Tn,C);function fc(l,d,a){C.call(this,l,a),l=d||{},l.Kb&&Ge(this,"email",l.Kb),l.ea&&Ge(this,"phoneNumber",l.ea),l.credential&&Ge(this,"credential",l.credential),l.$b&&Ge(this,"tenantId",l.$b)}I(fc,C),fc.prototype.w=function(){var l={code:this.code,message:this.message};this.email&&(l.email=this.email),this.phoneNumber&&(l.phoneNumber=this.phoneNumber),this.tenantId&&(l.tenantId=this.tenantId);var d=this.credential&&this.credential.w();return d&&Mt(l,d),l},fc.prototype.toJSON=function(){return this.w()};function Tu(l){if(l.code){var d=l.code||"";d.indexOf(B)==0&&(d=d.substring(B.length));var a={credential:Su(l),$b:l.tenantId};if(l.email)a.Kb=l.email;else if(l.phoneNumber)a.ea=l.phoneNumber;else if(!a.credential)return new C(d,l.message||void 0);return new fc(d,a,l.message)}return null}function Au(){}Au.prototype.c=null;function qg(l){return l.c||(l.c=l.b())}var Gg;function ku(){}I(ku,Au),ku.prototype.a=function(){var l=L0(this);return l?new ActiveXObject(l):new XMLHttpRequest},ku.prototype.b=function(){var l={};return L0(this)&&(l[0]=!0,l[1]=!0),l};function L0(l){if(!l.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var d=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],a=0;a<d.length;a++){var o=d[a];try{return new ActiveXObject(o),l.f=o}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return l.f}Gg=new ku;function Nu(){}I(Nu,Au),Nu.prototype.a=function(){var l=new XMLHttpRequest;if("withCredentials"in l)return l;if(typeof XDomainRequest<"u")return new Hr;throw Error("Unsupported browser")},Nu.prototype.b=function(){return{}};function Hr(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=A(this.qc,this),this.a.onerror=A(this.Tb,this),this.a.onprogress=A(this.rc,this),this.a.ontimeout=A(this.vc,this)}e=Hr.prototype,e.open=function(l,d,a){if(a!=null&&!a)throw Error("Only async requests are supported.");this.a.open(l,d)},e.send=function(l){if(l)if(typeof l=="string")this.a.send(l);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(l){return l.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Cn(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Cn(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Cn(this,1)};function Cn(l,d){l.readyState=d,l.onreadystatechange&&l.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Cu(l,d,a){this.reset(l,d,a,void 0,void 0)}Cu.prototype.a=null,Cu.prototype.reset=function(l,d,a,o,f){delete this.a};function hc(l){this.f=l,this.b=this.c=this.a=null}function ol(l,d){this.name=l,this.value=d}ol.prototype.toString=function(){return this.name};var j0=new ol("SEVERE",1e3),es=new ol("WARNING",900),P0=new ol("CONFIG",700),Wg=new ol("FINE",500);function B0(l){return l.c?l.c:l.a?B0(l.a):(J("Root logger has no level set."),null)}hc.prototype.log=function(l,d,a){if(l.value>=B0(this).value)for(E(d)&&(d=d()),l=new Cu(l,String(d),this.f),a&&(l.a=a),a=this;a;)a=a.a};var U0={},bh=null;function z0(l){bh||(bh=new hc(""),U0[""]=bh,bh.c=P0);var d;if(!(d=U0[l])){d=new hc(l);var a=l.lastIndexOf("."),o=l.substr(a+1);a=z0(l.substr(0,a)),a.b||(a.b={}),a.b[o]=d,d.a=a,U0[l]=d}return d}function ta(l,d){l&&l.log(Wg,d,void 0)}function wh(l){this.f=l}I(wh,Au),wh.prototype.a=function(){return new _h(this.f)},wh.prototype.b=(function(l){return function(){return l}})({});function _h(l){Jr.call(this),this.u=l,this.h=void 0,this.readyState=Eh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=z0("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(_h,Jr);var Eh=0;e=_h.prototype,e.open=function(l,d){if(this.readyState!=Eh)throw this.abort(),Error("Error reopening a connection");this.s=l,this.f=d,this.readyState=1,Ru(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var d={headers:this.l,method:this.s,credentials:this.h,cache:void 0};l&&(d.body=l),this.u.fetch(new Request(this.f,d)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Sh(this)),this.readyState=Eh},e.uc=function(l){this.a&&(this.g=l,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=l.headers,this.readyState=2,Ru(this)),this.a&&(this.readyState=3,Ru(this),this.a&&(this.responseType==="arraybuffer"?l.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof h.ReadableStream<"u"&&"body"in l?(this.response=this.responseText="",this.c=l.body.getReader(),this.m=new TextDecoder,Xg(this)):l.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Xg(l){l.c.read().then(l.pc.bind(l)).catch(l.Va.bind(l))}e.pc=function(l){if(this.a){var d=this.m.decode(l.value?l.value:new Uint8Array(0),{stream:!l.done});d&&(this.response=this.responseText+=d),l.done?Sh(this):Ru(this),this.readyState==3&&Xg(this)}},e.tc=function(l){this.a&&(this.response=this.responseText=l,Sh(this))},e.sc=function(l){this.a&&(this.response=l,Sh(this))},e.Va=function(l){var d=this.i;d&&d.log(es,"Failed to fetch url "+this.f,l instanceof Error?l:Error(l)),this.a&&Sh(this)};function Sh(l){l.readyState=4,l.g=null,l.c=null,l.m=null,Ru(l)}e.setRequestHeader=function(l,d){this.l.append(l,d)},e.getResponseHeader=function(l){return this.b?this.b.get(l.toLowerCase())||"":((l=this.i)&&l.log(es,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var l=this.i;return l&&l.log(es,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}l=[];for(var d=this.b.entries(),a=d.next();!a.done;)a=a.value,l.push(a[0]+": "+a[1]),a=d.next();return l.join(`\r
`)};function Ru(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(_h.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(l){this.h=l?"include":"same-origin"}});function Du(l){Jr.call(this),this.headers=new hu,this.D=l||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Kg,this.u=this.S=!1}I(Du,Jr);var Kg="";Du.prototype.b=z0("goog.net.XhrIo");var Yg=/^https?$/i,Y1=["POST","PUT"];function $1(l,d,a,o,f){if(l.a)throw Error("[goog.net.XhrIo] Object is active with another request="+l.l+"; newUri="+d);a=a?a.toUpperCase():"GET",l.l=d,l.h="",l.P=a,l.J=!1,l.c=!0,l.a=l.D?l.D.a():Gg.a(),l.C=l.D?qg(l.D):qg(Gg),l.a.onreadystatechange=A(l.Wb,l);try{ta(l.b,ts(l,"Opening Xhr")),l.N=!0,l.a.open(a,String(d),!0),l.N=!1}catch(v){ta(l.b,ts(l,"Error opening Xhr: "+v.message)),$g(l,v);return}d=o||"";var m=new hu(l.headers);f&&Wf(f,function(v,w){m.set(w,v)}),f=Re(m.Y()),o=h.FormData&&d instanceof h.FormData,!rt(Y1,a)||f||o||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),m.forEach(function(v,w){this.a.setRequestHeader(w,v)},l),l.m&&(l.a.responseType=l.m),"withCredentials"in l.a&&l.a.withCredentials!==l.S&&(l.a.withCredentials=l.S);try{Jg(l),0<l.g&&(l.u=Q1(l.a),ta(l.b,ts(l,"Will abort after "+l.g+"ms if incomplete, xhr2 "+l.u)),l.u?(l.a.timeout=l.g,l.a.ontimeout=A(l.Ma,l)):l.s=_g(l.Ma,l.g,l)),ta(l.b,ts(l,"Sending request")),l.i=!0,l.a.send(d),l.i=!1}catch(v){ta(l.b,ts(l,"Send error: "+v.message)),$g(l,v)}}function Q1(l){return Me&&Va(9)&&typeof l.timeout=="number"&&l.ontimeout!==void 0}function J1(l){return l.toLowerCase()=="content-type"}e=Du.prototype,e.Ma=function(){typeof u<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ta(this.b,ts(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function $g(l,d){l.c=!1,l.a&&(l.f=!0,l.a.abort(),l.f=!1),l.h=d,Z1(l),mo(l)}function Z1(l){l.J||(l.J=!0,l.dispatchEvent("complete"),l.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(ta(this.b,ts(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mo(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),mo(this,!0)),Du.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Qg(this):this.Jc())},e.Jc=function(){Qg(this)};function Qg(l){if(l.c&&typeof u<"u"){if(l.C[1]&&ll(l)==4&&dc(l)==2)ta(l.b,ts(l,"Local request error detected and ignored"));else if(l.i&&ll(l)==4)_g(l.Wb,0,l);else if(l.dispatchEvent("readystatechange"),ll(l)==4){ta(l.b,ts(l,"Request complete")),l.c=!1;try{var d=dc(l);e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}var o;if(!(o=a)){var f;if(f=d===0){var m=String(l.l).match(Eg)[1]||null;if(!m&&h.self&&h.self.location){var v=h.self.location.protocol;m=v.substr(0,v.length-1)}f=!Yg.test(m?m.toLowerCase():"")}o=f}if(o)l.dispatchEvent("complete"),l.dispatchEvent("success");else{try{var w=2<ll(l)?l.a.statusText:""}catch(N){ta(l.b,"Can not get status: "+N.message),w=""}l.h=w+" ["+dc(l)+"]",Z1(l)}}finally{mo(l)}}}}function mo(l,d){if(l.a){Jg(l);var a=l.a,o=l.C[0]?b:null;l.a=null,l.C=null,d||l.dispatchEvent("ready");try{a.onreadystatechange=o}catch(f){(l=l.b)&&l.log(j0,"Problem encountered resetting onreadystatechange: "+f.message,void 0)}}}function Jg(l){l.a&&l.u&&(l.a.ontimeout=null),l.s&&(h.clearTimeout(l.s),l.s=null)}function ll(l){return l.a?l.a.readyState:0}function dc(l){try{return 2<ll(l)?l.a.status:-1}catch{return-1}}function eb(l){try{return l.a?l.a.responseText:""}catch(d){return ta(l.b,"Can not get responseText: "+d.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Kg:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var l=this.b;return l&&l.log(j0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(d){return ta(this.b,"Can not get response: "+d.message),null}};function ts(l,d){return d+" ["+l.P+" "+l.l+" "+dc(l)+"]"}function pc(l){var d=ev;this.g=[],this.u=d,this.s=l||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}pc.prototype.cancel=function(l){if(this.a)this.c instanceof pc&&this.c.cancel();else{if(this.b){var d=this.b;delete this.b,l?d.cancel(l):(d.l--,0>=d.l&&d.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(l=new Ou,Th(this),Iu(this,!1,l))}},pc.prototype.m=function(l,d){this.i=!1,Iu(this,l,d)};function Iu(l,d,a){l.a=!0,l.c=a,l.f=!d,H0(l)}function Th(l){if(l.a){if(!l.v)throw new Ah;l.v=!1}}function tb(l,d){V0(l,null,d,void 0)}function V0(l,d,a,o){l.g.push([d,a,o]),l.a&&H0(l)}pc.prototype.then=function(l,d,a){var o,f,m=new kt(function(v,w){o=v,f=w});return V0(this,o,function(v){v instanceof Ou?m.cancel():f(v)}),m.then(l,d,a)},pc.prototype.$goog_Thenable=!0;function Zg(l){return Te(l.g,function(d){return E(d[1])})}function H0(l){if(l.h&&l.a&&Zg(l)){var d=l.h,a=kh[d];a&&(h.clearTimeout(a.a),delete kh[d]),l.h=0}l.b&&(l.b.l--,delete l.b),d=l.c;for(var o=a=!1;l.g.length&&!l.i;){var f=l.g.shift(),m=f[0],v=f[1];if(f=f[2],m=l.f?v:m)try{var w=m.call(f||l.s,d);w!==void 0&&(l.f=l.f&&(w==d||w instanceof Error),l.c=d=w),(De(d)||typeof h.Promise=="function"&&d instanceof h.Promise)&&(o=!0,l.i=!0)}catch(N){d=N,l.f=!0,Zg(l)||(a=!0)}}l.c=d,o&&(w=A(l.m,l,!0),o=A(l.m,l,!1),d instanceof pc?(V0(d,w,o),d.C=!0):d.then(w,o)),a&&(d=new q0(d),kh[d.a]=d,l.h=d.a)}function Ah(){ve.call(this)}I(Ah,ve),Ah.prototype.message="Deferred has already fired",Ah.prototype.name="AlreadyCalledError";function Ou(){ve.call(this)}I(Ou,ve),Ou.prototype.message="Deferred was canceled",Ou.prototype.name="CanceledError";function q0(l){this.a=h.setTimeout(A(this.c,this),0),this.b=l}q0.prototype.c=function(){throw delete kh[this.a],this.b};var kh={};function G0(l){var d={},a=d.document||document,o=$i(l).toString(),f=Kl(document,"SCRIPT"),m={Xb:f,Ma:void 0},v=new pc(m),w=null,N=d.timeout!=null?d.timeout:5e3;return 0<N&&(w=window.setTimeout(function(){Nh(f,!0);var D=new W0(tv,"Timeout reached for loading script "+o);Th(v),Iu(v,!1,D)},N),m.Ma=w),f.onload=f.onreadystatechange=function(){f.readyState&&f.readyState!="loaded"&&f.readyState!="complete"||(Nh(f,d.xd||!1,w),Th(v),Iu(v,!0,null))},f.onerror=function(){Nh(f,!0,w);var D=new W0(nb,"Error while loading script "+o);Th(v),Iu(v,!1,D)},m=d.attributes||{},Mt(m,{type:"text/javascript",charset:"UTF-8"}),ag(f,m),Y(f,l),dS(a).appendChild(f),v}function dS(l){var d;return(d=(l||document).getElementsByTagName("HEAD"))&&d.length!=0?d[0]:l.documentElement}function ev(){if(this&&this.Xb){var l=this.Xb;l&&l.tagName=="SCRIPT"&&Nh(l,!0,this.Ma)}}function Nh(l,d,a){a!=null&&h.clearTimeout(a),l.onload=b,l.onerror=b,l.onreadystatechange=b,d&&window.setTimeout(function(){l&&l.parentNode&&l.parentNode.removeChild(l)},0)}var nb=0,tv=1;function W0(l,d){var a="Jsloader error (code #"+l+")";d&&(a+=": "+d),ve.call(this,a),this.code=l}I(W0,ve);function Ch(l){this.f=l}I(Ch,Au),Ch.prototype.a=function(){return new this.f},Ch.prototype.b=function(){return{}};function ns(l,d,a){if(this.c=l,l=d||{},this.l=l.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=l.secureTokenTimeout||Rh,this.g=Hn(l.secureTokenHeaders||rv),this.h=l.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=l.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=l.firebaseTimeout||X0,this.a=Hn(l.firebaseHeaders||rb),a&&(this.a["X-Client-Version"]=a,this.g["X-Client-Version"]=a),a=Ka()=="Node",a=h.XMLHttpRequest||a&&Ze.INTERNAL.node&&Ze.INTERNAL.node.XMLHttpRequest,!a&&!Xa())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Xa()?this.f=new wh(self):Fg()?this.f=new Ch(a):this.f=new Nu,this.b=null}var nv,wa="idToken",Rh=new wi(3e4,6e4),rv={"Content-Type":"application/x-www-form-urlencoded"},X0=new wi(3e4,6e4),rb={"Content-Type":"application/json"};function iv(l,d){d?l.a["X-Firebase-Locale"]=d:delete l.a["X-Firebase-Locale"]}function cl(l,d){d&&(l.l=K0("https://securetoken.googleapis.com/v1/token",d),l.h=K0("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",d),l.i=K0("https://identitytoolkit.googleapis.com/v2/",d))}function K0(l,d){return l=Zr(l),d=Zr(d.url),l.f=l.a+l.f,bs(l,d.c),l.a=d.a,Xf(l,d.g),l.toString()}function Y0(l,d){d?(l.a["X-Client-Version"]=d,l.g["X-Client-Version"]=d):(delete l.a["X-Client-Version"],delete l.g["X-Client-Version"])}ns.prototype.T=function(){return this.b};function av(l,d,a,o,f,m,v){P1()||Xa()?l=A(l.u,l):(nv||(nv=new kt(function(w,N){ib(w,N)})),l=A(l.s,l)),l(d,a,o,f,m,v)}ns.prototype.u=function(l,d,a,o,f,m){if(Xa()&&(typeof h.fetch>"u"||typeof h.Headers>"u"||typeof h.Request>"u"))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var v=new Du(this.f);if(m){v.g=Math.max(0,m);var w=setTimeout(function(){v.dispatchEvent("timeout")},m)}N1(v,"complete",function(){w&&clearTimeout(w);var N=null;try{N=JSON.parse(eb(this))||null}catch{N=null}d&&d(N)}),wg(v,"ready",function(){w&&clearTimeout(w),Wo(this)}),wg(v,"timeout",function(){w&&clearTimeout(w),Wo(this),d&&d(null)}),$1(v,l,a,o,f)};var sv=new Sn(ql,"https://apis.google.com/js/client.js?onload=%{onload}"),$0="__fcb"+Math.floor(1e6*Math.random()).toString();function ib(l,d){if(((window.gapi||{}).client||{}).request)l();else{h[$0]=function(){((window.gapi||{}).client||{}).request?l():d(Error("CORS_UNSUPPORTED"))};var a=Ho(sv,{onload:$0});tb(G0(a),function(){d(Error("CORS_UNSUPPORTED"))})}}ns.prototype.s=function(l,d,a,o,f){var m=this;nv.then(function(){window.gapi.client.setApiKey(m.c);var v=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:l,method:a,body:o,headers:f,authType:"none",callback:function(w){window.gapi.auth.setToken(v),d&&d(w)}})}).o(function(v){d&&d({error:{message:v&&v.message||"CORS_UNSUPPORTED"}})})};function ab(l,d){return new kt(function(a,o){d.grant_type=="refresh_token"&&d.refresh_token||d.grant_type=="authorization_code"&&d.code?av(l,l.l+"?key="+encodeURIComponent(l.c),function(f){f?f.error?o(_a(f)):f.access_token&&f.refresh_token?a(f):o(new C("internal-error")):o(new C("network-request-failed"))},"POST",O1(d).toString(),l.g,l.m.get()):o(new C("internal-error"))})}function ul(l,d,a,o,f,m,v){var w=Zr(d+a);qn(w,"key",l.c),v&&qn(w,"cb",Date.now().toString());var N=o=="GET";if(N)for(var D in f)f.hasOwnProperty(D)&&qn(w,D,f[D]);return new kt(function(X,ae){av(l,w.toString(),function(ue){ue?ue.error?ae(_a(ue,m||{})):X(ue):ae(new C("network-request-failed"))},o,N?void 0:Cg(bi(f)),l.a,l.v.get())})}function fl(l){if(l=l.email,typeof l!="string"||!U1.test(l))throw new C("invalid-email")}function ov(l){"email"in l&&fl(l)}function sb(l,d){return Ct(l,cv,{identifier:d,continueUri:Zf()?Ql():"http://localhost"}).then(function(a){return a.signinMethods||[]})}function Q0(l){return Ct(l,mv,{}).then(function(d){return d.authorizedDomains||[]})}function ni(l){if(!l[wa])throw l.mfaPendingCredential?new C("multi-factor-auth-required",null,Hn(l)):new C("internal-error")}function Dh(l){if(l.phoneNumber||l.temporaryProof){if(!l.phoneNumber||!l.temporaryProof)throw new C("internal-error")}else{if(!l.sessionInfo)throw new C("missing-verification-id");if(!l.code)throw new C("missing-verification-code")}}ns.prototype.Ab=function(){return Ct(this,vo,{})},ns.prototype.Cb=function(l,d){return Ct(this,gb,{idToken:l,email:d})},ns.prototype.Db=function(l,d){return Ct(this,vv,{idToken:l,password:d})};var ob={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=ns.prototype,e.Eb=function(l,d){var a={idToken:l},o=[];return vt(ob,function(f,m){var v=d[m];v===null?o.push(f):m in d&&(a[m]=v)}),o.length&&(a.deleteAttribute=o),Ct(this,gb,a)},e.wb=function(l,d){return l={requestType:"PASSWORD_RESET",email:l},Mt(l,d),Ct(this,pb,l)},e.xb=function(l,d){return l={requestType:"EMAIL_SIGNIN",email:l},Mt(l,d),Ct(this,dv,l)},e.vb=function(l,d){return l={requestType:"VERIFY_EMAIL",idToken:l},Mt(l,d),Ct(this,ip,l)},e.Fb=function(l,d,a){return l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:l,newEmail:d},Mt(l,a),Ct(this,pv,l)};function lb(l,d){return Ct(l,gv,d)}e.gb=function(l){return Ct(this,yb,l)};function pS(l,d){return Ct(l,xv,d).then(function(a){return a.phoneSessionInfo.sessionInfo})}function J0(l){if(!l.phoneVerificationInfo)throw new C("internal-error");if(!l.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!l.phoneVerificationInfo.code)throw new C("missing-verification-code")}function tr(l,d){return Ct(l,vb,d).then(function(a){return a.phoneResponseInfo.sessionInfo})}function Dr(l,d,a){return Ct(l,fb,{idToken:d,deleteProvider:a})}function Z0(l){if(!l.requestUri||!l.sessionId&&!l.postBody&&!l.pendingToken)throw new C("internal-error")}function ep(l,d){return d.oauthIdToken&&d.providerId&&d.providerId.indexOf("oidc.")==0&&!d.pendingToken&&(l.sessionId?d.nonce=l.sessionId:l.postBody&&(l=new Yo(l.postBody),Ng(l,"nonce")&&(d.nonce=l.get("nonce")))),d}function lv(l){var d=null;if(l.needConfirmation?(l.code="account-exists-with-different-credential",d=Tu(l)):l.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(l.code="credential-already-in-use",d=Tu(l)):l.errorMessage=="EMAIL_EXISTS"?(l.code="email-already-in-use",d=Tu(l)):l.errorMessage&&(d=Mu(l.errorMessage)),d)throw d;ni(l)}function tp(l,d){return d.returnIdpCredential=!0,Ct(l,ap,d)}function mc(l,d){return d.returnIdpCredential=!0,Ct(l,wn,d)}function np(l,d){return d.returnIdpCredential=!0,d.autoCreate=!1,Ct(l,Ih,d)}function Fu(l){if(!l.oobCode)throw new C("invalid-action-code")}e.ob=function(l,d){return Ct(this,go,{oobCode:l,newPassword:d})},e.Sa=function(l){return Ct(this,mS,{oobCode:l})},e.kb=function(l){return Ct(this,cb,{oobCode:l})};var cb={endpoint:"setAccountInfo",A:Fu,Z:"email",B:!0},mS={endpoint:"resetPassword",A:Fu,G:function(l){var d=l.requestType;if(!d||!l.email&&d!="EMAIL_SIGNIN"&&d!="VERIFY_AND_CHANGE_EMAIL")throw new C("internal-error")},B:!0},rp={endpoint:"signupNewUser",A:function(l){if(fl(l),!l.password)throw new C("weak-password")},G:ni,V:!0,B:!0},cv={endpoint:"createAuthUri",B:!0},ub={endpoint:"deleteAccount",O:["idToken"]},fb={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(l){if(!Array.isArray(l.deleteProvider))throw new C("internal-error")}},hb={endpoint:"emailLinkSignin",O:["email","oobCode"],A:fl,G:ni,V:!0,B:!0},uv={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:fl,G:ni,V:!0},fv={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:J0,G:ni,B:!0,Na:!0},hv={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:J0,G:ni,B:!0,Na:!0},db={endpoint:"getAccountInfo"},dv={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(l){if(l.requestType!="EMAIL_SIGNIN")throw new C("internal-error");fl(l)},Z:"email",B:!0},ip={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(l){if(l.requestType!="VERIFY_EMAIL")throw new C("internal-error")},Z:"email",B:!0},pv={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(l){if(l.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new C("internal-error")},Z:"email",B:!0},pb={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(l){if(l.requestType!="PASSWORD_RESET")throw new C("internal-error");fl(l)},Z:"email",B:!0},mv={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},mb={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(l){if(!l.recaptchaSiteKey)throw new C("internal-error")}},go={endpoint:"resetPassword",A:Fu,Z:"email",B:!0},gv={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},gb={endpoint:"setAccountInfo",O:["idToken"],A:ov,V:!0},vv={endpoint:"setAccountInfo",O:["idToken"],A:function(l){if(ov(l),!l.password)throw new C("weak-password")},G:ni,V:!0},vo={endpoint:"signupNewUser",G:ni,V:!0,B:!0},xv={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(l){if(!l.phoneEnrollmentInfo)throw new C("internal-error");if(!l.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!l.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(l){if(!l.phoneSessionInfo||!l.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},vb={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(l){if(!l.phoneSignInInfo||!l.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(l){if(!l.phoneResponseInfo||!l.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},ap={endpoint:"verifyAssertion",A:Z0,Za:ep,G:lv,V:!0,B:!0},Ih={endpoint:"verifyAssertion",A:Z0,Za:ep,G:function(l){if(l.errorMessage&&l.errorMessage=="USER_NOT_FOUND")throw new C("user-not-found");if(l.errorMessage)throw Mu(l.errorMessage);ni(l)},V:!0,B:!0},wn={endpoint:"verifyAssertion",A:function(l){if(Z0(l),!l.idToken)throw new C("internal-error")},Za:ep,G:lv,V:!0},gS={endpoint:"verifyCustomToken",A:function(l){if(!l.token)throw new C("invalid-custom-token")},G:ni,V:!0,B:!0},xb={endpoint:"verifyPassword",A:function(l){if(fl(l),!l.password)throw new C("wrong-password")},G:ni,V:!0,B:!0},yb={endpoint:"verifyPhoneNumber",A:Dh,G:ni,B:!0},Oh={endpoint:"verifyPhoneNumber",A:function(l){if(!l.idToken)throw new C("internal-error");Dh(l)},G:function(l){if(l.temporaryProof)throw l.code="credential-already-in-use",Tu(l);ni(l)}},hl={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Dh,G:ni,B:!0},bb={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(l){if(!!l[wa]^!!l.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function Ct(l,d,a){if(!oo(a,d.O))return vn(new C("internal-error"));var o=!!d.Na,f=d.Vb||"POST",m;return Qe(a).then(d.A).then(function(){return d.V&&(a.returnSecureToken=!0),d.B&&l.b&&typeof a.tenantId>"u"&&(a.tenantId=l.b),o?ul(l,l.i,d.endpoint,f,a,d.Ib,d.mb||!1):ul(l,l.h,d.endpoint,f,a,d.Ib,d.mb||!1)}).then(function(v){return m=v,d.Za?d.Za(a,m):m}).then(d.G).then(function(){if(!d.Z)return m;if(!(d.Z in m))throw new C("internal-error");return m[d.Z]})}function Mu(l){return _a({error:{errors:[{message:l}],code:400,message:l}})}function _a(l,d){var a=(l.error&&l.error.errors&&l.error.errors[0]||{}).reason||"",o={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(a=o[a]?new C(o[a]):null)return a;a=l.error&&l.error.message||"",o={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Mt(o,d||{}),d=(d=a.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<d.length?d[1]:void 0;for(var f in o)if(a.indexOf(f)===0)return new C(o[f],d);return!d&&l&&(d=eh(l)),new C("internal-error",d)}function wb(l){this.b=l,this.a=null,this.sb=yv(this)}function yv(l){return nr().then(function(){return new kt(function(d,a){on("gapi.iframes.getContext")().open({where:document.body,url:l.b,messageHandlersFilter:on("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(o){function f(){clearTimeout(m),d()}l.a=o,l.a.restyle({setHideOnLeave:!1});var m=setTimeout(function(){a(Error("Network Error"))},Eb.get());o.ping(f).then(f,function(){a(Error("Network Error"))})})})})}function _b(l,d){return l.sb.then(function(){return new kt(function(a){l.a.send(d.type,d,a,on("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function bv(l,d){l.sb.then(function(){l.a.register("authEvent",d,on("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var wv=new Sn(ql,"https://apis.google.com/js/api.js?onload=%{onload}"),sp=new wi(3e4,6e4),Eb=new wi(5e3,15e3),Ea=null;function nr(){return Ea||(Ea=new kt(function(l,d){function a(){th(),on("gapi.load")("gapi.iframes",{callback:l,ontimeout:function(){th(),d(Error("Network Error"))},timeout:sp.get()})}if(on("gapi.iframes.Iframe"))l();else if(on("gapi.load"))a();else{var o="__iframefcb"+Math.floor(1e6*Math.random()).toString();h[o]=function(){on("gapi.load")?a():d(Error("Network Error"))},o=Ho(wv,{onload:o}),Qe(G0(o)).o(function(){d(Error("Network Error"))})}}).o(function(l){throw Ea=null,l}))}function op(l,d,a,o){this.l=l,this.h=d,this.i=a,this.g=o,this.f=null,this.g?(l=Zr(this.g.url),l=Ko(l.c,l.a,l.g,"/emulator/auth/iframe")):l=Ko("https",this.l,null,"/__/auth/iframe"),this.a=l,qn(this.a,"apiKey",this.h),qn(this.a,"appName",this.i),this.b=null,this.c=[]}op.prototype.toString=function(){return this.f?qn(this.a,"v",this.f):ws(this.a.b,"v"),this.b?qn(this.a,"eid",this.b):ws(this.a.b,"eid"),this.c.length?qn(this.a,"fw",this.c.join(",")):ws(this.a.b,"fw"),this.a.toString()};function lp(l,d,a,o,f,m){this.u=l,this.s=d,this.c=a,this.m=o,this.v=m,this.i=this.g=this.l=null,this.a=f,this.h=this.f=null}lp.prototype.zb=function(l){return this.h=l,this},lp.prototype.toString=function(){if(this.v){var l=Zr(this.v.url);l=Ko(l.c,l.a,l.g,"/emulator/auth/handler")}else l=Ko("https",this.u,null,"/__/auth/handler");if(qn(l,"apiKey",this.s),qn(l,"appName",this.c),qn(l,"authType",this.m),this.a.isOAuthProvider){var d=this.a;try{var a=Ze.app(this.c).auth().la()}catch{a=null}d.pb=a,qn(l,"providerId",this.a.providerId),a=this.a,d=bi(a.Jb);for(var o in d)d[o]=d[o].toString();o=a.Qc,d=Hn(d);for(var f=0;f<o.length;f++){var m=o[f];m in d&&delete d[m]}a.qb&&a.pb&&!d[a.qb]&&(d[a.qb]=a.pb),Jt(d)||qn(l,"customParameters",eh(d))}if(typeof this.a.Rb=="function"&&(a=this.a.Rb(),a.length&&qn(l,"scopes",a.join(","))),this.l?qn(l,"redirectUrl",this.l):ws(l.b,"redirectUrl"),this.g?qn(l,"eventId",this.g):ws(l.b,"eventId"),this.i?qn(l,"v",this.i):ws(l.b,"v"),this.b)for(var v in this.b)this.b.hasOwnProperty(v)&&!Ji(l,v)&&qn(l,v,this.b[v]);return this.h?qn(l,"tid",this.h):ws(l.b,"tid"),this.f?qn(l,"eid",this.f):ws(l.b,"eid"),v=rr(this.c),v.length&&qn(l,"fw",v.join(",")),l.toString()};function rr(l){try{return Ze.app(l).auth().Ga()}catch{return[]}}function Sb(l,d,a,o,f,m){this.s=l,this.g=d,this.b=a,this.f=m,this.c=o||null,this.i=f||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function _v(l){var d=Ql();return Q0(l).then(function(a){e:{var o=Zr(d),f=o.c;o=o.a;for(var m=0;m<a.length;m++){var v=a[m],w=o,N=f;if(v.indexOf("chrome-extension://")==0?w=Zr(v).a==w&&N=="chrome-extension":N!="http"&&N!="https"?w=!1:Jl.test(v)?w=w==v:(v=v.split(".").join("\\."),w=new RegExp("^(.+\\."+v+"|"+v+")$","i").test(w)),w){a=!0;break e}}a=!1}if(!a)throw new Tn(Ql())})}function Ev(l){return l.m||(l.m=$f().then(function(){if(!l.u){var d=l.c,a=l.i,o=rr(l.b),f=new op(l.s,l.g,l.b,l.f);f.f=d,f.b=a,f.c=At(o||[]),l.u=f.toString()}l.v=new wb(l.u),xo(l)})),l.m}e=Sb.prototype,e.Pb=function(l,d,a){var o=new C("popup-closed-by-user"),f=new C("web-storage-unsupported"),m=this,v=!1;return this.ma().then(function(){Tb(m).then(function(w){w||(l&&ga(l),d(f),v=!0)})}).o(function(){}).then(function(){if(!v)return B1(l)}).then(function(){if(!v)return fu(a).then(function(){d(o)})})},e.Yb=function(){var l=er();return!_s(l)&&!Lg(l)},e.Ub=function(){return!1},e.Nb=function(l,d,a,o,f,m,v,w){if(!l)return vn(new C("popup-blocked"));if(v&&!_s())return this.ma().o(function(D){ga(l),f(D)}),o(),Qe();this.a||(this.a=_v(_n(this)));var N=this;return this.a.then(function(){var D=N.ma().o(function(X){throw ga(l),f(X),X});return o(),D}).then(function(){if(al(a),!v){var D=yr(N.s,N.g,N.b,d,a,null,m,N.c,void 0,N.i,w,N.f);du(D,l)}}).o(function(D){throw D.code=="auth/network-request-failed"&&(N.a=null),D})};function _n(l){return l.l||(l.C=l.c?Jo(l.c,rr(l.b)):null,l.l=new ns(l.g,Z(l.i),l.C),l.f&&cl(l.l,l.f)),l.l}e.Ob=function(l,d,a,o){this.a||(this.a=_v(_n(this)));var f=this;return this.a.then(function(){al(d);var m=yr(f.s,f.g,f.b,l,d,Ql(),a,f.c,void 0,f.i,o,f.f);du(m)}).o(function(m){throw m.code=="auth/network-request-failed"&&(f.a=null),m})},e.ma=function(){var l=this;return Ev(this).then(function(){return l.v.sb}).o(function(){throw l.a=null,new C("network-request-failed")})},e.ac=function(){return!0};function yr(l,d,a,o,f,m,v,w,N,D,X,ae){return l=new lp(l,d,a,o,f,ae),l.l=m,l.g=v,l.i=w,l.b=Hn(N||null),l.f=D,l.zb(X).toString()}function xo(l){if(!l.v)throw Error("IfcHandler must be initialized!");bv(l.v,function(d){var a={};if(d&&d.authEvent){var o=!1;for(d=xh(d.authEvent),a=0;a<l.h.length;a++)o=l.h[a](d)||o;return a={},a.status=o?"ACK":"ERROR",Qe(a)}return a.status="ERROR",Qe(a)})}function Tb(l){var d={type:"webStorageSupport"};return Ev(l).then(function(){return _b(l.v,d)}).then(function(a){if(a&&a.length&&typeof a[0].webStorageSupport<"u")return a[0].webStorageSupport;throw Error()})}e.Ea=function(l){this.h.push(l)},e.Ta=function(l){St(this.h,function(d){return d==l})};function Sv(l){if(this.a=l||Ze.INTERNAL.reactNative&&Ze.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Sv.prototype,e.get=function(l){return Qe(this.a.getItem(l)).then(function(d){return d&&Zo(d)})},e.set=function(l,d){return Qe(this.a.setItem(l,eh(d)))},e.U=function(l){return Qe(this.a.removeItem(l))},e.ca=function(){},e.ia=function(){};function Tv(l){this.b=l,this.a={},this.f=A(this.c,this)}var Ab=[];function cp(){var l=Xa()?self:null;if(W(Ab,function(a){a.b==l&&(d=a)}),!d){var d=new Tv(l);Ab.push(d)}return d}Tv.prototype.c=function(l){var d=l.data.eventType,a=l.data.eventId,o=this.a[d];if(o&&0<o.length){l.ports[0].postMessage({status:"ack",eventId:a,eventType:d,response:null});var f=[];W(o,function(m){f.push(Qe().then(function(){return m(l.origin,l.data.data)}))}),$l(f).then(function(m){var v=[];W(m,function(w){v.push({fulfilled:w.Qb,value:w.value,reason:w.reason?w.reason.message:void 0})}),W(v,function(w){for(var N in w)typeof w[N]>"u"&&delete w[N]}),l.ports[0].postMessage({status:"done",eventId:a,eventType:d,response:v})})}};function ri(l,d,a){Jt(l.a)&&l.b.addEventListener("message",l.f),typeof l.a[d]>"u"&&(l.a[d]=[]),l.a[d].push(a)}function Sa(l){this.a=l}Sa.prototype.postMessage=function(l,d){this.a.postMessage(l,d)};function Av(l){this.c=l,this.b=!1,this.a=[]}function ii(l,d,a,o){var f,m=a||{},v,w,N,D=null;if(l.b)return vn(Error("connection_unavailable"));var X=o?800:50,ae=typeof MessageChannel<"u"?new MessageChannel:null;return new kt(function(ue,ye){ae?(f=Math.floor(Math.random()*Math.pow(10,20)).toString(),ae.port1.start(),w=setTimeout(function(){ye(Error("unsupported_event"))},X),v=function(le){le.data.eventId===f&&(le.data.status==="ack"?(clearTimeout(w),N=setTimeout(function(){ye(Error("timeout"))},3e3)):le.data.status==="done"?(clearTimeout(N),typeof le.data.response<"u"?ue(le.data.response):ye(Error("unknown_error"))):(clearTimeout(w),clearTimeout(N),ye(Error("invalid_response"))))},D={messageChannel:ae,onMessage:v},l.a.push(D),ae.port1.addEventListener("message",v),l.c.postMessage({eventType:d,eventId:f,data:m},[ae.port2])):ye(Error("connection_unavailable"))}).then(function(ue){return up(l,D),ue}).o(function(ue){throw up(l,D),ue})}function up(l,d){if(d){var a=d.messageChannel,o=d.onMessage;a&&(a.port1.removeEventListener("message",o),a.port1.close()),St(l.a,function(f){return f==d})}}Av.prototype.close=function(){for(;0<this.a.length;)up(this,this.a[0]);this.b=!0};function Ns(){if(!hp())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=h.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var l=this;Xa()&&self?(this.v=cp(),ri(this.v,"keyChanged",function(d,a){return kv(l).then(function(o){return 0<o.length&&W(l.a,function(f){f(o)}),{keyProcessed:rt(o,a.key)}})}),ri(this.v,"ping",function(){return Qe(["keyChanged"])})):pu().then(function(d){(l.h=d)&&(l.g=new Av(new Sa(d)),ii(l.g,"ping",null,!0).then(function(a){a[0].fulfilled&&rt(a[0].value,"keyChanged")&&(l.s=!0)}).o(function(){}))})}var yo;function bo(l){return new kt(function(d,a){var o=l.m.deleteDatabase("firebaseLocalStorageDb");o.onsuccess=function(){d()},o.onerror=function(f){a(Error(f.target.error))}})}function fp(l){return new kt(function(d,a){var o=l.m.open("firebaseLocalStorageDb",1);o.onerror=function(f){try{f.preventDefault()}catch{}a(Error(f.target.error))},o.onupgradeneeded=function(f){f=f.target.result;try{f.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(m){a(m)}},o.onsuccess=function(f){f=f.target.result,f.objectStoreNames.contains("firebaseLocalStorage")?d(f):bo(l).then(function(){return fp(l)}).then(function(m){d(m)}).o(function(m){a(m)})}})}function Fh(l){return l.i||(l.i=fp(l)),l.i}function ki(l,d){function a(f,m){Fh(l).then(d).then(f).o(function(v){if(3<++o)m(v);else return Fh(l).then(function(w){return w.close(),l.i=void 0,a(f,m)}).o(function(w){m(w)})})}var o=0;return new kt(a)}function hp(){try{return!!h.indexedDB}catch{return!1}}function Cs(l){return l.objectStore("firebaseLocalStorage")}function wo(l,d){return l.transaction(["firebaseLocalStorage"],d?"readwrite":"readonly")}function Rs(l){return new kt(function(d,a){l.onsuccess=function(o){o&&o.target?d(o.target.result):d()},l.onerror=function(o){a(o.target.error)}})}e=Ns.prototype,e.set=function(l,d){var a=this,o=!1;return ki(this,function(f){return f=Cs(wo(f,!0)),Rs(f.get(l))}).then(function(f){return ki(a,function(m){if(m=Cs(wo(m,!0)),f)return f.value=d,Rs(m.put(f));a.b++,o=!0;var v={};return v.fbase_key=l,v.value=d,Rs(m.add(v))})}).then(function(){return a.c[l]=d,gc(a,l)}).oa(function(){o&&a.b--})};function gc(l,d){return l.g&&l.h&&va()===l.h?ii(l.g,"keyChanged",{key:d},l.s).then(function(){}).o(function(){}):Qe()}e.get=function(l){return ki(this,function(d){return Rs(Cs(wo(d,!1)).get(l))}).then(function(d){return d&&d.value})},e.U=function(l){var d=this,a=!1;return ki(this,function(o){return a=!0,d.b++,Rs(Cs(wo(o,!0)).delete(l))}).then(function(){return delete d.c[l],gc(d,l)}).oa(function(){a&&d.b--})};function kv(l){return Fh(l).then(function(d){var a=Cs(wo(d,!1));return a.getAll?Rs(a.getAll()):new kt(function(o,f){var m=[],v=a.openCursor();v.onsuccess=function(w){(w=w.target.result)?(m.push(w.value),w.continue()):o(m)},v.onerror=function(w){f(w.target.error)}})}).then(function(d){var a={},o=[];if(l.b==0){for(o=0;o<d.length;o++)a[d[o].fbase_key]=d[o].value;o=w0(l.c,a),l.c=a}return o})}e.ca=function(l){this.a.length==0&&kb(this),this.a.push(l)},e.ia=function(l){St(this.a,function(d){return d==l}),this.a.length==0&&Lu(this)};function kb(l){function d(){l.f=setTimeout(function(){l.l=kv(l).then(function(a){0<a.length&&W(l.a,function(o){o(a)})}).then(function(){d()}).o(function(a){a.message!="STOP_EVENT"&&d()})},800)}Lu(l),d()}function Lu(l){l.l&&l.l.cancel("STOP_EVENT"),l.f&&(clearTimeout(l.f),l.f=null)}function Nv(l){var d=this,a=null;this.a=[],this.type="indexedDB",this.c=l,this.b=Qe().then(function(){if(hp()){var o=ei(),f="__sak"+o;return yo||(yo=new Ns),a=yo,a.set(f,o).then(function(){return a.get(f)}).then(function(m){if(m!==o)throw Error("indexedDB not supported!");return a.U(f)}).then(function(){return a}).o(function(){return d.c})}return d.c}).then(function(o){return d.type=o.type,o.ca(function(f){W(d.a,function(m){m(f)})}),o})}e=Nv.prototype,e.get=function(l){return this.b.then(function(d){return d.get(l)})},e.set=function(l,d){return this.b.then(function(a){return a.set(l,d)})},e.U=function(l){return this.b.then(function(d){return d.U(l)})},e.ca=function(l){this.a.push(l)},e.ia=function(l){St(this.a,function(d){return d==l})};function dl(){this.a={},this.type="inMemory"}e=dl.prototype,e.get=function(l){return Qe(this.a[l])},e.set=function(l,d){return this.a[l]=d,Qe()},e.U=function(l){return delete this.a[l],Qe()},e.ca=function(){},e.ia=function(){};function Mh(){if(!vS())throw Ka()=="Node"?new C("internal-error","The LocalStorage compatibility library was not found."):new C("web-storage-unsupported");this.a=Nb()||Ze.INTERNAL.node.localStorage,this.type="localStorage"}function Nb(){try{var l=h.localStorage,d=ei();return l&&(l.setItem(d,"1"),l.removeItem(d)),l}catch{return null}}function vS(){var l=Ka()=="Node";if(l=Nb()||l&&Ze.INTERNAL.node&&Ze.INTERNAL.node.localStorage,!l)return!1;try{return l.setItem("__sak","1"),l.removeItem("__sak"),!0}catch{return!1}}e=Mh.prototype,e.get=function(l){var d=this;return Qe().then(function(){var a=d.a.getItem(l);return Zo(a)})},e.set=function(l,d){var a=this;return Qe().then(function(){var o=eh(d);o===null?a.U(l):a.a.setItem(l,o)})},e.U=function(l){var d=this;return Qe().then(function(){d.a.removeItem(l)})},e.ca=function(l){h.window&&ma(h.window,"storage",l)},e.ia=function(l){h.window&&Qi(h.window,"storage",l)};function Bt(){this.type="nullStorage"}e=Bt.prototype,e.get=function(){return Qe(null)},e.set=function(){return Qe()},e.U=function(){return Qe()},e.ca=function(){},e.ia=function(){};function en(){if(!It())throw Ka()=="Node"?new C("internal-error","The SessionStorage compatibility library was not found."):new C("web-storage-unsupported");this.a=Tt()||Ze.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Tt(){try{var l=h.sessionStorage,d=ei();return l&&(l.setItem(d,"1"),l.removeItem(d)),l}catch{return null}}function It(){var l=Ka()=="Node";if(l=Tt()||l&&Ze.INTERNAL.node&&Ze.INTERNAL.node.sessionStorage,!l)return!1;try{return l.setItem("__sak","1"),l.removeItem("__sak"),!0}catch{return!1}}e=en.prototype,e.get=function(l){var d=this;return Qe().then(function(){var a=d.a.getItem(l);return Zo(a)})},e.set=function(l,d){var a=this;return Qe().then(function(){var o=eh(d);o===null?a.U(l):a.a.setItem(l,o)})},e.U=function(l){var d=this;return Qe().then(function(){d.a.removeItem(l)})},e.ca=function(){},e.ia=function(){};function tn(){var l={};l.Browser=pl,l.Node=ju,l.ReactNative=Cv,l.Worker=_o,this.a=l[Ka()]}var ai,pl={F:Mh,cb:en},ju={F:Mh,cb:en},Cv={F:Sv,cb:Bt},_o={F:Mh,cb:Bt},cn={rd:"local",NONE:"none",td:"session"};function ml(l){var d=new C("invalid-persistence-type"),a=new C("unsupported-persistence-type");e:{for(o in cn)if(cn[o]==l){var o=!0;break e}o=!1}if(!o||typeof l!="string")throw d;switch(Ka()){case"ReactNative":if(l==="session")throw a;break;case"Node":if(l!=="none")throw a;break;case"Worker":if(l==="session"||!hp()&&l!=="none")throw a;break;default:if(!Jf()&&l!=="none")throw a}}function gl(){var l=!!(!Lg(er())&&Og()),d=_s(),a=Jf();this.m=l,this.h=d,this.l=a,this.a={},ai||(ai=new tn),l=ai;try{this.g=!$o()&&jg()||!h.indexedDB?new l.a.F:new Nv(Xa()?new dl:new l.a.F)}catch{this.g=new dl,this.h=!0}try{this.i=new l.a.cb}catch{this.i=new dl}this.v=new dl,this.f=A(this.Zb,this),this.b={}}var Lh;function Ir(){return Lh||(Lh=new gl),Lh}function Ta(l,d){switch(d){case"session":return l.i;case"none":return l.v;default:return l.g}}function Ds(l,d){return"firebase:"+l.name+(d?":"+d:"")}function Ni(l,d,a){var o=Ds(d,a),f=Ta(l,d.F);return l.get(d,a).then(function(m){var v=null;try{v=Zo(h.localStorage.getItem(o))}catch{}if(v&&!m)return h.localStorage.removeItem(o),l.set(d,v,a);v&&m&&f.type!="localStorage"&&h.localStorage.removeItem(o)})}e=gl.prototype,e.get=function(l,d){return Ta(this,l.F).get(Ds(l,d))};function vl(l,d,a){return a=Ds(d,a),d.F=="local"&&(l.b[a]=null),Ta(l,d.F).U(a)}e.set=function(l,d,a){var o=Ds(l,a),f=this,m=Ta(this,l.F);return m.set(o,d).then(function(){return m.get(o)}).then(function(v){l.F=="local"&&(f.b[o]=v)})},e.addListener=function(l,d,a){l=Ds(l,d),this.l&&(this.b[l]=h.localStorage.getItem(l)),Jt(this.a)&&(Ta(this,"local").ca(this.f),this.h||($o()||!jg())&&h.indexedDB||!this.l||dp(this)),this.a[l]||(this.a[l]=[]),this.a[l].push(a)},e.removeListener=function(l,d,a){l=Ds(l,d),this.a[l]&&(St(this.a[l],function(o){return o==a}),this.a[l].length==0&&delete this.a[l]),Jt(this.a)&&(Ta(this,"local").ia(this.f),pp(this))};function dp(l){pp(l),l.c=setInterval(function(){for(var d in l.a){var a=h.localStorage.getItem(d),o=l.b[d];a!=o&&(l.b[d]=a,a=new Wa({type:"storage",key:d,target:window,oldValue:o,newValue:a,a:!0}),l.Zb(a))}},1e3)}function pp(l){l.c&&(clearInterval(l.c),l.c=null)}e.Zb=function(l){if(l&&l.g){var d=l.a.key;if(d==null)for(var a in this.a){var o=this.b[a];typeof o>"u"&&(o=null);var f=h.localStorage.getItem(a);f!==o&&(this.b[a]=f,this.nb(a))}else if(d.indexOf("firebase:")==0&&this.a[d]){if(typeof l.a.a<"u"?Ta(this,"local").ia(this.f):pp(this),this.m){if(a=h.localStorage.getItem(d),o=l.a.newValue,o!==a)o!==null?h.localStorage.setItem(d,o):h.localStorage.removeItem(d);else if(this.b[d]===o&&typeof l.a.a>"u")return}var m=this;a=function(){(typeof l.a.a<"u"||m.b[d]!==h.localStorage.getItem(d))&&(m.b[d]=h.localStorage.getItem(d),m.nb(d))},Me&&Ha&&Ha==10&&h.localStorage.getItem(d)!==l.a.newValue&&l.a.newValue!==l.a.oldValue?setTimeout(a,10):a()}}else W(l,A(this.nb,this))},e.nb=function(l){this.a[l]&&W(this.a[l],function(d){d()})};function mp(l){this.a=l,this.b=Ir()}var Pu={name:"authEvent",F:"local"};function xl(l){return l.b.get(Pu,l.a).then(function(d){return xh(d)})}function hr(){this.a=Ir()}function yl(){this.b=-1}function Eo(l,d){this.b=gp,this.f=h.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=l,this.h=d,this.l=h.Int32Array?new Int32Array(64):Array(64),Aa===void 0&&(h.Int32Array?Aa=new Int32Array(oi):Aa=oi),this.reset()}var Aa;I(Eo,yl);for(var gp=64,Rv=gp-1,Dv=[],vc=0;vc<Rv;vc++)Dv[vc]=0;var vp=pt(128,Dv);Eo.prototype.reset=function(){this.g=this.c=0,this.a=h.Int32Array?new Int32Array(this.h):At(this.h)};function si(l){for(var d=l.f,a=l.l,o=0,f=0;f<d.length;)a[o++]=d[f]<<24|d[f+1]<<16|d[f+2]<<8|d[f+3],f=4*o;for(d=16;64>d;d++){f=a[d-15]|0,o=a[d-2]|0;var m=(a[d-16]|0)+((f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3)|0,v=(a[d-7]|0)+((o>>>17|o<<15)^(o>>>19|o<<13)^o>>>10)|0;a[d]=m+v|0}o=l.a[0]|0,f=l.a[1]|0;var w=l.a[2]|0,N=l.a[3]|0,D=l.a[4]|0,X=l.a[5]|0,ae=l.a[6]|0;for(m=l.a[7]|0,d=0;64>d;d++){var ue=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&f^o&w^f&w)|0;v=D&X^~D&ae,m=m+((D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7))|0,v=v+(Aa[d]|0)|0,v=m+(v+(a[d]|0)|0)|0,m=ae,ae=X,X=D,D=N+v|0,N=w,w=f,f=o,o=v+ue|0}l.a[0]=l.a[0]+o|0,l.a[1]=l.a[1]+f|0,l.a[2]=l.a[2]+w|0,l.a[3]=l.a[3]+N|0,l.a[4]=l.a[4]+D|0,l.a[5]=l.a[5]+X|0,l.a[6]=l.a[6]+ae|0,l.a[7]=l.a[7]+m|0}function xp(l,d,a){a===void 0&&(a=d.length);var o=0,f=l.c;if(typeof d=="string")for(;o<a;)l.f[f++]=d.charCodeAt(o++),f==l.b&&(si(l),f=0);else if(S(d))for(;o<a;){var m=d[o++];if(!(typeof m=="number"&&0<=m&&255>=m&&m==(m|0)))throw Error("message must be a byte array");l.f[f++]=m,f==l.b&&(si(l),f=0)}else throw Error("message must be string or array");l.c=f,l.g+=a}var oi=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Iv(){Eo.call(this,8,Cb)}I(Iv,Eo);var Cb=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Rb(l,d,a,o,f,m){this.v=l,this.i=d,this.l=a,this.m=o||null,this.u=f||null,this.s=m,this.h=d+":"+a,this.C=new hr,this.g=new mp(this.h),this.f=null,this.b=[],this.a=this.c=null}function rs(l){return new C("invalid-cordova-configuration",l)}e=Rb.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=z1().then(function(){if(typeof on("universalLinks.subscribe",h)!="function")throw rs("cordova-universal-links-plugin-fix is not installed");if(typeof on("BuildInfo.packageName",h)>"u")throw rs("cordova-plugin-buildinfo is not installed");if(typeof on("cordova.plugins.browsertab.openUrl",h)!="function")throw rs("cordova-plugin-browsertab is not installed");if(typeof on("cordova.InAppBrowser.open",h)!="function")throw rs("cordova-plugin-inappbrowser is not installed")},function(){throw new C("cordova-not-ready")})};function yp(){for(var l=20,d=[];0<l;)d.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),l--;return d.join("")}function Ov(l){var d=new Iv;xp(d,l),l=[];var a=8*d.g;56>d.c?xp(d,vp,56-d.c):xp(d,vp,d.b-(d.c-56));for(var o=63;56<=o;o--)d.f[o]=a&255,a/=256;for(si(d),o=a=0;o<d.i;o++)for(var f=24;0<=f;f-=8)l[a++]=d.a[o]>>f&255;return fS(l)}e.Pb=function(l,d){return d(new C("operation-not-supported-in-this-environment")),Qe()},e.Nb=function(){return vn(new C("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(l,d,a,o){if(this.c)return vn(new C("redirect-operation-pending"));var f=this,m=h.document,v=null,w=null,N=null,D=null;return this.c=Qe().then(function(){return al(d),Mv(f)}).then(function(){return Bu(f,l,d,a,o)}).then(function(){return new kt(function(X,ae){w=function(){var ue=on("cordova.plugins.browsertab.close",h);return X(),typeof ue=="function"&&ue(),f.a&&typeof f.a.close=="function"&&(f.a.close(),f.a=null),!1},f.Ea(w),N=function(){v||(v=fu(2e3).then(function(){ae(new C("redirect-cancelled-by-user"))}))},D=function(){nh()&&N()},m.addEventListener("resume",N,!1),er().toLowerCase().match(/android/)||m.addEventListener("visibilitychange",D,!1)}).o(function(X){return bp(f).then(function(){throw X})})}).oa(function(){N&&m.removeEventListener("resume",N,!1),D&&m.removeEventListener("visibilitychange",D,!1),v&&v.cancel(),w&&f.Ta(w),f.c=null})};function Bu(l,d,a,o,f){var m=yp(),v=new Rr(d,o,null,m,new C("no-auth-event"),null,f),w=on("BuildInfo.packageName",h);if(typeof w!="string")throw new C("invalid-cordova-configuration");var N=on("BuildInfo.displayName",h),D={};if(er().toLowerCase().match(/iphone|ipad|ipod/))D.ibi=w;else if(er().toLowerCase().match(/android/))D.apn=w;else return vn(new C("operation-not-supported-in-this-environment"));N&&(D.appDisplayName=N),m=Ov(m),D.sessionId=m;var X=yr(l.v,l.i,l.l,d,a,null,o,l.m,D,l.u,f,l.s);return l.ma().then(function(){var ae=l.h;return l.C.a.set(Pu,v.w(),ae)}).then(function(){var ae=on("cordova.plugins.browsertab.isAvailable",h);if(typeof ae!="function")throw new C("invalid-cordova-configuration");var ue=null;ae(function(ye){if(ye){if(ue=on("cordova.plugins.browsertab.openUrl",h),typeof ue!="function")throw new C("invalid-cordova-configuration");ue(X)}else{if(ue=on("cordova.InAppBrowser.open",h),typeof ue!="function")throw new C("invalid-cordova-configuration");ye=er(),l.a=ue(X,ye.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||ye.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Fv(l,d){for(var a=0;a<l.b.length;a++)try{l.b[a](d)}catch{}}function Mv(l){return l.f||(l.f=l.ma().then(function(){return new kt(function(d){function a(o){return d(o),l.Ta(a),!1}l.Ea(a),Db(l)})})),l.f}function bp(l){var d=null;return xl(l.g).then(function(a){return d=a,a=l.g,vl(a.b,Pu,a.a)}).then(function(){return d})}function Db(l){function d(v){o=!0,f&&f.cancel(),bp(l).then(function(w){var N=a;if(w&&v&&v.url){var D=null;N=Vg(v.url),N.indexOf("/__/auth/callback")!=-1&&(D=Zr(N),D=Zo(Ji(D,"firebaseError")||null),D=(D=typeof D=="object"?z(D):null)?new Rr(w.c,w.b,null,null,D,null,w.T()):new Rr(w.c,w.b,N,w.f,null,null,w.T())),N=D||a}Fv(l,N)})}var a=new Rr("unknown",null,null,null,new C("no-auth-event")),o=!1,f=fu(500).then(function(){return bp(l).then(function(){o||Fv(l,a)})}),m=h.handleOpenURL;h.handleOpenURL=function(v){if(v.toLowerCase().indexOf(on("BuildInfo.packageName",h).toLowerCase()+"://")==0&&d({url:v}),typeof m=="function")try{m(v)}catch(w){console.error(w)}},sl||(sl=new yh),hS(d)}e.Ea=function(l){this.b.push(l),Mv(this).o(function(d){d.code==="auth/invalid-cordova-configuration"&&(d=new Rr("unknown",null,null,null,new C("no-auth-event")),l(d))})},e.Ta=function(l){St(this.b,function(d){return d==l})};function wp(l){this.a=l,this.b=Ir()}var jh={name:"pendingRedirect",F:"session"};function xS(l){return l.b.set(jh,"pending",l.a)}function Lv(l){return vl(l.b,jh,l.a)}function yS(l){return l.b.get(jh,l.a).then(function(d){return d=="pending"})}function Ph(l,d,a,o){this.i={},this.u=0,this.D=l,this.v=d,this.m=a,this.J=o,this.h=[],this.f=!1,this.l=A(this.s,this),this.b=new Tp,this.C=new qh,this.g=new wp(Wt(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jv(this.D,this.v,this.m,xe,this.J)}function jv(l,d,a,o,f){var m=Ze.SDK_VERSION||null;return Ig()?new Rb(l,d,a,m,o,f):new Sb(l,d,a,m,o,f)}Ph.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=jv(this.D,this.v,this.m,null,this.J),this.i={}};function xc(l){l.f||(l.f=!0,l.a.Ea(l.l));var d=l.a;return l.a.ma().o(function(a){throw l.a==d&&l.reset(),a})}function Bh(l){l.a.Yb()&&xc(l).o(function(d){var a=new Rr("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Ep(d)&&l.s(a)}),l.a.Ub()||Uv(l.b)}function Uh(l,d){rt(l.h,d)||l.h.push(d),l.f||yS(l.g).then(function(a){a?Lv(l.g).then(function(){xc(l).o(function(o){var f=new Rr("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Ep(o)&&l.s(f)})}):Bh(l)}).o(function(){Bh(l)})}function _p(l,d){St(l.h,function(a){return a==d})}Ph.prototype.s=function(l){if(!l)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),l&&l.getUid()&&this.i.hasOwnProperty(l.getUid()))return!1;for(var d=!1,a=0;a<this.h.length;a++){var o=this.h[a];if(o.Gb(l.c,l.b)){(d=this.c[l.c])&&(d.h(l,o),l&&(l.f||l.b)&&(this.i[l.getUid()]=!0,this.u=Date.now())),d=!0;break}}return Uv(this.b),d};var Ib=new wi(2e3,1e4),Ob=new wi(3e4,6e4);Ph.prototype.ra=function(){return this.b.ra()};function Pv(l,d,a,o,f,m,v){return l.a.Nb(d,a,o,function(){l.f||(l.f=!0,l.a.Ea(l.l))},function(){l.reset()},f,m,v)}function Ep(l){return!!(l&&l.code=="auth/cordova-not-ready")}function zh(l,d,a,o,f){var m;return xS(l.g).then(function(){return l.a.Ob(d,a,o,f).o(function(v){if(Ep(v))throw new C("operation-not-supported-in-this-environment");return m=v,Lv(l.g).then(function(){throw m})}).then(function(){return l.a.ac()?new kt(function(){}):Lv(l.g).then(function(){return l.ra()}).then(function(){}).o(function(){})})})}function Bv(l,d,a,o,f){return l.a.Pb(o,function(m){d.na(a,null,m,f)},Ib.get())}var Sp={};function Wt(l,d,a){return l=l+":"+d,a&&(l=l+":"+a.url),l}function Vh(l,d,a,o){var f=Wt(d,a,o);return Sp[f]||(Sp[f]=new Ph(l,d,a,o)),Sp[f]}function Tp(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Tp.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Tp.prototype.h=function(l,d){if(l){this.reset(),this.g=!0;var a=l.c,o=l.b,f=l.a&&l.a.code=="auth/web-storage-unsupported",m=l.a&&l.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!f&&!m),a!="unknown"||f||m?l.a?(ka(this,!0,null,l.a),Qe()):d.Fa(a,o)?bS(this,l,d):vn(new C("invalid-auth-event")):(ka(this,!1,null,null),Qe())}else vn(new C("invalid-auth-event"))};function Uv(l){l.g||(l.g=!0,ka(l,!1,null,null))}function Ap(l){l.g&&!l.i&&ka(l,!1,null,null)}function bS(l,d,a){a=a.Fa(d.c,d.b);var o=d.g,f=d.f,m=d.i,v=d.T(),w=!!d.c.match(/Redirect$/);a(o,f,v,m).then(function(N){ka(l,w,N,null)}).o(function(N){ka(l,w,null,N)})}function wS(l,d){if(l.b=function(){return vn(d)},l.c.length)for(var a=0;a<l.c.length;a++)l.c[a](d)}function Hh(l,d){if(l.b=function(){return Qe(d)},l.f.length)for(var a=0;a<l.f.length;a++)l.f[a](d)}function ka(l,d,a,o){d?o?wS(l,o):Hh(l,a):Hh(l,{user:null}),l.f=[],l.c=[]}Tp.prototype.ra=function(){var l=this;return new kt(function(d,a){l.b?l.b().then(d,a):(l.f.push(d),l.c.push(a),zv(l))})};function zv(l){var d=new C("timeout");l.a&&l.a.cancel(),l.a=fu(Ob.get()).then(function(){l.b||(l.g=!0,ka(l,!0,null,d))})}function qh(){}qh.prototype.h=function(l,d){if(l){var a=l.c,o=l.b;l.a?(d.na(l.c,null,l.a,l.b),Qe()):d.Fa(a,o)?Vv(l,d):vn(new C("invalid-auth-event"))}else vn(new C("invalid-auth-event"))};function Vv(l,d){var a=l.b,o=l.c;d.Fa(o,a)(l.g,l.f,l.T(),l.i).then(function(f){d.na(o,f,null,a)}).o(function(f){d.na(o,null,f,a)})}function So(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(l){this.jb=l},enumerable:!1})}function Na(l,d){this.a=d,Ge(this,"verificationId",l)}Na.prototype.confirm=function(l){return l=Wn(this.verificationId,l),this.a(l)};function yc(l,d,a,o){return new Dt(l).gb(d,a).then(function(f){return new Na(f,o)})}function _S(l){var d=D0(l);if(!(d&&d.exp&&d.auth_time&&d.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");jn(this,{token:l,expirationTime:ec(1e3*d.exp),authTime:ec(1e3*d.auth_time),issuedAtTime:ec(1e3*d.iat),signInProvider:d.firebase&&d.firebase.sign_in_provider?d.firebase.sign_in_provider:null,signInSecondFactor:d.firebase&&d.firebase.sign_in_second_factor?d.firebase.sign_in_second_factor:null,claims:d})}function kp(l,d,a){var o=d&&d[qv];if(!o)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=l,this.f=Hn(d),this.g=a,this.c=new Ts(null,o),this.b=[];var f=this;W(d[Hv]||[],function(m){(m=ih(m))&&f.b.push(m)}),Ge(this,"auth",this.a),Ge(this,"session",this.c),Ge(this,"hints",this.b)}var Hv="mfaInfo",qv="mfaPendingCredential";kp.prototype.Rc=function(l){var d=this;return l.tb(this.a.a,this.c).then(function(a){var o=Hn(d.f);return delete o[Hv],delete o[qv],Mt(o,a),d.g(o)})};function Np(l,d,a,o){C.call(this,"multi-factor-auth-required",o,d),this.b=new kp(l,d,a),Ge(this,"resolver",this.b)}I(Np,C);function Fb(l,d,a){if(l&&T(l.serverResponse)&&l.code==="auth/multi-factor-auth-required")try{return new Np(d,l.serverResponse,a,l.message)}catch{}return null}function Cp(){}Cp.prototype.tb=function(l,d,a){return d.type==Eu?Mb(this,l,d,a):Lb(this,l,d)};function Mb(l,d,a,o){return a.Ha().then(function(f){return f={idToken:f},typeof o<"u"&&(f.displayName=o),Mt(f,{phoneVerificationInfo:ft(l.a)}),Ct(d,fv,f)})}function Lb(l,d,a){return a.Ha().then(function(o){return o={mfaPendingCredential:o},Mt(o,{phoneVerificationInfo:ft(l.a)}),Ct(d,hv,o)})}function Gv(l){Ge(this,"factorId",l.fa),this.a=l}I(Gv,Cp);function Rp(l){if(Gv.call(this,l),this.a.fa!=Dt.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}I(Rp,Gv);function bl(l,d){Vr.call(this,l);for(var a in d)this[a]=d[a]}I(bl,Vr);function Wv(l,d){this.a=l,this.b=[],this.c=A(this.yc,this),ma(this.a,"userReloaded",this.c);var a=[];d&&d.multiFactor&&d.multiFactor.enrolledFactors&&W(d.multiFactor.enrolledFactors,function(o){var f=null,m={};if(o){o.uid&&(m[ln]=o.uid),o.displayName&&(m[Pg]=o.displayName),o.enrollmentTime&&(m[ur]=new Date(o.enrollmentTime).toISOString()),o.phoneNumber&&(m[Nt]=o.phoneNumber);try{f=new xa(m)}catch{}o=f}else o=null;o&&a.push(o)}),wl(this,a)}function ES(l){var d=[];return W(l.mfaInfo||[],function(a){(a=ih(a))&&d.push(a)}),d}e=Wv.prototype,e.yc=function(l){wl(this,ES(l.hd))};function wl(l,d){l.b=d,Ge(l,"enrolledFactors",d)}e.Sb=function(){return this.a.I().then(function(l){return new Ts(l,null)})},e.fc=function(l,d){var a=this,o=this.a.a;return this.Sb().then(function(f){return l.tb(o,f,d)}).then(function(f){return Is(a.a,f),a.a.reload()})},e.bd=function(l){var d=this,a=typeof l=="string"?l:l.uid,o=this.a.a;return this.a.I().then(function(f){return Ct(o,bb,{idToken:f,mfaEnrollmentId:a})}).then(function(f){var m=we(d.b,function(v){return v.uid!=a});return wl(d,m),Is(d.a,f),d.a.reload().o(function(v){if(v.code!="auth/user-token-expired")throw v})})},e.w=function(){return{multiFactor:{enrolledFactors:Ne(this.b,function(l){return l.w()})}}};function Xv(l,d,a){if(this.h=l,this.i=d,this.g=a,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Xv.prototype.start=function(){this.a=this.c,wt(this,!0)};function jb(l,d){return d?(l.a=l.c,l.g()):(d=l.a,l.a*=2,l.a>l.f&&(l.a=l.f),d)}function wt(l,d){l.stop(),l.b=fu(jb(l,d)).then(function(){return V1()}).then(function(){return l.h()}).then(function(){wt(l,!0)}).o(function(a){l.i(a)&&wt(l,!1)})}Xv.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Gh(l){this.f=l,this.b=this.a=null,this.c=Date.now()}Gh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Wh(l,d){typeof d>"u"&&(l.b?(d=l.b,d=d.a-d.g):d=0),l.c=Date.now()+1e3*d}function Dp(l,d){l.b=co(d[wa]||""),l.a=d.refreshToken,d=d.expiresIn,Wh(l,typeof d<"u"?Number(d):void 0)}function Pb(l,d){l.b=d.b,l.a=d.a,l.c=d.c}function Kv(l,d){return ab(l.f,d).then(function(a){return l.b=co(a.access_token),l.a=a.refresh_token,Wh(l,a.expires_in),{accessToken:l.b.toString(),refreshToken:l.a}}).o(function(a){throw a.code=="auth/user-token-expired"&&(l.a=null),a})}Gh.prototype.getToken=function(l){return l=!!l,this.b&&!this.a?vn(new C("user-token-expired")):l||!this.b||Date.now()>this.c-3e4?this.a?Kv(this,{grant_type:"refresh_token",refresh_token:this.a}):Qe(null):Qe({accessToken:this.b.toString(),refreshToken:this.a})};function _l(l,d){this.a=l||null,this.b=d||null,jn(this,{lastSignInTime:ec(d||null),creationTime:ec(l||null)})}function Ip(l){return new _l(l.a,l.b)}_l.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function SS(l,d,a,o,f,m){jn(this,{uid:l,displayName:o||null,photoURL:f||null,email:a||null,phoneNumber:m||null,providerId:d})}function Ci(l,d,a){this.N=[],this.l=l.apiKey,this.m=l.appName,this.s=l.authDomain||null;var o=Ze.SDK_VERSION?Jo(Ze.SDK_VERSION):null;this.a=new ns(this.l,Z(xe),o),(this.u=l.emulatorConfig||null)&&cl(this.a,this.u),this.h=new Gh(this.a),Qv(this,d[wa]),Dp(this.h,d),Ge(this,"refreshToken",this.h.a),Zv(this,a||{}),Jr.call(this),this.P=!1,this.s&&ea()&&(this.b=Vh(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=Or(this),this.ba=A(this.ib,this);var f=this;this.za=null,this.Pa=function(m){f.xa(m.h)},this.qa=null,this.Ba=function(m){Yv(f,m.c)},this.$=null,this.aa=[],this.Oa=function(m){Uu(f,m.f)},this.ja=null,this.S=new Wv(this,a),Ge(this,"multiFactor",this.S)}I(Ci,Jr),Ci.prototype.xa=function(l){this.za=l,iv(this.a,l)};function Yv(l,d){l.u=d,cl(l.a,d),l.b&&(d=l.b,l.b=Vh(l.s,l.l,l.m,l.u),l.P&&(_p(d,l),Uh(l.b,l)))}Ci.prototype.la=function(){return this.za};function $v(l,d){l.qa&&Qi(l.qa,"languageCodeChanged",l.Pa),(l.qa=d)&&ma(d,"languageCodeChanged",l.Pa)}function Op(l,d){l.$&&Qi(l.$,"emulatorConfigChanged",l.Ba),(l.$=d)&&ma(d,"emulatorConfigChanged",l.Ba)}function Uu(l,d){l.aa=d,Y0(l.a,Ze.SDK_VERSION?Jo(Ze.SDK_VERSION,l.aa):null)}Ci.prototype.Ga=function(){return At(this.aa)};function Xt(l,d){l.ja&&Qi(l.ja,"frameworkChanged",l.Oa),(l.ja=d)&&ma(d,"frameworkChanged",l.Oa)}Ci.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Xh(l){try{return Ze.app(l.m).auth()}catch{throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+l.m+"'!")}}function Or(l){return new Xv(function(){return l.I(!0)},function(d){return!!(d&&d.code=="auth/network-request-failed")},function(){var d=l.h.c-Date.now()-3e5;return 0<d?d:0})}function Bb(l){l.J||l.D.b||(l.D.start(),Qi(l,"tokenChanged",l.ba),ma(l,"tokenChanged",l.ba))}function Fp(l){Qi(l,"tokenChanged",l.ba),l.D.stop()}function Qv(l,d){l.Aa=d,Ge(l,"_lat",d)}function Jv(l,d){St(l.W,function(a){return a==d})}function To(l){for(var d=[],a=0;a<l.W.length;a++)d.push(l.W[a](l));return $l(d).then(function(){return l})}function El(l){l.b&&!l.P&&(l.P=!0,Uh(l.b,l))}function Zv(l,d){jn(l,{uid:d.uid,displayName:d.displayName||null,photoURL:d.photoURL||null,email:d.email||null,emailVerified:d.emailVerified||!1,phoneNumber:d.phoneNumber||null,isAnonymous:d.isAnonymous||!1,tenantId:d.tenantId||null,metadata:new _l(d.createdAt,d.lastLoginAt),providerData:[]}),l.a.b=l.tenantId}Ge(Ci.prototype,"providerId","firebase");function ex(){}function Kh(l){return Qe().then(function(){if(l.J)throw new C("app-deleted")})}function Yh(l){return Ne(l.providerData,function(d){return d.providerId})}function tx(l,d){d&&(nx(l,d.providerId),l.providerData.push(d))}function nx(l,d){St(l.providerData,function(a){return a.providerId==d})}function Sl(l,d,a){(d!="uid"||a)&&l.hasOwnProperty(d)&&Ge(l,d,a)}function $h(l,d){l!=d&&(jn(l,{uid:d.uid,displayName:d.displayName,photoURL:d.photoURL,email:d.email,emailVerified:d.emailVerified,phoneNumber:d.phoneNumber,isAnonymous:d.isAnonymous,tenantId:d.tenantId,providerData:[]}),d.metadata?Ge(l,"metadata",Ip(d.metadata)):Ge(l,"metadata",new _l),W(d.providerData,function(a){tx(l,a)}),Pb(l.h,d.h),Ge(l,"refreshToken",l.h.a),wl(l.S,d.S.b))}e=Ci.prototype,e.reload=function(){var l=this;return Xn(this,Kh(this).then(function(){return rx(l).then(function(){return To(l)}).then(ex)}))};function rx(l){return l.I().then(function(d){var a=l.isAnonymous;return Tl(l,d).then(function(){return a||Sl(l,"isAnonymous",!1),d})})}e.oc=function(l){return this.I(l).then(function(d){return new _S(d)})},e.I=function(l){var d=this;return Xn(this,Kh(this).then(function(){return d.h.getToken(l)}).then(function(a){if(!a)throw new C("internal-error");return a.accessToken!=d.Aa&&(Qv(d,a.accessToken),d.dispatchEvent(new bl("tokenChanged"))),Sl(d,"refreshToken",a.refreshToken),a.accessToken}))};function Is(l,d){d[wa]&&l.Aa!=d[wa]&&(Dp(l.h,d),l.dispatchEvent(new bl("tokenChanged")),Qv(l,d[wa]),Sl(l,"refreshToken",l.h.a))}function Tl(l,d){return Ct(l.a,db,{idToken:d}).then(A(l.Kc,l))}e.Kc=function(l){if(l=l.users,!l||!l.length)throw new C("internal-error");l=l[0],Zv(this,{uid:l.localId,displayName:l.displayName,photoURL:l.photoUrl,email:l.email,emailVerified:!!l.emailVerified,phoneNumber:l.phoneNumber,lastLoginAt:l.lastLoginAt,createdAt:l.createdAt,tenantId:l.tenantId});for(var d=Ub(l),a=0;a<d.length;a++)tx(this,d[a]);Sl(this,"isAnonymous",!(this.email&&l.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new bl("userReloaded",{hd:l}))};function Ub(l){return(l=l.providerUserInfo)&&l.length?Ne(l,function(d){return new SS(d.rawId,d.providerId,d.email,d.displayName,d.photoUrl,d.phoneNumber)}):[]}e.Lc=function(l){return mu("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(l)},e.ub=function(l){var d=this,a=null;return Xn(this,l.c(this.a,this.uid).then(function(o){return Is(d,o),a=bc(d,o,"reauthenticate"),d.i=null,d.reload()}).then(function(){return a}),!0)};function Qh(l,d){return rx(l).then(function(){if(rt(Yh(l),d))return To(l).then(function(){throw new C("provider-already-linked")})})}e.Cc=function(l){return mu("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(l)},e.rb=function(l){var d=this,a=null;return Xn(this,Qh(this,l.providerId).then(function(){return d.I()}).then(function(o){return l.b(d.a,o)}).then(function(o){return a=bc(d,o,"link"),zb(d,o)}).then(function(){return a}))},e.Dc=function(l,d){var a=this;return Xn(this,Qh(this,"phone").then(function(){return yc(Xh(a),l,d,A(a.rb,a))}))},e.Mc=function(l,d){var a=this;return Xn(this,Qe().then(function(){return yc(Xh(a),l,d,A(a.ub,a))}),!0)};function bc(l,d,a){var o=Su(d);return d=tl(d),cr({user:l,credential:o,additionalUserInfo:d,operationType:a})}function zb(l,d){return Is(l,d),l.reload().then(function(){return l})}e.Cb=function(l){var d=this;return Xn(this,this.I().then(function(a){return d.a.Cb(a,l)}).then(function(a){return Is(d,a),d.reload()}))},e.ed=function(l){var d=this;return Xn(this,this.I().then(function(a){return l.b(d.a,a)}).then(function(a){return Is(d,a),d.reload()}))},e.Db=function(l){var d=this;return Xn(this,this.I().then(function(a){return d.a.Db(a,l)}).then(function(a){return Is(d,a),d.reload()}))},e.Eb=function(l){if(l.displayName===void 0&&l.photoURL===void 0)return Kh(this);var d=this;return Xn(this,this.I().then(function(a){return d.a.Eb(a,{displayName:l.displayName,photoUrl:l.photoURL})}).then(function(a){return Is(d,a),Sl(d,"displayName",a.displayName||null),Sl(d,"photoURL",a.photoUrl||null),W(d.providerData,function(o){o.providerId==="password"&&(Ge(o,"displayName",d.displayName),Ge(o,"photoURL",d.photoURL))}),To(d)}).then(ex))},e.cd=function(l){var d=this;return Xn(this,rx(this).then(function(a){return rt(Yh(d),l)?Dr(d.a,a,[l]).then(function(o){var f={};return W(o.providerUserInfo||[],function(m){f[m.providerId]=!0}),W(Yh(d),function(m){f[m]||nx(d,m)}),f[Dt.PROVIDER_ID]||Ge(d,"phoneNumber",null),To(d)}):To(d).then(function(){throw new C("no-such-provider")})}))},e.delete=function(){var l=this;return Xn(this,this.I().then(function(d){return Ct(l.a,ub,{idToken:d})}).then(function(){l.dispatchEvent(new bl("userDeleted"))})).then(function(){for(var d=0;d<l.N.length;d++)l.N[d].cancel("app-deleted");$v(l,null),Op(l,null),Xt(l,null),l.N=[],l.J=!0,Fp(l),Ge(l,"refreshToken",null),l.b&&_p(l.b,l)})},e.Gb=function(l,d){return!!(l=="linkViaPopup"&&(this.g||null)==d&&this.f||l=="reauthViaPopup"&&(this.g||null)==d&&this.f||l=="linkViaRedirect"&&(this.ga||null)==d||l=="reauthViaRedirect"&&(this.ga||null)==d)},e.na=function(l,d,a,o){l!="linkViaPopup"&&l!="reauthViaPopup"||o!=(this.g||null)||(a&&this.C?this.C(a):d&&!a&&this.f&&this.f(d),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(l,d){return l=="linkViaPopup"&&d==(this.g||null)?A(this.Lb,this):l=="reauthViaPopup"&&d==(this.g||null)?A(this.Mb,this):l=="linkViaRedirect"&&(this.ga||null)==d?A(this.Lb,this):l=="reauthViaRedirect"&&(this.ga||null)==d?A(this.Mb,this):null},e.Ec=function(l){var d=this;return Vb(this,"linkViaPopup",l,function(){return Qh(d,l.providerId).then(function(){return To(d)})},!1)},e.Nc=function(l){return Vb(this,"reauthViaPopup",l,function(){return Qe()},!0)};function Vb(l,d,a,o,f){if(!ea())return vn(new C("operation-not-supported-in-this-environment"));if(l.i&&!f)return vn(l.i);var m=O0(a.providerId),v=ei(l.uid+":::"),w=null;(!_s()||Og())&&l.s&&a.isOAuthProvider&&(w=yr(l.s,l.l,l.m,d,a,null,v,Ze.SDK_VERSION||null,null,null,l.tenantId,l.u));var N=_0(w,m&&m.va,m&&m.ua);return o=o().then(function(){if(Mp(l),!f)return l.I().then(function(){})}).then(function(){return Pv(l.b,N,d,a,v,!!w,l.tenantId)}).then(function(){return new kt(function(D,X){l.na(d,null,new C("cancelled-popup-request"),l.g||null),l.f=D,l.C=X,l.g=v,l.c=Bv(l.b,l,d,N,v)})}).then(function(D){return N&&ga(N),D?cr(D):null}).o(function(D){throw N&&ga(N),D}),Xn(l,o,f)}e.Fc=function(l){var d=this;return ix(this,"linkViaRedirect",l,function(){return Qh(d,l.providerId)},!1)},e.Oc=function(l){return ix(this,"reauthViaRedirect",l,function(){return Qe()},!0)};function ix(l,d,a,o,f){if(!ea())return vn(new C("operation-not-supported-in-this-environment"));if(l.i&&!f)return vn(l.i);var m=null,v=ei(l.uid+":::");return o=o().then(function(){if(Mp(l),!f)return l.I().then(function(){})}).then(function(){return l.ga=v,To(l)}).then(function(w){return l.ha&&(w=l.ha,w=w.b.set(Lp,l.w(),w.a)),w}).then(function(){return zh(l.b,d,a,v,l.tenantId)}).o(function(w){if(m=w,l.ha)return zu(l.ha);throw m}).then(function(){if(m)throw m}),Xn(l,o,f)}function Mp(l){if(!l.b||!l.P)throw l.b&&!l.P?new C("internal-error"):new C("auth-domain-config-required")}e.Lb=function(l,d,a,o){var f=this;this.c&&(this.c.cancel(),this.c=null);var m=null;return a=this.I().then(function(v){return mc(f.a,{requestUri:l,postBody:o,sessionId:d,idToken:v})}).then(function(v){return m=bc(f,v,"link"),zb(f,v)}).then(function(){return m}),Xn(this,a)},e.Mb=function(l,d,a,o){var f=this;this.c&&(this.c.cancel(),this.c=null);var m=null,v=Qe().then(function(){return rl(np(f.a,{requestUri:l,sessionId:d,postBody:o,tenantId:a}),f.uid)}).then(function(w){return m=bc(f,w,"reauthenticate"),Is(f,w),f.i=null,f.reload()}).then(function(){return m});return Xn(this,v,!0)},e.vb=function(l){var d=this,a=null;return Xn(this,this.I().then(function(o){return a=o,typeof l>"u"||Jt(l)?{}:ch(new N0(l))}).then(function(o){return d.a.vb(a,o)}).then(function(o){if(d.email!=o)return d.reload()}).then(function(){}))},e.Fb=function(l,d){var a=this,o=null;return Xn(this,this.I().then(function(f){return o=f,typeof d>"u"||Jt(d)?{}:ch(new N0(d))}).then(function(f){return a.a.Fb(o,l,f)}).then(function(f){if(a.email!=f)return a.reload()}).then(function(){}))};function Xn(l,d,a){var o=TS(l,d,a);return l.N.push(o),o.oa(function(){Q(l.N,o)}),o.o(function(f){var m=null;throw f&&f.code==="auth/multi-factor-auth-required"&&(m=Fb(f.w(),Xh(l),A(l.jc,l))),m||f})}e.jc=function(l){var d=null,a=this;return l=rl(Qe(l),a.uid).then(function(o){return d=bc(a,o,"reauthenticate"),Is(a,o),a.i=null,a.reload()}).then(function(){return d}),Xn(this,l,!0)};function TS(l,d,a){return l.i&&!a?(d.cancel(),vn(l.i)):d.o(function(o){throw!o||o.code!="auth/user-disabled"&&o.code!="auth/user-token-expired"||(l.i||l.dispatchEvent(new bl("userInvalidated")),l.i=o),o})}e.toJSON=function(){return this.w()},e.w=function(){var l={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Mt(l,this.metadata.w()),W(this.providerData,function(d){l.providerData.push(Es(d))}),Mt(l,this.S.w()),l};function na(l){if(!l.apiKey)return null;var d={apiKey:l.apiKey,authDomain:l.authDomain,appName:l.appName,emulatorConfig:l.emulatorConfig},a={};if(l.stsTokenManager&&l.stsTokenManager.accessToken){a[wa]=l.stsTokenManager.accessToken,a.refreshToken=l.stsTokenManager.refreshToken||null;var o=l.stsTokenManager.expirationTime;o&&(a.expiresIn=(o-Date.now())/1e3)}else return null;var f=new Ci(d,a,l);return l.providerData&&W(l.providerData,function(m){m&&tx(f,cr(m))}),l.redirectEventId&&(f.ga=l.redirectEventId),f}function ax(l,d,a,o){var f=new Ci(l,d);return a&&(f.ha=a),o&&Uu(f,o),f.reload().then(function(){return f})}function Hb(l,d,a,o){var f=l.h,m={};return m[wa]=f.b&&f.b.toString(),m.refreshToken=f.a,d=new Ci(d||{apiKey:l.l,authDomain:l.s,appName:l.m},m),a&&(d.ha=a),o&&Uu(d,o),$h(d,l),d}function qb(l){this.a=l,this.b=Ir()}var Lp={name:"redirectUser",F:"session"};function zu(l){return vl(l.b,Lp,l.a)}function Ca(l,d){return l.b.get(Lp,l.a).then(function(a){return a&&d&&(a.authDomain=d),na(a||{})})}function jp(l){this.a=l,this.b=Ir(),this.c=null,this.f=Ao(this),this.b.addListener(Os("local"),this.a,A(this.g,this))}jp.prototype.g=function(){var l=this,d=Os("local");qu(this,function(){return Qe().then(function(){return l.c&&l.c.F!="local"?l.b.get(d,l.a):null}).then(function(a){if(a)return Vu(l,"local").then(function(){l.c=d})})})};function Vu(l,d){var a=[],o;for(o in cn)cn[o]!==d&&a.push(vl(l.b,Os(cn[o]),l.a));return a.push(vl(l.b,sx,l.a)),su(a)}function Ao(l){var d=Os("local"),a=Os("session"),o=Os("none");return Ni(l.b,d,l.a).then(function(){return l.b.get(a,l.a)}).then(function(f){return f?a:l.b.get(o,l.a).then(function(m){return m?o:l.b.get(d,l.a).then(function(v){return v?d:l.b.get(sx,l.a).then(function(w){return w?Os(w):d})})})}).then(function(f){return l.c=f,Vu(l,f.F)}).o(function(){l.c||(l.c=d)})}var sx={name:"persistence",F:"session"};function Os(l){return{name:"authUser",F:l}}jp.prototype.yb=function(l){var d=null,a=this;return ml(l),qu(this,function(){return l!=a.c.F?a.b.get(a.c,a.a).then(function(o){return d=o,Vu(a,l)}).then(function(){if(a.c=Os(l),d)return a.b.set(a.c,d,a.a)}):Qe()})};function Hu(l){return qu(l,function(){return l.b.set(sx,l.c.F,l.a)})}function ox(l,d){return qu(l,function(){return l.b.set(l.c,d.w(),l.a)})}function Gb(l){return qu(l,function(){return vl(l.b,l.c,l.a)})}function Wb(l,d,a){return qu(l,function(){return l.b.get(l.c,l.a).then(function(o){return o&&d&&(o.authDomain=d),o&&a&&(o.emulatorConfig=a),na(o||{})})})}function qu(l,d){return l.f=l.f.then(d,d),l.f}function is(l){if(this.l=!1,Ge(this,"settings",new So),Ge(this,"app",l),zt(this).options&&zt(this).options.apiKey)l=Ze.SDK_VERSION?Jo(Ze.SDK_VERSION):null,this.a=new ns(zt(this).options&&zt(this).options.apiKey,Z(xe),l);else throw new C("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Ze.INTERNAL.createSubscribe(A(this.zc,this)),this.W=void 0,this.ib=Ze.INTERNAL.createSubscribe(A(this.Ac,this)),Fs(this,null),this.i=new jp(zt(this).options.apiKey+":"+zt(this).name),this.D=new qb(zt(this).options.apiKey+":"+zt(this).name),this.$=Pn(this,Pp(this)),this.h=Pn(this,lx(this)),this.ba=!1,this.ja=A(this.Zc,this),this.Ba=A(this.da,this),this.qa=A(this.mc,this),this.za=A(this.wc,this),this.Aa=A(this.xc,this),this.b=null,Qb(this),this.INTERNAL={},this.INTERNAL.delete=A(this.delete,this),this.INTERNAL.logFramework=A(this.Gc,this),this.u=0,Jr.call(this),Gu(this),this.J=[],this.R=null}I(is,Jr);function Xb(l){Vr.call(this,"languageCodeChanged"),this.h=l}I(Xb,Vr);function Kb(l){Vr.call(this,"emulatorConfigChanged"),this.c=l}I(Kb,Vr);function Yb(l){Vr.call(this,"frameworkChanged"),this.f=l}I(Yb,Vr),e=is.prototype,e.yb=function(l){return l=this.i.yb(l),Pn(this,l)},e.xa=function(l){this.aa===l||this.l||(this.aa=l,iv(this.a,this.aa),this.dispatchEvent(new Xb(this.la())))},e.la=function(){return this.aa},e.fd=function(){var l=h.navigator;this.xa(l&&(l.languages&&l.languages[0]||l.language||l.userLanguage)||null)},e.gd=function(l,d){if(!this.R){if(!/^https?:\/\//.test(l))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");d=d?!!d.disableWarnings:!1,$b(d),this.R={url:l,ec:d},this.settings.jb=!0,cl(this.a,this.R),this.dispatchEvent(new Kb(this.R))}};function $b(l){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),h.document&&!l&&$f().then(function(){var d=h.document.createElement("div");d.innerText="Running in emulator mode. Do not use with production credentials.",d.style.position="fixed",d.style.width="100%",d.style.backgroundColor="#ffffff",d.style.border=".1em solid #000000",d.style.color="#b50000",d.style.bottom="0px",d.style.left="0px",d.style.margin="0px",d.style.zIndex=1e4,d.style.textAlign="center",d.classList.add("firebase-emulator-warning"),h.document.body.appendChild(d)})}e.Gc=function(l){this.J.push(l),Y0(this.a,Ze.SDK_VERSION?Jo(Ze.SDK_VERSION,this.J):null),this.dispatchEvent(new Yb(this.J))},e.Ga=function(){return At(this.J)},e.zb=function(l){this.S===l||this.l||(this.S=l,this.a.b=this.S)},e.T=function(){return this.S};function Gu(l){Object.defineProperty(l,"lc",{get:function(){return this.la()},set:function(d){this.xa(d)},enumerable:!1}),l.aa=null,Object.defineProperty(l,"ti",{get:function(){return this.T()},set:function(d){this.zb(d)},enumerable:!1}),l.S=null,Object.defineProperty(l,"emulatorConfig",{get:function(){if(this.R){var d=Zr(this.R.url);d=cr({protocol:d.c,host:d.a,port:d.g,options:cr({disableWarnings:this.R.ec})})}else d=null;return d},enumerable:!1})}e.toJSON=function(){return{apiKey:zt(this).options.apiKey,authDomain:zt(this).options.authDomain,appName:zt(this).name,currentUser:xt(this)&&xt(this).w()}};function wc(l){return l.Oa||vn(new C("auth-domain-config-required"))}function Qb(l){var d=zt(l).options.authDomain,a=zt(l).options.apiKey;d&&ea()&&(l.Oa=l.$.then(function(){if(!l.l){if(l.b=Vh(d,a,zt(l).name,l.R),Uh(l.b,l),xt(l)&&El(xt(l)),l.m){El(l.m);var o=l.m;o.xa(l.la()),$v(o,l),o=l.m,Uu(o,l.J),Xt(o,l),o=l.m,Yv(o,l.R),Op(o,l),l.m=null}return l.b}}))}e.Gb=function(l,d){switch(l){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==d&&!!this.f;default:return!1}},e.na=function(l,d,a,o){l=="signInViaPopup"&&this.g==o&&(a&&this.C?this.C(a):d&&!a&&this.f&&this.f(d),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(l,d){return l=="signInViaRedirect"||l=="signInViaPopup"&&this.g==d&&this.f?A(this.ic,this):null},e.ic=function(l,d,a,o){var f=this,m={requestUri:l,postBody:o,sessionId:d,tenantId:a};return this.c&&(this.c.cancel(),this.c=null),f.$.then(function(){return ko(f,tp(f.a,m))})},e.Xc=function(l){if(!ea())return vn(new C("operation-not-supported-in-this-environment"));var d=this,a=O0(l.providerId),o=ei(),f=null;(!_s()||Og())&&zt(this).options.authDomain&&l.isOAuthProvider&&(f=yr(zt(this).options.authDomain,zt(this).options.apiKey,zt(this).name,"signInViaPopup",l,null,o,Ze.SDK_VERSION||null,null,null,this.T(),this.R));var m=_0(f,a&&a.va,a&&a.ua);return a=wc(this).then(function(v){return Pv(v,m,"signInViaPopup",l,o,!!f,d.T())}).then(function(){return new kt(function(v,w){d.na("signInViaPopup",null,new C("cancelled-popup-request"),d.g),d.f=v,d.C=w,d.g=o,d.c=Bv(d.b,d,"signInViaPopup",m,o)})}).then(function(v){return m&&ga(m),v?cr(v):null}).o(function(v){throw m&&ga(m),v}),Pn(this,a)},e.Yc=function(l){if(!ea())return vn(new C("operation-not-supported-in-this-environment"));var d=this,a=wc(this).then(function(){return Hu(d.i)}).then(function(){return zh(d.b,"signInViaRedirect",l,void 0,d.T())});return Pn(this,a)};function Jb(l){if(!ea())return vn(new C("operation-not-supported-in-this-environment"));var d=wc(l).then(function(){return l.b.ra()}).then(function(a){return a?cr(a):null});return Pn(l,d)}e.ra=function(){var l=this;return Jb(this).then(function(d){return l.b&&Ap(l.b.b),d}).o(function(d){throw l.b&&Ap(l.b.b),d})},e.dd=function(l){if(!l)return vn(new C("null-user"));if(this.S!=l.tenantId)return vn(new C("tenant-id-mismatch"));var d=this,a={};a.apiKey=zt(this).options.apiKey,a.authDomain=zt(this).options.authDomain,a.appName=zt(this).name;var o=Hb(l,a,d.D,d.Ga());return Pn(this,this.h.then(function(){if(zt(d).options.apiKey!=l.l)return o.reload()}).then(function(){return xt(d)&&l.uid==xt(d).uid?($h(xt(d),l),d.da(l)):(Fs(d,o),El(o),d.da(o))}).then(function(){Zh(d)}))};function Wu(l,d){var a={};return a.apiKey=zt(l).options.apiKey,a.authDomain=zt(l).options.authDomain,a.appName=zt(l).name,l.R&&(a.emulatorConfig=l.R),l.$.then(function(){return ax(a,d,l.D,l.Ga())}).then(function(o){return xt(l)&&o.uid==xt(l).uid?($h(xt(l),o),l.da(o)):(Fs(l,o),El(o),l.da(o))}).then(function(){Zh(l)})}function Fs(l,d){xt(l)&&(Jv(xt(l),l.Ba),Qi(xt(l),"tokenChanged",l.qa),Qi(xt(l),"userDeleted",l.za),Qi(xt(l),"userInvalidated",l.Aa),Fp(xt(l))),d&&(d.W.push(l.Ba),ma(d,"tokenChanged",l.qa),ma(d,"userDeleted",l.za),ma(d,"userInvalidated",l.Aa),0<l.u&&Bb(d)),Ge(l,"currentUser",d),d&&(d.xa(l.la()),$v(d,l),Uu(d,l.J),Xt(d,l),Yv(d,l.R),Op(d,l))}e.Bb=function(){var l=this,d=this.h.then(function(){return l.b&&Ap(l.b.b),xt(l)?(Fs(l,null),Gb(l.i).then(function(){Zh(l)})):Qe()});return Pn(this,d)};function Zb(l){var d=Ca(l.D,zt(l).options.authDomain).then(function(a){return(l.m=a)&&(a.ha=l.D),zu(l.D)});return Pn(l,d)}function Pp(l){var d=zt(l).options.authDomain,a=Zb(l).then(function(){return Wb(l.i,d,l.R)}).then(function(o){return o?(o.ha=l.D,l.m&&(l.m.ga||null)==(o.ga||null)?o:o.reload().then(function(){return ox(l.i,o).then(function(){return o})}).o(function(f){return f.code=="auth/network-request-failed"?o:Gb(l.i)})):null}).then(function(o){Fs(l,o||null)});return Pn(l,a)}function lx(l){return l.$.then(function(){return Jb(l)}).o(function(){}).then(function(){if(!l.l)return l.ja()}).o(function(){}).then(function(){if(!l.l){l.ba=!0;var d=l.i;d.b.addListener(Os("local"),d.a,l.ja)}})}e.Zc=function(){var l=this;return Wb(this.i,zt(this).options.authDomain).then(function(d){if(!l.l){var a;if(a=xt(l)&&d){a=xt(l).uid;var o=d.uid;a=a==null||a===""||o===void 0||o===null||o===""?!1:a==o}if(a)return $h(xt(l),d),xt(l).I();(xt(l)||d)&&(Fs(l,d),d&&(El(d),d.ha=l.D),l.b&&Uh(l.b,l),Zh(l))}})},e.da=function(l){return ox(this.i,l)},e.mc=function(){Zh(this),this.da(xt(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function ko(l,d){var a=null,o=null;return Pn(l,d.then(function(f){return a=Su(f),o=tl(f),Wu(l,f)},function(f){var m=null;throw f&&f.code==="auth/multi-factor-auth-required"&&(m=Fb(f.w(),l,A(l.kc,l))),m||f}).then(function(){return cr({user:xt(l),credential:a,additionalUserInfo:o,operationType:"signIn"})}))}e.kc=function(l){var d=this;return this.h.then(function(){return ko(d,Qe(l))})},e.zc=function(l){var d=this;this.addAuthTokenListener(function(){l.next(xt(d))})},e.Ac=function(l){var d=this;ew(this,function(){l.next(xt(d))})},e.Ic=function(l,d,a){var o=this;return this.ba&&Promise.resolve().then(function(){typeof l=="function"?l(xt(o)):typeof l.next=="function"&&l.next(xt(o))}),this.Pa(l,d,a)},e.Hc=function(l,d,a){var o=this;return this.ba&&Promise.resolve().then(function(){o.W=o.getUid(),typeof l=="function"?l(xt(o)):typeof l.next=="function"&&l.next(xt(o))}),this.ib(l,d,a)},e.nc=function(l){var d=this,a=this.h.then(function(){return xt(d)?xt(d).I(l).then(function(o){return{accessToken:o}}):null});return Pn(this,a)},e.Tc=function(l){var d=this;return this.h.then(function(){return ko(d,Ct(d.a,gS,{token:l}))}).then(function(a){var o=a.user;return Sl(o,"isAnonymous",!1),d.da(o),a})},e.Uc=function(l,d){var a=this;return this.h.then(function(){return ko(a,Ct(a.a,xb,{email:l,password:d}))})},e.dc=function(l,d){var a=this;return this.h.then(function(){return ko(a,Ct(a.a,rp,{email:l,password:d}))})},e.ab=function(l){var d=this;return this.h.then(function(){return ko(d,l.ka(d.a))})},e.Sc=function(l){return mu("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(l)},e.Ab=function(){var l=this;return this.h.then(function(){var d=xt(l);if(d&&d.isAnonymous){var a=cr({providerId:null,isNewUser:!1});return cr({user:d,credential:null,additionalUserInfo:a,operationType:"signIn"})}return ko(l,l.a.Ab()).then(function(o){var f=o.user;return Sl(f,"isAnonymous",!0),l.da(f),o})})};function zt(l){return l.app}function xt(l){return l.currentUser}e.getUid=function(){return xt(this)&&xt(this).uid||null};function Jh(l){return xt(l)&&xt(l)._lat||null}function Zh(l){if(l.ba){for(var d=0;d<l.s.length;d++)l.s[d]&&l.s[d](Jh(l));if(l.W!==l.getUid()&&l.N.length)for(l.W=l.getUid(),d=0;d<l.N.length;d++)l.N[d]&&l.N[d](Jh(l))}}e.cc=function(l){this.addAuthTokenListener(l),this.u++,0<this.u&&xt(this)&&Bb(xt(this))},e.Pc=function(l){var d=this;W(this.s,function(a){a==l&&d.u--}),0>this.u&&(this.u=0),this.u==0&&xt(this)&&Fp(xt(this)),this.removeAuthTokenListener(l)},e.addAuthTokenListener=function(l){var d=this;this.s.push(l),Pn(this,this.h.then(function(){d.l||rt(d.s,l)&&l(Jh(d))}))},e.removeAuthTokenListener=function(l){St(this.s,function(d){return d==l})};function ew(l,d){l.N.push(d),Pn(l,l.h.then(function(){!l.l&&rt(l.N,d)&&l.W!==l.getUid()&&(l.W=l.getUid(),d(Jh(l)))}))}e.delete=function(){this.l=!0;for(var l=0;l<this.P.length;l++)this.P[l].cancel("app-deleted");return this.P=[],this.i&&(l=this.i,l.b.removeListener(Os("local"),l.a,this.ja)),this.b&&(_p(this.b,this),Ap(this.b.b)),Promise.resolve()};function Pn(l,d){return l.P.push(d),d.oa(function(){Q(l.P,d)}),d}e.hc=function(l){return Pn(this,sb(this.a,l))},e.Bc=function(l){return!!Nn(l)},e.xb=function(l,d){var a=this;return Pn(this,Qe().then(function(){var o=new N0(d);if(!o.c)throw new C("argument-error",oh+" must be true when sending sign in link to email");return ch(o)}).then(function(o){return a.a.xb(l,o)}).then(function(){}))},e.jd=function(l){return this.Sa(l).then(function(d){return d.data.email})},e.ob=function(l,d){return Pn(this,this.a.ob(l,d).then(function(){}))},e.Sa=function(l){return Pn(this,this.a.Sa(l).then(function(d){return new ya(d)}))},e.kb=function(l){return Pn(this,this.a.kb(l).then(function(){}))},e.wb=function(l,d){var a=this;return Pn(this,Qe().then(function(){return typeof d>"u"||Jt(d)?{}:ch(new N0(d))}).then(function(o){return a.a.wb(l,o)}).then(function(){}))},e.Wc=function(l,d){return Pn(this,yc(this,l,d,A(this.ab,this)))},e.Vc=function(l,d){var a=this;return Pn(this,Qe().then(function(){var o=d||Ql(),f=Ai(l,o);if(o=Nn(o),!o)throw new C("argument-error","Invalid email link!");if(o.tenantId!==a.T())throw new C("tenant-id-mismatch");return a.ab(f)}))};function _c(){}_c.prototype.render=function(){},_c.prototype.reset=function(){},_c.prototype.getResponse=function(){},_c.prototype.execute=function(){};function Xu(){this.a={},this.b=1e12}var Ku=null;Xu.prototype.render=function(l,d){return this.a[this.b.toString()]=new Bp(l,d),this.b++},Xu.prototype.reset=function(l){var d=Yu(this,l);l=ed(l),d&&l&&(d.delete(),delete this.a[l])},Xu.prototype.getResponse=function(l){return(l=Yu(this,l))?l.getResponse():null},Xu.prototype.execute=function(l){(l=Yu(this,l))&&l.execute()};function Yu(l,d){return(d=ed(d))&&l.a[d]||null}function ed(l){return(l=typeof l>"u"?1e12:l)?l.toString():null}function Bp(l,d){this.g=!1,this.c=d,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=zr(l);var a=this;this.i=function(){a.execute()},this.h?this.execute():ma(this.f,"click",this.i)}Bp.prototype.getResponse=function(){return Ec(this),this.b},Bp.prototype.execute=function(){Ec(this);var l=this;this.a||(this.a=setTimeout(function(){l.b=Mg();var d=l.c.callback,a=l.c["expired-callback"];if(d)try{d(l.b)}catch{}l.a=setTimeout(function(){if(l.a=null,l.b=null,a)try{a()}catch{}l.h&&l.execute()},6e4)},500))},Bp.prototype.delete=function(){Ec(this),this.g=!0,clearTimeout(this.a),this.a=null,Qi(this.f,"click",this.i)};function Ec(l){if(l.g)throw Error("reCAPTCHA mock was already deleted!")}function cx(){}Ge(cx,"FACTOR_ID","phone");function Up(){}Up.prototype.g=function(){return Ku||(Ku=new Xu),Qe(Ku)},Up.prototype.c=function(){};var zp=null;function Vp(){this.b=h.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var tw=new Sn(ql,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ux=new wi(3e4,6e4);Vp.prototype.g=function(l){var d=this;return new kt(function(a,o){var f=setTimeout(function(){o(new C("network-request-failed"))},ux.get());if(!h.grecaptcha||l!==d.f&&!d.b){h[d.a]=function(){if(h.grecaptcha){d.f=l;var v=h.grecaptcha.render;h.grecaptcha.render=function(w,N){return w=v(w,N),d.b++,w},clearTimeout(f),a(h.grecaptcha)}else clearTimeout(f),o(new C("internal-error"));delete h[d.a]};var m=Ho(tw,{onload:d.a,hl:l||""});Qe(G0(m)).o(function(){clearTimeout(f),o(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(f),a(h.grecaptcha)})},Vp.prototype.c=function(){this.b--};var Hp=null;function qp(l,d,a,o,f,m,v){if(Ge(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=d,this.g=null,v?(zp||(zp=new Up),v=zp):(Hp||(Hp=new Vp),v=Hp),this.m=v,this.a=a||{theme:"light",type:"image"},this.h=[],this.a[rw])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[fx]==="invisible",!h.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!zr(d)||!this.i&&zr(d).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ns(l,m||null,f||null),this.u=o||function(){return null};var w=this;this.l=[];var N=this.a[td];this.a[td]=function(X){if(Gp(w,X),typeof N=="function")N(X);else if(typeof N=="string"){var ae=on(N,h);typeof ae=="function"&&ae(X)}};var D=this.a[nw];this.a[nw]=function(){if(Gp(w,null),typeof D=="function")D();else if(typeof D=="string"){var X=on(D,h);typeof X=="function"&&X()}}}var td="callback",nw="expired-callback",rw="sitekey",fx="size";function Gp(l,d){for(var a=0;a<l.l.length;a++)try{l.l[a](d)}catch{}}function Wp(l,d){St(l.l,function(a){return a==d})}function nd(l,d){return l.h.push(d),d.oa(function(){Q(l.h,d)}),d}e=qp.prototype,e.Ia=function(){var l=this;return this.f?this.f:this.f=nd(this,Qe().then(function(){if(Zf()&&!Xa())return $f();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return l.m.g(l.u())}).then(function(d){return l.g=d,Ct(l.s,mb,{})}).then(function(d){l.a[rw]=d.recaptchaSiteKey}).o(function(d){throw l.f=null,d}))},e.render=function(){rd(this);var l=this;return nd(this,this.Ia().then(function(){if(l.c===null){var d=l.v;if(!l.i){var a=zr(d);d=sg("DIV"),a.appendChild(d)}l.c=l.g.render(d,l.a)}return l.c}))},e.verify=function(){rd(this);var l=this;return nd(this,this.render().then(function(d){return new kt(function(a){var o=l.g.getResponse(d);if(o)a(o);else{var f=function(m){m&&(Wp(l,f),a(m))};l.l.push(f),l.i&&l.g.execute(l.c)}})}))},e.reset=function(){rd(this),this.c!==null&&this.g.reset(this.c)};function rd(l){if(l.J)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){rd(this),this.J=!0,this.m.c();for(var l=0;l<this.h.length;l++)this.h[l].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){l=zr(this.v);for(var d;d=l.firstChild;)l.removeChild(d)}};function id(l,d,a){var o=!1;try{this.b=a||Ze.app()}catch{throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)a=this.b.options.apiKey;else throw new C("invalid-api-key");var f=this,m=null;try{m=this.b.auth().Ga()}catch{}try{o=this.b.auth().settings.appVerificationDisabledForTesting}catch{}m=Ze.SDK_VERSION?Jo(Ze.SDK_VERSION,m):null,qp.call(this,a,l,d,function(){try{var v=f.b.auth().la()}catch{v=null}return v},m,Z(xe),o)}I(id,qp);function No(l,d,a,o){e:{a=Array.prototype.slice.call(a);for(var f=0,m=!1,v=0;v<d.length;v++)if(d[v].optional)m=!0;else{if(m)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");f++}if(m=d.length,a.length<f||m<a.length)o="Expected "+(f==m?f==1?"1 argument":f+" arguments":f+"-"+m+" arguments")+" but got "+a.length+".";else{for(f=0;f<a.length;f++)if(m=d[f].optional&&a[f]===void 0,!d[f].M(a[f])&&!m){if(d=d[f],0>f||f>=Co.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");a=Co[f],o=(o?"":a+" argument ")+(d.name?'"'+d.name+'" ':"")+"must be "+d.K+".";break e}o=null}}if(o)throw new C("argument-error",l+" failed: "+o)}var Co="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function We(l,d){return{name:l||"",K:"a valid string",optional:!!d,M:function(a){return typeof a=="string"}}}function Sc(l,d){return{name:l||"",K:"a boolean",optional:!!d,M:function(a){return typeof a=="boolean"}}}function An(l,d){return{name:l||"",K:"a valid object",optional:!!d,M:T}}function ra(l,d){return{name:l||"",K:"a function",optional:!!d,M:function(a){return typeof a=="function"}}}function Ms(l,d){return{name:l||"",K:"null",optional:!!d,M:function(a){return a===null}}}function iw(){return{name:"",K:"an HTML element",optional:!1,M:function(l){return!!(l&&l instanceof Element)}}}function ad(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(l){return!!(l&&l instanceof is)}}}function AS(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(l){return!!(l&&l instanceof Ze.app.App)}}}function Ro(l){return{name:l?l+"Credential":"credential",K:l?"a valid "+l+" credential":"a valid credential",optional:!1,M:function(d){if(!d)return!1;var a=!l||d.providerId===l;return!(!d.ka||!a)}}}function sd(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(l){return l?!!l.tb:!1}}}function Tc(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}}function hx(l,d){return T(l)&&typeof l.type=="string"&&l.type===d&&typeof l.Ha=="function"}function od(l){return T(l)&&typeof l.uid=="string"}function Ac(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(l){return!(!l||typeof l.type!="string"||typeof l.verify!="function")}}}function Bn(l,d,a,o){return{name:a||"",K:l.K+" or "+d.K,optional:!!o,M:function(f){return l.M(f)||d.M(f)}}}function rn(l,d){for(var a in d){var o=d[a].name;l[o]=ld(o,l[a],d[a].j)}}function dx(l,d){for(var a in d){var o=d[a].name;o!==a&&Object.defineProperty(l,o,{get:O(function(f){return this[f]},a),set:O(function(f,m,v,w){No(f,[v],[w],!0),this[m]=w},o,a,d[a].lb),enumerable:!0})}}function Rn(l,d,a,o){l[d]=ld(d,a,o)}function ld(l,d,a){function o(){var v=Array.prototype.slice.call(arguments);return No(f,a,v),d.apply(this,v)}if(!a)return d;var f=aw(l),m;for(m in d)o[m]=d[m];for(m in d.prototype)o.prototype[m]=d.prototype[m];return o}function aw(l){return l=l.split("."),l[l.length-1]}rn(is.prototype,{kb:{name:"applyActionCode",j:[We("code")]},Sa:{name:"checkActionCode",j:[We("code")]},ob:{name:"confirmPasswordReset",j:[We("code"),We("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[We("email"),We("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[We("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[We("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Bn(An(),ra(),"nextOrObserver"),ra("opt_error",!0),ra("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Bn(An(),ra(),"nextOrObserver"),ra("opt_error",!0),ra("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[We("email"),Bn(An("opt_actionCodeSettings",!0),Ms(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[We("email"),An("actionCodeSettings")]},yb:{name:"setPersistence",j:[We("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ro()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ro()]},Tc:{name:"signInWithCustomToken",j:[We("token")]},Uc:{name:"signInWithEmailAndPassword",j:[We("email"),We("password")]},Vc:{name:"signInWithEmailLink",j:[We("email"),We("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[We("phoneNumber"),Ac()]},Xc:{name:"signInWithPopup",j:[Tc()]},Yc:{name:"signInWithRedirect",j:[Tc()]},dd:{name:"updateCurrentUser",j:[Bn((function(l){return{name:"user",K:"an instance of Firebase User",optional:!1,M:function(d){return!!(d&&d instanceof Ci)}}})(),Ms(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[We(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[We("url"),An("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[We("code")]}}),dx(is.prototype,{lc:{name:"languageCode",lb:Bn(We(),Ms(),"languageCode")},ti:{name:"tenantId",lb:Bn(We(),Ms(),"tenantId")}}),is.Persistence=cn,is.Persistence.LOCAL="local",is.Persistence.SESSION="session",is.Persistence.NONE="none",rn(Ci.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Sc("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Sc("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ro()]},rb:{name:"linkWithCredential",j:[Ro()]},Dc:{name:"linkWithPhoneNumber",j:[We("phoneNumber"),Ac()]},Ec:{name:"linkWithPopup",j:[Tc()]},Fc:{name:"linkWithRedirect",j:[Tc()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ro()]},ub:{name:"reauthenticateWithCredential",j:[Ro()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[We("phoneNumber"),Ac()]},Nc:{name:"reauthenticateWithPopup",j:[Tc()]},Oc:{name:"reauthenticateWithRedirect",j:[Tc()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Bn(An("opt_actionCodeSettings",!0),Ms(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[We(null,!0)]},cd:{name:"unlink",j:[We("provider")]},Cb:{name:"updateEmail",j:[We("email")]},Db:{name:"updatePassword",j:[We("password")]},ed:{name:"updatePhoneNumber",j:[Ro("phone")]},Eb:{name:"updateProfile",j:[An("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[We("email"),Bn(An("opt_actionCodeSettings",!0),Ms(null,!0),"opt_actionCodeSettings",!0)]}}),rn(Xu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),rn(_c.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),rn(kt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),dx(So.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Sc("appVerificationDisabledForTesting")}}),rn(Na.prototype,{confirm:{name:"confirm",j:[We("verificationCode")]}}),Rn(nl,"fromJSON",function(l){l=typeof l=="string"?JSON.parse(l):l;for(var d,a=[gh,K1,po,ph],o=0;o<a.length;o++)if(d=a[o](l))return d;return null},[Bn(We(),An(),"json")]),Rn(fr,"credential",function(l,d){return new ks(l,d)},[We("email"),We("password")]),rn(ks.prototype,{w:{name:"toJSON",j:[We(null,!0)]}}),rn(ba.prototype,{Ca:{name:"addScope",j:[We("scope")]},Ka:{name:"setCustomParameters",j:[An("customOAuthParameters")]}}),Rn(ba,"credential",vh,[Bn(We(),An(),"token")]),Rn(fr,"credentialWithLink",Ai,[We("email"),We("emailLink")]),rn(il.prototype,{Ca:{name:"addScope",j:[We("scope")]},Ka:{name:"setCustomParameters",j:[An("customOAuthParameters")]}}),Rn(il,"credential",M0,[Bn(We(),An(),"token")]),rn(fo.prototype,{Ca:{name:"addScope",j:[We("scope")]},Ka:{name:"setCustomParameters",j:[An("customOAuthParameters")]}}),Rn(fo,"credential",Ti,[Bn(We(),Bn(An(),Ms()),"idToken"),Bn(We(),Ms(),"accessToken",!0)]),rn(Cr.prototype,{Ka:{name:"setCustomParameters",j:[An("customOAuthParameters")]}}),Rn(Cr,"credential",ho,[Bn(We(),An(),"token"),We("secret",!0)]),rn(Si.prototype,{Ca:{name:"addScope",j:[We("scope")]},credential:{name:"credential",j:[Bn(We(),Bn(An(),Ms()),"optionsOrIdToken"),Bn(We(),Ms(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[An("customOAuthParameters")]}}),rn(Qa.prototype,{w:{name:"toJSON",j:[We(null,!0)]}}),rn(Ei.prototype,{w:{name:"toJSON",j:[We(null,!0)]}}),Rn(Dt,"credential",Wn,[We("verificationId"),We("verificationCode")]),rn(Dt.prototype,{gb:{name:"verifyPhoneNumber",j:[Bn(We(),(function(l,d){return{name:l||"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(a){return a?a.session&&a.phoneNumber?hx(a.session,Eu)&&typeof a.phoneNumber=="string":a.session&&a.multiFactorHint?hx(a.session,$a)&&od(a.multiFactorHint):a.session&&a.multiFactorUid?hx(a.session,$a)&&typeof a.multiFactorUid=="string":a.phoneNumber?typeof a.phoneNumber=="string":!1:!1}}})(),"phoneInfoOptions"),Ac()]}}),rn(Za.prototype,{w:{name:"toJSON",j:[We(null,!0)]}}),rn(C.prototype,{toJSON:{name:"toJSON",j:[We(null,!0)]}}),rn(fc.prototype,{toJSON:{name:"toJSON",j:[We(null,!0)]}}),rn(Tn.prototype,{toJSON:{name:"toJSON",j:[We(null,!0)]}}),rn(Np.prototype,{toJSON:{name:"toJSON",j:[We(null,!0)]}}),rn(kp.prototype,{Rc:{name:"resolveSignIn",j:[sd()]}}),rn(Wv.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[sd(),We("displayName",!0)]},bd:{name:"unenroll",j:[Bn({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:od},We(),"multiFactorInfoIdentifier")]}}),rn(id.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Rn(sh,"parseLink",G1,[We("link")]),Rn(cx,"assertion",function(l){return new Rp(l)},[Ro("phone")]),(function(){if(typeof Ze<"u"&&Ze.INTERNAL&&Ze.INTERNAL.registerComponent){var l={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ya,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ah,VERIFY_AND_CHANGE_EMAIL:gu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:is,AuthCredential:nl,Error:C};Rn(l,"EmailAuthProvider",fr,[]),Rn(l,"FacebookAuthProvider",ba,[]),Rn(l,"GithubAuthProvider",il,[]),Rn(l,"GoogleAuthProvider",fo,[]),Rn(l,"TwitterAuthProvider",Cr,[]),Rn(l,"OAuthProvider",Si,[We("providerId")]),Rn(l,"SAMLAuthProvider",Hg,[We("providerId")]),Rn(l,"PhoneAuthProvider",Dt,[ad()]),Rn(l,"RecaptchaVerifier",id,[Bn(We(),iw(),"recaptchaContainer"),An("recaptchaParameters",!0),AS()]),Rn(l,"ActionCodeURL",sh,[]),Rn(l,"PhoneMultiFactorGenerator",cx,[]),Ze.INTERNAL.registerComponent({name:"auth",instanceFactory:function(d){return d=d.getProvider("app").getImmediate(),new is(d)},multipleInstances:!1,serviceProps:l,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(d){d.getProvider("auth-internal").initialize()}}),Ze.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(d){return d=d.getProvider("auth").getImmediate(),{getUid:A(d.getUid,d),getToken:A(d.nc,d),addAuthTokenListener:A(d.cc,d),removeAuthTokenListener:A(d.Pc,d)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ze.registerVersion("@firebase/auth","0.16.8"),Ze.INTERNAL.extendNamespace({User:Ci})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")})()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AT=function(e,t){return AT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},AT(e,t)};function V8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");AT(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function YD(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var H8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ke,L2=L2||{},mt=H8||self;function l_(){}function kT(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function oE(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function q8(e,t,n){return e.call.apply(e.bind,arguments)}function G8(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function di(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?di=q8:di=G8,di.apply(null,arguments)}function lw(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function mi(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var c=Array(arguments.length-2),u=2;u<arguments.length;u++)c[u-2]=arguments[u];return t.prototype[i].apply(r,c)}}function Af(){this.s=this.s,this.o=this.o}var W8=0;Af.prototype.s=!1;Af.prototype.na=function(){!this.s&&(this.s=!0,this.M(),W8!=0)};Af.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $D=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},QD=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function X8(e){e:{for(var t=B5,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function yN(e){return Array.prototype.concat.apply([],arguments)}function j2(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function c_(e){return/^[\s\xa0]*$/.test(e)}var bN=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ca(e,t){return e.indexOf(t)!=-1}function jS(e,t){return e<t?-1:e>t?1:0}var ua;e:{var wN=mt.navigator;if(wN){var _N=wN.userAgent;if(_N){ua=_N;break e}}ua=""}function P2(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function JD(e){var t={};for(var n in e)t[n]=e[n];return t}var EN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZD(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<EN.length;s++)n=EN[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function B2(e){return B2[" "](e),e}B2[" "]=l_;function K8(e){var t=Q8;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var Y8=ca(ua,"Opera"),ym=ca(ua,"Trident")||ca(ua,"MSIE"),eI=ca(ua,"Edge"),NT=eI||ym,tI=ca(ua,"Gecko")&&!(ca(ua.toLowerCase(),"webkit")&&!ca(ua,"Edge"))&&!(ca(ua,"Trident")||ca(ua,"MSIE"))&&!ca(ua,"Edge"),$8=ca(ua.toLowerCase(),"webkit")&&!ca(ua,"Edge");function nI(){var e=mt.document;return e?e.documentMode:void 0}var u_;e:{var PS="",BS=(function(){var e=ua;if(tI)return/rv:([^\);]+)(\)|;)/.exec(e);if(eI)return/Edge\/([\d\.]+)/.exec(e);if(ym)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if($8)return/WebKit\/(\S+)/.exec(e);if(Y8)return/(?:Version)[ \/]?(\S+)/.exec(e)})();if(BS&&(PS=BS?BS[1]:""),ym){var US=nI();if(US!=null&&US>parseFloat(PS)){u_=String(US);break e}}u_=PS}var Q8={};function J8(){return K8(function(){for(var e=0,t=bN(String(u_)).split("."),n=bN("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",c=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],s[0].length==0&&c[0].length==0)break;e=jS(s[1].length==0?0:parseInt(s[1],10),c[1].length==0?0:parseInt(c[1],10))||jS(s[2].length==0,c[2].length==0)||jS(s[2],c[2]),s=s[3],c=c[3]}while(e==0)}return 0<=e})}var CT;if(mt.document&&ym){var SN=nI();CT=SN||parseInt(u_,10)||void 0}else CT=void 0;var Z8=CT,e5=(function(){if(!mt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{mt.addEventListener("test",l_,t),mt.removeEventListener("test",l_,t)}catch{}return e})();function Vi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Vi.prototype.h=function(){this.defaultPrevented=!0};function iy(e,t){if(Vi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tI){e:{try{B2(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:t5[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&iy.Z.h.call(this)}}mi(iy,Vi);var t5={2:"touch",3:"pen",4:"mouse"};iy.prototype.h=function(){iy.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var lE="closure_listenable_"+(1e6*Math.random()|0),n5=0;function r5(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++n5,this.ca=this.fa=!1}function cE(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function uE(e){this.src=e,this.g={},this.h=0}uE.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var c=DT(e,t,r,i);return-1<c?(t=e[c],n||(t.fa=!1)):(t=new r5(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function RT(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=$D(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(cE(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function DT(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var U2="closure_lm_"+(1e6*Math.random()|0),zS={};function rI(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)rI(e,t[s],n,r,i);return null}return n=sI(n),e&&e[lE]?e.N(t,n,oE(r)?!!r.capture:!1,i):i5(e,t,n,!1,r,i)}function i5(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var c=oE(i)?!!i.capture:!!i,u=V2(e);if(u||(e[U2]=u=new uE(e)),n=u.add(t,n,r,c,s),n.proxy)return n;if(r=a5(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)e5||(i=c),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(aI(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function a5(){function e(n){return t.call(e.src,e.listener,n)}var t=s5;return e}function iI(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)iI(e,t[s],n,r,i);else r=oE(r)?!!r.capture:!!r,n=sI(n),e&&e[lE]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=DT(s,n,r,i),-1<n&&(cE(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=V2(e))&&(t=e.g[t.toString()],e=-1,t&&(e=DT(t,n,r,i)),(n=-1<e?t[e]:null)&&z2(n))}function z2(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[lE])RT(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(aI(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=V2(t))?(RT(n,e),n.h==0&&(n.src=null,t[U2]=null)):cE(e)}}}function aI(e){return e in zS?zS[e]:zS[e]="on"+e}function s5(e,t){if(e.ca)e=!0;else{t=new iy(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&z2(e),e=n.call(r,t)}return e}function V2(e){return e=e[U2],e instanceof uE?e:null}var VS="__closure_events_fn_"+(1e9*Math.random()>>>0);function sI(e){return typeof e=="function"?e:(e[VS]||(e[VS]=function(t){return e.handleEvent(t)}),e[VS])}function Yr(){Af.call(this),this.i=new uE(this),this.P=this,this.I=null}mi(Yr,Af);Yr.prototype[lE]=!0;Yr.prototype.removeEventListener=function(e,t,n,r){iI(this,e,t,n,r)};function pi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Vi(t,e);else if(t instanceof Vi)t.target=t.target||e;else{var i=t;t=new Vi(r,e),ZD(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var c=t.g=n[s];i=cw(c,r,!0,t)&&i}if(c=t.g=e,i=cw(c,r,!0,t)&&i,i=cw(c,r,!1,t)&&i,n)for(s=0;s<n.length;s++)c=t.g=n[s],i=cw(c,r,!1,t)&&i}Yr.prototype.M=function(){if(Yr.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)cE(n[r]);delete e.g[t],e.h--}}this.I=null};Yr.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Yr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function cw(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==n){var u=c.listener,h=c.ia||c.src;c.fa&&RT(e.i,c),i=u.call(h,r)!==!1&&i}}return i&&!r.defaultPrevented}var H2=mt.JSON.stringify;function o5(){var e=lI,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var l5=(function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=oI.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e})(),oI=new((function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e})())(function(){return new c5},function(e){return e.reset()}),c5=(function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e})();function u5(e){mt.setTimeout(function(){throw e},0)}function q2(e,t){IT||f5(),OT||(IT(),OT=!0),lI.add(e,t)}var IT;function f5(){var e=mt.Promise.resolve(void 0);IT=function(){e.then(h5)}}var OT=!1,lI=new l5;function h5(){for(var e;e=o5();){try{e.h.call(e.g)}catch(n){u5(n)}var t=oI;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}OT=!1}function fE(e,t){Yr.call(this),this.h=e||1,this.g=t||mt,this.j=di(this.kb,this),this.l=Date.now()}mi(fE,Yr);Ke=fE.prototype;Ke.da=!1;Ke.S=null;Ke.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pi(this,"tick"),this.da&&(G2(this),this.start()))}};Ke.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function G2(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}Ke.M=function(){fE.Z.M.call(this),G2(this),delete this.g};function W2(e,t,n){if(typeof e=="function")n&&(e=di(e,n));else if(e&&typeof e.handleEvent=="function")e=di(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:mt.setTimeout(e,t||0)}function cI(e){e.g=W2(function(){e.g=null,e.i&&(e.i=!1,cI(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var d5=(function(e){V8(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:cI(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t})(Af);function ay(e){Af.call(this),this.h=e,this.g={}}mi(ay,Af);var TN=[];function uI(e,t,n,r){Array.isArray(n)||(n&&(TN[0]=n.toString()),n=TN);for(var i=0;i<n.length;i++){var s=rI(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function fI(e){P2(e.g,function(t,n){this.g.hasOwnProperty(n)&&z2(t)},e),e.g={}}ay.prototype.M=function(){ay.Z.M.call(this),fI(this)};ay.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function hE(){this.g=!0}hE.prototype.Aa=function(){this.g=!1};function p5(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var c="",u=s.split("&"),h=0;h<u.length;h++){var p=u[h].split("=");if(1<p.length){var g=p[0];p=p[1];var x=g.split("_");c=2<=x.length&&x[1]=="type"?c+(g+"="+p+"&"):c+(g+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+c})}function m5(e,t,n,r,i,s,c){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+c})}function sm(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+v5(e,n)+(r?" "+r:"")})}function g5(e,t){e.info(function(){return"TIMEOUT: "+t})}hE.prototype.info=function(){};function v5(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var c=1;c<i.length;c++)i[c]=""}}}}return H2(n)}catch{return t}}var Xd={},AN=null;function dE(){return AN=AN||new Yr}Xd.Ma="serverreachability";function hI(e){Vi.call(this,Xd.Ma,e)}mi(hI,Vi);function sy(e){var t=dE();pi(t,new hI(t))}Xd.STAT_EVENT="statevent";function dI(e,t){Vi.call(this,Xd.STAT_EVENT,e),this.stat=t}mi(dI,Vi);function fa(e){var t=dE();pi(t,new dI(t,e))}Xd.Na="timingevent";function pI(e,t){Vi.call(this,Xd.Na,e),this.size=t}mi(pI,Vi);function Xy(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return mt.setTimeout(function(){e()},t)}var pE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mI={};function X2(){}X2.prototype.h=null;function kN(e){return e.h||(e.h=e.i())}function gI(){}var Ky={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function K2(){Vi.call(this,"d")}mi(K2,Vi);function Y2(){Vi.call(this,"c")}mi(Y2,Vi);var FT;function mE(){}mi(mE,X2);mE.prototype.g=function(){return new XMLHttpRequest};mE.prototype.i=function(){return{}};FT=new mE;function Yy(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ay(this),this.P=x5,e=NT?125:void 0,this.W=new fE(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vI}function vI(){this.i=null,this.g="",this.h=!1}var x5=45e3,MT={},f_={};Ke=Yy.prototype;Ke.setTimeout=function(e){this.P=e};function LT(e,t,n){e.K=1,e.v=vE(Hc(t)),e.s=n,e.U=!0,xI(e,null)}function xI(e,t){e.F=Date.now(),$y(e),e.A=Hc(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),TI(n.h,"t",r),e.C=0,n=e.l.H,e.h=new vI,e.g=GI(e.l,n?t:null,!e.s),0<e.O&&(e.L=new d5(di(e.Ia,e,e.g),e.O)),uI(e.V,e.g,"readystatechange",e.gb),t=e.H?JD(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),sy(),p5(e.j,e.u,e.A,e.m,e.X,e.s)}Ke.gb=function(e){e=e.target;var t=this.L;t&&Dc(e)==3?t.l():this.Ia(e)};Ke.Ia=function(e){try{if(e==this.g)e:{var t=Dc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||NT||this.g&&(this.h.h||this.g.ga()||DN(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?sy(3):sy(2)),gE(this);var i=this.g.ba();this.N=i;t:if(yI(this)){var s=DN(this.g);e="";var c=s.length,u=Dc(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yd(this),jx(this);var h="";break t}this.h.i=new mt.TextDecoder}for(n=0;n<c;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:u&&n==c-1});s.splice(0,c),this.h.g+=e,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=i==200,m5(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var p,g=this.g;if((p=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!c_(p)){var x=p;break t}}x=null}if(i=x)sm(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,jT(this,i);else{this.i=!1,this.o=3,fa(12),yd(this),jx(this);break e}}this.U?(bI(this,t,h),NT&&this.i&&t==3&&(uI(this.V,this.W,"tick",this.fb),this.W.start())):(sm(this.j,this.m,h,null),jT(this,h)),t==4&&yd(this),this.i&&!this.I&&(t==4?zI(this.l,this):(this.i=!1,$y(this)))}else i==400&&0<h.indexOf("Unknown SID")?(this.o=3,fa(12)):(this.o=0,fa(13)),yd(this),jx(this)}}}catch{}finally{}};function yI(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function bI(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=y5(e,n),i==f_){t==4&&(e.o=4,fa(14),r=!1),sm(e.j,e.m,null,"[Incomplete Response]");break}else if(i==MT){e.o=4,fa(15),sm(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else sm(e.j,e.m,i,null),jT(e,i);yI(e)&&i!=f_&&i!=MT&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,fa(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),iA(t),t.L=!0,fa(11))):(sm(e.j,e.m,n,"[Invalid Chunked Response]"),yd(e),jx(e))}Ke.fb=function(){if(this.g){var e=Dc(this.g),t=this.g.ga();this.C<t.length&&(gE(this),bI(this,e,t),this.i&&e!=4&&$y(this))}};function y5(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?f_:(n=Number(t.substring(n,r)),isNaN(n)?MT:(r+=1,r+n>t.length?f_:(t=t.substr(r,n),e.C=r+n,t)))}Ke.cancel=function(){this.I=!0,yd(this)};function $y(e){e.Y=Date.now()+e.P,wI(e,e.P)}function wI(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Xy(di(e.eb,e),t)}function gE(e){e.B&&(mt.clearTimeout(e.B),e.B=null)}Ke.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(g5(this.j,this.A),this.K!=2&&(sy(),fa(17)),yd(this),this.o=2,jx(this)):wI(this,this.Y-e)};function jx(e){e.l.G==0||e.I||zI(e.l,e)}function yd(e){gE(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,G2(e.W),fI(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function jT(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||PT(n.i,e))){if(n.I=e.N,!e.J&&PT(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)m_(n),bE(n);else break e;rA(n),fa(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Xy(di(n.ab,n),6e3));if(1>=NI(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else bd(n,11)}else if((e.J||n.g==e)&&m_(n),!c_(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var c=s[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));var u=s[4];u!=null&&(n.za=u,n.h.info("SVER="+n.za));var h=s[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var p=e.g;if(p){var g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var x=r.i;!x.g&&(ca(g,"spdy")||ca(g,"quic")||ca(g,"h2"))&&(x.j=x.l,x.g=new Set,x.h&&(J2(x,x.h),x.h=null))}if(r.D){var b=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.sa=b,zn(r.F,r.D,b))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var _=e;if(r.oa=qI(r,r.H?r.la:null,r.W),_.J){CI(r.i,_);var S=_,E=r.K;E&&S.setTimeout(E),S.B&&(gE(S),$y(S)),r.g=_}else BI(r);0<n.l.length&&wE(n)}else s[0]!="stop"&&s[0]!="close"||bd(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?bd(n,7):nA(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}sy(4)}catch{}}function b5(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(kT(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function $2(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(kT(e)||typeof e=="string")QD(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(kT(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=b5(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function qm(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof qm)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Ke=qm.prototype;Ke.R=function(){Q2(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};Ke.T=function(){return Q2(this),this.g.concat()};function Q2(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Fd(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],Fd(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}Ke.get=function(e,t){return Fd(this.h,e)?this.h[e]:t};Ke.set=function(e,t){Fd(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};Ke.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function Fd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _I=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function w5(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Md(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Md){this.g=t!==void 0?t:e.g,h_(this,e.j),this.s=e.s,d_(this,e.i),p_(this,e.m),this.l=e.l,t=e.h;var n=new oy;n.i=t.i,t.g&&(n.g=new qm(t.g),n.h=t.h),NN(this,n),this.o=e.o}else e&&(n=String(e).match(_I))?(this.g=!!t,h_(this,n[1]||"",!0),this.s=Px(n[2]||""),d_(this,n[3]||"",!0),p_(this,n[4]),this.l=Px(n[5]||"",!0),NN(this,n[6]||"",!0),this.o=Px(n[7]||"")):(this.g=!!t,this.h=new oy(null,this.g))}Md.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Tx(t,CN,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Tx(t,CN,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Tx(n,n.charAt(0)=="/"?A5:T5,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Tx(n,N5)),e.join("")};function Hc(e){return new Md(e)}function h_(e,t,n){e.j=n?Px(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function d_(e,t,n){e.i=n?Px(t,!0):t}function p_(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function NN(e,t,n){t instanceof oy?(e.h=t,C5(e.h,e.g)):(n||(t=Tx(t,k5)),e.h=new oy(t,e.g))}function zn(e,t,n){e.h.set(t,n)}function vE(e){return zn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _5(e){return e instanceof Md?Hc(e):new Md(e,void 0)}function E5(e,t,n,r){var i=new Md(null,void 0);return e&&h_(i,e),t&&d_(i,t),n&&p_(i,n),r&&(i.l=r),i}function Px(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tx(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,S5),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function S5(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var CN=/[#\/\?@]/g,T5=/[#\?:]/g,A5=/[#\?]/g,k5=/[#\?@]/g,N5=/#/g;function oy(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kf(e){e.g||(e.g=new qm,e.h=0,e.i&&w5(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Ke=oy.prototype;Ke.add=function(e,t){kf(this),this.i=null,e=Gm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function EI(e,t){kf(e),t=Gm(e,t),Fd(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Fd(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Q2(e)))}function SI(e,t){return kf(e),t=Gm(e,t),Fd(e.g.h,t)}Ke.forEach=function(e,t){kf(this),this.g.forEach(function(n,r){QD(n,function(i){e.call(t,i,r,this)},this)},this)};Ke.T=function(){kf(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};Ke.R=function(e){kf(this);var t=[];if(typeof e=="string")SI(this,e)&&(t=yN(t,this.g.get(Gm(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=yN(t,e[n])}return t};Ke.set=function(e,t){return kf(this),this.i=null,e=Gm(this,e),SI(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Ke.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function TI(e,t,n){EI(e,t),0<n.length&&(e.i=null,e.g.set(Gm(e,t),j2(n)),e.h+=n.length)}Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var c=i;r[s]!==""&&(c+="="+encodeURIComponent(String(r[s]))),e.push(c)}}return this.i=e.join("&")};function Gm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function C5(e,t){t&&!e.j&&(kf(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(EI(this,r),TI(this,i,n))},e)),e.j=t}var R5=(function(){function e(t,n){this.h=t,this.g=n}return e})();function AI(e){this.l=e||D5,mt.PerformanceNavigationTiming?(e=mt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(mt.g&&mt.g.Ea&&mt.g.Ea()&&mt.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var D5=10;function kI(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function NI(e){return e.h?1:e.g?e.g.size:0}function PT(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function J2(e,t){e.g?e.g.add(t):e.h=t}function CI(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}AI.prototype.cancel=function(){var e,t;if(this.i=RI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=YD(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function RI(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=YD(e.g.values()),s=i.next();!s.done;s=i.next()){var c=s.value;r=r.concat(c.D)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return j2(e.i)}function Z2(){}Z2.prototype.stringify=function(e){return mt.JSON.stringify(e,void 0)};Z2.prototype.parse=function(e){return mt.JSON.parse(e,void 0)};function I5(){this.g=new Z2}function O5(e,t,n){var r=n||"";try{$2(e,function(i,s){var c=i;oE(i)&&(c=H2(i)),t.push(r+s+"="+encodeURIComponent(c))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function F5(e,t){var n=new hE;if(mt.Image){var r=new Image;r.onload=lw(uw,n,r,"TestLoadImage: loaded",!0,t),r.onerror=lw(uw,n,r,"TestLoadImage: error",!1,t),r.onabort=lw(uw,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=lw(uw,n,r,"TestLoadImage: timeout",!1,t),mt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function uw(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Qy(e){this.l=e.$b||null,this.j=e.ib||!1}mi(Qy,X2);Qy.prototype.g=function(){return new xE(this.l,this.j)};Qy.prototype.i=(function(e){return function(){return e}})({});function xE(e,t){Yr.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=eA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mi(xE,Yr);var eA=0;Ke=xE.prototype;Ke.open=function(e,t){if(this.readyState!=eA)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ly(this)};Ke.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||mt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jy(this)),this.readyState=eA};Ke.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ly(this)),this.g&&(this.readyState=3,ly(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof mt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DI(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function DI(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}Ke.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jy(this):ly(this),this.readyState==3&&DI(this)}};Ke.Ua=function(e){this.g&&(this.response=this.responseText=e,Jy(this))};Ke.Ta=function(e){this.g&&(this.response=e,Jy(this))};Ke.ha=function(){this.g&&Jy(this)};function Jy(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ly(e)}Ke.setRequestHeader=function(e,t){this.v.append(e,t)};Ke.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Ke.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ly(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(xE.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var M5=mt.JSON.parse;function Ar(e){Yr.call(this),this.headers=new qm,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=II,this.K=this.L=!1}mi(Ar,Yr);var II="",L5=/^https?$/i,j5=["POST","PUT"];Ke=Ar.prototype;Ke.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():FT.g(),this.C=this.u?kN(this.u):kN(FT),this.g.onreadystatechange=di(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){RN(this,s);return}e=n||"";var i=new qm(this.headers);r&&$2(r,function(s,c){i.set(c,s)}),r=X8(i.T()),n=mt.FormData&&e instanceof mt.FormData,!(0<=$D(j5,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{MI(this),0<this.B&&((this.K=P5(this.g))?(this.g.timeout=this.B,this.g.ontimeout=di(this.pa,this)):this.A=W2(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){RN(this,s)}};function P5(e){return ym&&J8()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function B5(e){return e.toLowerCase()=="content-type"}Ke.pa=function(){typeof L2<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pi(this,"timeout"),this.abort(8))};function RN(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,OI(e),yE(e)}function OI(e){e.D||(e.D=!0,pi(e,"complete"),pi(e,"error"))}Ke.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pi(this,"complete"),pi(this,"abort"),yE(this))};Ke.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yE(this,!0)),Ar.Z.M.call(this)};Ke.Fa=function(){this.s||(this.F||this.v||this.l?FI(this):this.cb())};Ke.cb=function(){FI(this)};function FI(e){if(e.h&&typeof L2<"u"&&(!e.C[1]||Dc(e)!=4||e.ba()!=2)){if(e.v&&Dc(e)==4)W2(e.Fa,0,e);else if(pi(e,"readystatechange"),Dc(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(_I)[1]||null;if(!s&&mt.self&&mt.self.location){var c=mt.self.location.protocol;s=c.substr(0,c.length-1)}i=!L5.test(s?s.toLowerCase():"")}r=i}if(r)pi(e,"complete"),pi(e,"success");else{e.m=6;try{var u=2<Dc(e)?e.g.statusText:""}catch{u=""}e.j=u+" ["+e.ba()+"]",OI(e)}}finally{yE(e)}}}}function yE(e,t){if(e.g){MI(e);var n=e.g,r=e.C[0]?l_:null;e.g=null,e.C=null,t||pi(e,"ready");try{n.onreadystatechange=r}catch{}}}function MI(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(mt.clearTimeout(e.A),e.A=null)}function Dc(e){return e.g?e.g.readyState:0}Ke.ba=function(){try{return 2<Dc(this)?this.g.status:-1}catch{return-1}};Ke.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ke.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),M5(t)}};function DN(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case II:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Ke.Da=function(){return this.m};Ke.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function U5(e){var t="";return P2(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function tA(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=U5(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):zn(e,t,n))}function vx(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function LI(e){this.za=0,this.l=[],this.h=new hE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=vx("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=vx("baseRetryDelayMs",5e3,e),this.$a=vx("retryDelaySeedMs",1e4,e),this.Ya=vx("forwardChannelMaxRetries",2,e),this.ra=vx("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new AI(e&&e.concurrentRequestLimit),this.Ca=new I5,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}Ke=LI.prototype;Ke.ma=8;Ke.G=1;function nA(e){if(jI(e),e.G==3){var t=e.V++,n=Hc(e.F);zn(n,"SID",e.J),zn(n,"RID",t),zn(n,"TYPE","terminate"),Zy(e,n),t=new Yy(e,e.h,t,void 0),t.K=2,t.v=vE(Hc(n)),n=!1,mt.navigator&&mt.navigator.sendBeacon&&(n=mt.navigator.sendBeacon(t.v.toString(),"")),!n&&mt.Image&&(new Image().src=t.v,n=!0),n||(t.g=GI(t.l,null),t.g.ea(t.v)),t.F=Date.now(),$y(t)}HI(e)}Ke.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function bE(e){e.g&&(iA(e),e.g.cancel(),e.g=null)}function jI(e){bE(e),e.u&&(mt.clearTimeout(e.u),e.u=null),m_(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&mt.clearTimeout(e.m),e.m=null)}function HS(e,t){e.l.push(new R5(e.Za++,t)),e.G==3&&wE(e)}function wE(e){kI(e.i)||e.m||(e.m=!0,q2(e.Ha,e),e.C=0)}function z5(e,t){return NI(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Xy(di(e.Ha,e,t),VI(e,e.C)),e.C++,!0)}Ke.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Yy(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=JD(n),ZD(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=PI(this,t,r),i=Hc(this.F),zn(i,"RID",e),zn(i,"CVER",22),this.D&&zn(i,"X-HTTP-Session-Id",this.D),Zy(this,i),this.o&&n&&tA(i,this.o,n),J2(this.i,t),this.Ra&&zn(i,"TYPE","init"),this.ja?(zn(i,"$req",r),zn(i,"SID","null"),t.$=!0,LT(t,i,null)):LT(t,i,r),this.G=2}}else this.G==3&&(e?IN(this,e):this.l.length==0||kI(this.i)||IN(this))};function IN(e,t){var n;t?n=t.m:n=e.V++;var r=Hc(e.F);zn(r,"SID",e.J),zn(r,"RID",n),zn(r,"AID",e.U),Zy(e,r),e.o&&e.s&&tA(r,e.o,e.s),n=new Yy(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=PI(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),J2(e.i,n),LT(n,r,t)}function Zy(e,t){e.j&&$2({},function(n,r){zn(t,r,n)})}function PI(e,t,n){n=Math.min(e.l.length,n);var r=e.j?di(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var c=["count="+n];s==-1?0<n?(s=i[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);for(var u=!0,h=0;h<n;h++){var p=i[h].h,g=i[h].g;if(p-=s,0>p)s=Math.max(0,i[h].h-100),u=!1;else try{O5(g,c,"req"+p+"_")}catch{r&&r(g)}}if(u){r=c.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function BI(e){e.g||e.u||(e.Y=1,q2(e.Ga,e),e.A=0)}function rA(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Xy(di(e.Ga,e),VI(e,e.A)),e.A++,!0)}Ke.Ga=function(){if(this.u=null,UI(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Xy(di(this.bb,this),e)}};Ke.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fa(10),bE(this),UI(this))};function iA(e){e.B!=null&&(mt.clearTimeout(e.B),e.B=null)}function UI(e){e.g=new Yy(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Hc(e.oa);zn(t,"RID","rpc"),zn(t,"SID",e.J),zn(t,"CI",e.N?"0":"1"),zn(t,"AID",e.U),Zy(e,t),zn(t,"TYPE","xmlhttp"),e.o&&e.s&&tA(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=vE(Hc(t)),n.s=null,n.U=!0,xI(n,e)}Ke.ab=function(){this.v!=null&&(this.v=null,bE(this),rA(this),fa(19))};function m_(e){e.v!=null&&(mt.clearTimeout(e.v),e.v=null)}function zI(e,t){var n=null;if(e.g==t){m_(e),iA(e),e.g=null;var r=2}else if(PT(e.i,t))n=t.D,CI(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=dE(),pi(r,new pI(r,n)),wE(e)}else BI(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&z5(e,t)||r==2&&rA(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:bd(e,5);break;case 4:bd(e,10);break;case 3:bd(e,6);break;default:bd(e,2)}}}function VI(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function bd(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=di(e.jb,e);n||(n=new Md("//www.google.com/images/cleardot.gif"),mt.location&&mt.location.protocol=="http"||h_(n,"https"),vE(n)),F5(n.toString(),r)}else fa(2);e.G=0,e.j&&e.j.va(t),HI(e),jI(e)}Ke.jb=function(e){e?(this.h.info("Successfully pinged google.com"),fa(2)):(this.h.info("Failed to ping google.com"),fa(1))};function HI(e){e.G=0,e.I=-1,e.j&&((RI(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,j2(e.l),e.l.length=0),e.j.ua())}function qI(e,t,n){var r=_5(n);if(r.i!="")t&&d_(r,t+"."+r.i),p_(r,r.m);else{var i=mt.location;r=E5(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&P2(e.aa,function(s,c){zn(r,c,s)}),t=e.D,n=e.sa,t&&n&&zn(r,t,n),zn(r,"VER",e.ma),Zy(e,r),r}function GI(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Ar(new Qy({ib:!0})):new Ar(e.qa),t.L=e.H,t}function WI(){}Ke=WI.prototype;Ke.xa=function(){};Ke.wa=function(){};Ke.va=function(){};Ke.ua=function(){};Ke.Oa=function(){};function g_(){if(ym&&!(10<=Number(Z8)))throw Error("Environmental error: no available transport.")}g_.prototype.g=function(e,t){return new ms(e,t)};function ms(e,t){Yr.call(this),this.g=new LI(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!c_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!c_(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Wm(this)}mi(ms,Yr);ms.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),q2(di(e.hb,e,t))),fa(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=qI(e,null,e.W),wE(e)};ms.prototype.close=function(){nA(this.g)};ms.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,HS(this.g,t)}else this.v?(t={},t.__data__=H2(e),HS(this.g,t)):HS(this.g,e)};ms.prototype.M=function(){this.g.j=null,delete this.j,nA(this.g),delete this.g,ms.Z.M.call(this)};function XI(e){K2.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}mi(XI,K2);function KI(){Y2.call(this),this.status=1}mi(KI,Y2);function Wm(e){this.g=e}mi(Wm,WI);Wm.prototype.xa=function(){pi(this.g,"a")};Wm.prototype.wa=function(e){pi(this.g,new XI(e))};Wm.prototype.va=function(e){pi(this.g,new KI)};Wm.prototype.ua=function(){pi(this.g,"b")};g_.prototype.createWebChannel=g_.prototype.g;ms.prototype.send=ms.prototype.u;ms.prototype.open=ms.prototype.m;ms.prototype.close=ms.prototype.close;pE.NO_ERROR=0;pE.TIMEOUT=8;pE.HTTP_ERROR=6;mI.COMPLETE="complete";gI.EventType=Ky;Ky.OPEN="a";Ky.CLOSE="b";Ky.ERROR="c";Ky.MESSAGE="d";Yr.prototype.listen=Yr.prototype.N;Ar.prototype.listenOnce=Ar.prototype.O;Ar.prototype.getLastError=Ar.prototype.La;Ar.prototype.getLastErrorCode=Ar.prototype.Da;Ar.prototype.getStatus=Ar.prototype.ba;Ar.prototype.getResponseJson=Ar.prototype.Qa;Ar.prototype.getResponseText=Ar.prototype.ga;Ar.prototype.send=Ar.prototype.ea;var V5=function(){return new g_},H5=function(){return dE()},qS=pE,q5=mI,G5=Xd,ON={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},W5=Qy,fw=gI,X5=Ar,K5={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hs=(function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e})();hs.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Oe=(function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return ot(t,e),t})(Error),jo=new GD("@firebase/firestore");function BT(){return jo.logLevel}function Pe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(jo.logLevel<=Qt.DEBUG){var r=t.map(aA);jo.debug.apply(jo,Un(["Firestore (8.10.1): "+e],r))}}function Tr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(jo.logLevel<=Qt.ERROR){var r=t.map(aA);jo.error.apply(jo,Un(["Firestore (8.10.1): "+e],r))}}function v_(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(jo.logLevel<=Qt.WARN){var r=t.map(aA);jo.warn.apply(jo,Un(["Firestore (8.10.1): "+e],r))}}function aA(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Tr(t),new Error(t)}function dt(e,t){e||et()}function Xe(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YI=(function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=Y5(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e})();function jt(e,t){return e<t?-1:e>t?1:0}function bm(e,t,n){return e.length===t.length&&e.every((function(r,i){return n(r,t[i])}))}function $I(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ma=(function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e})(),Ft=(function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Ma(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Kd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function QI(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JI=(function(){function e(t,n,r){n===void 0?n=0:n>t.length&&et(),r===void 0?r=t.length-n:r>t.length-n&&et(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(r){n.push(r)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),c=n.get(i);if(s<c)return-1;if(s>c)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e})(),nn=(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ot(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,c=n;s<c.length;s++){var u=c[s];if(u.indexOf("//")>=0)throw new Oe(ge.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");i.push.apply(i,u.split("/").filter((function(h){return h.length>0})))}return new t(i)},t.emptyPath=function(){return new t([])},t})(JI),$5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vo=(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ot(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return $5.test(n)},t.prototype.canonicalString=function(){return this.toArray().map((function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,c=function(){if(i.length===0)throw new Oe(ge.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},u=!1;s<n.length;){var h=n[s];if(h==="\\"){if(s+1===n.length)throw new Oe(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Oe(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=p,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(i+=h,s++):(c(),s++)}if(c(),u)throw new Oe(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t})(JI),wm=(function(){function e(t){this.fields=t,t.sort(Vo.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return bm(this.fields,t.fields,(function(n,r){return n.isEqual(r)}))},e})(),ja=(function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e((function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r})(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return(function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n})(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return jt(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e})();ja.EMPTY_BYTE_STRING=new ja("");var Q5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vf(e){if(dt(!!e),typeof e=="string"){var t=0,n=Q5.exec(e);if(dt(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Sr(e.seconds),nanos:Sr(e.nanos)}}function Sr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function _m(e){return typeof e=="string"?ja.fromBase64String(e):ja.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ZI(e){var t=e.mapValue.fields.__previous_value__;return sA(t)?ZI(t):t}function cy(e){var t=vf(e.mapValue.fields.__local_write_time__.timestampValue);return new Ma(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(e){return e==null}function x_(e){return e===0&&1/e==-1/0}function eO(e){return typeof e=="number"&&Number.isInteger(e)&&!x_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt=(function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(nn.fromString(t))},e.fromName=function(t){return new e(nn.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&nn.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return nn.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new nn(t.slice()))},e})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?sA(e)?4:10:et()}function Pl(e,t){var n=Ld(e);if(n!==Ld(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cy(e).isEqual(cy(t));case 3:return(function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=vf(r.timestampValue),c=vf(i.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(r,i){return _m(r.bytesValue).isEqual(_m(i.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(r,i){return Sr(r.geoPointValue.latitude)===Sr(i.geoPointValue.latitude)&&Sr(r.geoPointValue.longitude)===Sr(i.geoPointValue.longitude)})(e,t);case 2:return(function(r,i){if("integerValue"in r&&"integerValue"in i)return Sr(r.integerValue)===Sr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Sr(r.doubleValue),c=Sr(i.doubleValue);return s===c?x_(s)===x_(c):isNaN(s)&&isNaN(c)}return!1})(e,t);case 9:return bm(e.arrayValue.values||[],t.arrayValue.values||[],Pl);case 10:return(function(r,i){var s=r.mapValue.fields||{},c=i.mapValue.fields||{};if(FN(s)!==FN(c))return!1;for(var u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Pl(s[u],c[u])))return!1;return!0})(e,t);default:return et()}}function uy(e,t){return(e.values||[]).find((function(n){return Pl(n,t)}))!==void 0}function Em(e,t){var n=Ld(e),r=Ld(t);if(n!==r)return jt(n,r);switch(n){case 0:return 0;case 1:return jt(e.booleanValue,t.booleanValue);case 2:return(function(i,s){var c=Sr(i.integerValue||i.doubleValue),u=Sr(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(e,t);case 3:return MN(e.timestampValue,t.timestampValue);case 4:return MN(cy(e),cy(t));case 5:return jt(e.stringValue,t.stringValue);case 6:return(function(i,s){var c=_m(i),u=_m(s);return c.compareTo(u)})(e.bytesValue,t.bytesValue);case 7:return(function(i,s){for(var c=i.split("/"),u=s.split("/"),h=0;h<c.length&&h<u.length;h++){var p=jt(c[h],u[h]);if(p!==0)return p}return jt(c.length,u.length)})(e.referenceValue,t.referenceValue);case 8:return(function(i,s){var c=jt(Sr(i.latitude),Sr(s.latitude));return c!==0?c:jt(Sr(i.longitude),Sr(s.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return(function(i,s){for(var c=i.values||[],u=s.values||[],h=0;h<c.length&&h<u.length;++h){var p=Em(c[h],u[h]);if(p)return p}return jt(c.length,u.length)})(e.arrayValue,t.arrayValue);case 10:return(function(i,s){var c=i.fields||{},u=Object.keys(c),h=s.fields||{},p=Object.keys(h);u.sort(),p.sort();for(var g=0;g<u.length&&g<p.length;++g){var x=jt(u[g],p[g]);if(x!==0)return x;var b=Em(c[u[g]],h[p[g]]);if(b!==0)return b}return jt(u.length,p.length)})(e.mapValue,t.mapValue);default:throw et()}}function MN(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return jt(e,t);var n=vf(e),r=vf(t),i=jt(n.seconds,r.seconds);return i!==0?i:jt(n.nanos,r.nanos)}function oA(e){return UT(e)}function UT(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(r){var i=vf(r);return"time("+i.seconds+","+i.nanos+")"})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?_m(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,nt.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?(function(r){for(var i="[",s=!0,c=0,u=r.values||[];c<u.length;c++)s?s=!1:i+=",",i+=UT(u[c]);return i+"]"})(e.arrayValue):"mapValue"in e?(function(r){for(var i="{",s=!0,c=0,u=Object.keys(r.fields||{}).sort();c<u.length;c++){var h=u[c];s?s=!1:i+=",",i+=h+":"+UT(r.fields[h])}return i+"}"})(e.mapValue):et();var t,n}function y_(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function zT(e){return!!e&&"integerValue"in e}function lA(e){return!!e&&"arrayValue"in e}function LN(e){return!!e&&"nullValue"in e}function jN(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Kw(e){return!!e&&"mapValue"in e}function Bx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Kd(e.mapValue.fields,(function(i,s){return t.mapValue.fields[i]=Bx(s)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Bx(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cs=(function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Kw(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bx(n)},e.prototype.setAll=function(t){var n=this,r=Vo.emptyPath(),i={},s=[];t.forEach((function(u,h){if(!r.isImmediateParentOf(h)){var p=n.getFieldsMap(r);n.applyChanges(p,i,s),i={},s=[],r=h.popLast()}u?i[h.lastSegment()]=Bx(u):s.push(h.lastSegment())}));var c=this.getFieldsMap(r);this.applyChanges(c,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Kw(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Pl(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];Kw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Kd(n,(function(u,h){return t[u]=h}));for(var i=0,s=r;i<s.length;i++){var c=s[i];delete t[c]}},e.prototype.clone=function(){return new e(Bx(this.value))},e})();function tO(e){var t=[];return Kd(e.fields,(function(n,r){var i=new Vo([n]);if(Kw(r)){var s=tO(r.mapValue).fields;if(s.length===0)t.push(i);else for(var c=0,u=s;c<u.length;c++){var h=u[c];t.push(i.child(h))}}else t.push(i)})),new wm(t)}var qi=(function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Ft.min(),cs.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,cs.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,cs.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=cs.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=cs.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e})(),J5=function(e,t,n,r,i,s,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=c,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(e,t,n,r,i,s,c){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),c===void 0&&(c=null),new J5(e,t,n,r,i,s,c)}function e1(e){var t=Xe(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(r){return(function(i){return i.field.canonicalString()+i.op.toString()+oA(i.value)})(r)})).join(","),n+="|ob:",n+=t.orderBy.map((function(r){return(function(i){return i.field.canonicalString()+i.dir})(r)})).join(","),Yd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=w_(t.startAt)),t.endAt&&(n+="|ub:",n+=w_(t.endAt)),t.h=n}return t.h}function _E(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!sP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Pl(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!UN(e.startAt,t.startAt)&&UN(e.endAt,t.endAt)}function b_(e){return nt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var ds=(function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return ot(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new Z5(n,r,i):r==="array-contains"?new nP(n,i):r==="in"?new rP(n,i):r==="not-in"?new iP(n,i):r==="array-contains-any"?new aP(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new eP(n,i):new tP(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Em(r,this.value)):r!==null&&Ld(this.value)===Ld(r)&&this.m(Em(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return et()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t})((function(){})),Z5=(function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=nt.fromName(i.referenceValue),s}return ot(t,e),t.prototype.matches=function(n){var r=nt.comparator(n.key,this.key);return this.m(r)},t})(ds),eP=(function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=nO("in",r),i}return ot(t,e),t.prototype.matches=function(n){return this.keys.some((function(r){return r.isEqual(n.key)}))},t})(ds),tP=(function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=nO("not-in",r),i}return ot(t,e),t.prototype.matches=function(n){return!this.keys.some((function(r){return r.isEqual(n.key)}))},t})(ds);function nO(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((function(r){return nt.fromName(r.referenceValue)}))}var nP=(function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return ot(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return lA(r)&&uy(r.arrayValue,this.value)},t})(ds),rP=(function(e){function t(n,r){return e.call(this,n,"in",r)||this}return ot(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&uy(this.value.arrayValue,r)},t})(ds),iP=(function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return ot(t,e),t.prototype.matches=function(n){if(uy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!uy(this.value.arrayValue,r)},t})(ds),aP=(function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return ot(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!lA(i)||!i.arrayValue.values)&&i.arrayValue.values.some((function(s){return uy(r.value.arrayValue,s)}))},t})(ds),fy=function(e,t){this.position=e,this.before=t};function w_(e){return(e.before?"b":"a")+":"+e.position.map((function(t){return oA(t)})).join(",")}var cm=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function sP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function BN(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],c=e.position[i];if(r=s.field.isKeyField()?nt.comparator(nt.fromName(c.referenceValue),n.key):Em(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function UN(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Pl(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wc=(function(e,t,n,r,i,s,c,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),c===void 0&&(c=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=c,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt});function rO(e,t,n,r,i,s,c,u){return new Wc(e,t,n,r,i,s,c,u)}function t1(e){return new Wc(e)}function Yw(e){return!Yd(e.limit)&&e.limitType==="F"}function __(e){return!Yd(e.limit)&&e.limitType==="L"}function cA(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function uA(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function fA(e){return e.collectionGroup!==null}function Sm(e){var t=Xe(e);if(t.p===null){t.p=[];var n=uA(t),r=cA(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new cm(n)),t.p.push(new cm(Vo.keyField(),"asc"));else{for(var i=!1,s=0,c=t.explicitOrderBy;s<c.length;s++){var u=c[s];t.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var h=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new cm(Vo.keyField(),h))}}}return t.p}function Bl(e){var t=Xe(e);if(!t.T)if(t.limitType==="F")t.T=PN(t.path,t.collectionGroup,Sm(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Sm(t);r<i.length;r++){var s=i[r],c=s.dir==="desc"?"asc":"desc";n.push(new cm(s.field,c))}var u=t.endAt?new fy(t.endAt.position,!t.endAt.before):null,h=t.startAt?new fy(t.startAt.position,!t.startAt.before):null;t.T=PN(t.path,t.collectionGroup,n,t.filters,t.limit,u,h)}return t.T}function iO(e,t,n){return new Wc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function n1(e,t){return _E(Bl(e),Bl(t))&&e.limitType===t.limitType}function aO(e){return e1(Bl(e))+"|lt:"+e.limitType}function VT(e){return"Query(target="+(function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map((function(r){return(i=r).field.canonicalString()+" "+i.op+" "+oA(i.value);var i})).join(", ")+"]"),Yd(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map((function(r){return(function(i){return i.field.canonicalString()+" ("+i.dir+")"})(r)})).join(", ")+"]"),t.startAt&&(n+=", startAt: "+w_(t.startAt)),t.endAt&&(n+=", endAt: "+w_(t.endAt)),"Target("+n+")"})(Bl(e))+"; limitType="+e.limitType+")"}function r1(e,t){return t.isFoundDocument()&&(function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):nt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)})(e,t)&&(function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var c=s[i];if(!c.field.isKeyField()&&r.data.field(c.field)===null)return!1}return!0})(e,t)&&(function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0})(e,t)&&(function(n,r){return!(n.startAt&&!BN(n.startAt,Sm(n),r))&&(!n.endAt||!BN(n.endAt,Sm(n),r))})(e,t)}function sO(e){return function(t,n){for(var r=!1,i=0,s=Sm(e);i<s.length;i++){var c=s[i],u=oP(c,t,n);if(u!==0)return u;r=r||c.field.isKeyField()}return 0}}function oP(e,t,n){var r=e.field.isKeyField()?nt.comparator(t.key,n.key):(function(i,s,c){var u=s.data.field(i),h=c.data.field(i);return u!==null&&h!==null?Em(u,h):et()})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:x_(t)?"-0":t}}function lO(e){return{integerValue:""+e}}function cO(e,t){return eO(t)?lO(t):oO(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EE=function(){this._=void 0};function lP(e,t,n){return e instanceof Tm?(function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}})(n,t):e instanceof jd?fO(e,t):e instanceof Pd?hO(e,t):(function(r,i){var s=uO(r,i),c=zN(s)+zN(r.A);return zT(s)&&zT(r.A)?lO(c):oO(r.R,c)})(e,t)}function cP(e,t,n){return e instanceof jd?fO(e,t):e instanceof Pd?hO(e,t):n}function uO(e,t){return e instanceof Am?zT(n=t)||(function(r){return!!r&&"doubleValue"in r})(n)?t:{integerValue:0}:null;var n}var Tm=(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ot(t,e),t})(EE),jd=(function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ot(t,e),t})(EE);function fO(e,t){for(var n=dO(t),r=function(c){n.some((function(u){return Pl(u,c)}))||n.push(c)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Pd=(function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ot(t,e),t})(EE);function hO(e,t){for(var n=dO(t),r=function(c){n=n.filter((function(u){return!Pl(u,c)}))},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Am=(function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return ot(t,e),t})(EE);function zN(e){return Sr(e.integerValue||e.doubleValue)}function dO(e){return lA(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i1=function(e,t){this.field=e,this.transform=t},uP=function(e,t){this.version=e,this.transformResults=t},Ui=(function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e})();function $w(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var SE=function(){};function fP(e,t,n){e instanceof a1?(function(r,i,s){var c=r.value.clone(),u=qN(r.fieldTransforms,i,s.transformResults);c.setAll(u),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(e,t,n):e instanceof Nf?(function(r,i,s){if($w(r.precondition,i)){var c=qN(r.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(pO(r)),u.setAll(c),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)})(e,t,n):(function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()})(0,t,n)}function HT(e,t,n){e instanceof a1?(function(r,i,s){if($w(r.precondition,i)){var c=r.value.clone(),u=GN(r.fieldTransforms,s,i);c.setAll(u),i.convertToFoundDocument(HN(i),c).setHasLocalMutations()}})(e,t,n):e instanceof Nf?(function(r,i,s){if($w(r.precondition,i)){var c=GN(r.fieldTransforms,s,i),u=i.data;u.setAll(pO(r)),u.setAll(c),i.convertToFoundDocument(HN(i),u).setHasLocalMutations()}})(e,t,n):(function(r,i){$w(r.precondition,i)&&i.convertToNoDocument(Ft.min())})(e,t)}function hP(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],c=t.data.field(s.field),u=uO(s.transform,c||null);u!=null&&(n==null&&(n=cs.empty()),n.set(s.field,u))}return n||null}function VN(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&bm(n,r,(function(i,s){return(function(c,u){return c.field.isEqual(u.field)&&(function(h,p){return h instanceof jd&&p instanceof jd||h instanceof Pd&&p instanceof Pd?bm(h.elements,p.elements,Pl):h instanceof Am&&p instanceof Am?Pl(h.A,p.A):h instanceof Tm&&p instanceof Tm})(c.transform,u.transform)})(i,s)}))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function HN(e){return e.isFoundDocument()?e.version:Ft.min()}var a1=(function(e){function t(n,r,i,s){s===void 0&&(s=[]);var c=this;return(c=e.call(this)||this).key=n,c.value=r,c.precondition=i,c.fieldTransforms=s,c.type=0,c}return ot(t,e),t})(SE),Nf=(function(e){function t(n,r,i,s,c){c===void 0&&(c=[]);var u=this;return(u=e.call(this)||this).key=n,u.data=r,u.fieldMask=i,u.precondition=s,u.fieldTransforms=c,u.type=1,u}return ot(t,e),t})(SE);function pO(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function qN(e,t,n){var r=new Map;dt(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],c=s.transform,u=t.data.field(s.field);r.set(s.field,cP(c,u,n[i]))}return r}function GN(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var c=s[i],u=c.transform,h=n.data.field(c.field);r.set(c.field,lP(u,h,t))}return r}var wr,Ut,s1=(function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ot(t,e),t})(SE),hA=(function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ot(t,e),t})(SE),dP=(function(e){this.count=e});function mO(e){switch(e){case ge.OK:return et();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return et()}}function gO(e){if(e===void 0)return Tr("GRPC error has no .code"),ge.UNKNOWN;switch(e){case wr.OK:return ge.OK;case wr.CANCELLED:return ge.CANCELLED;case wr.UNKNOWN:return ge.UNKNOWN;case wr.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case wr.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case wr.INTERNAL:return ge.INTERNAL;case wr.UNAVAILABLE:return ge.UNAVAILABLE;case wr.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case wr.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case wr.NOT_FOUND:return ge.NOT_FOUND;case wr.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case wr.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case wr.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case wr.ABORTED:return ge.ABORTED;case wr.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case wr.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case wr.DATA_LOSS:return ge.DATA_LOSS;default:return et()}}(Ut=wr||(wr={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wi=(function(){function e(t,n){this.comparator=t,this.root=n||rf.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rf.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rf.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal((function(n,r){return t(n,r),!1}))},e.prototype.toString=function(){var t=[];return this.inorderTraversal((function(n,r){return t.push(n+":"+r),!1})),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new hw(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new hw(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new hw(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new hw(this.root,t,this.comparator,!0)},e})(),hw=(function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e})(),rf=(function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();var t=this.left.check();if(t!==this.right.check())throw et();return t+(this.isRed()?0:1)},e})();rf.EMPTY=null,rf.RED=!0,rf.BLACK=!1,rf.EMPTY=new((function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw et()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new rf(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e})());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jr=(function(){function e(t){this.comparator=t,this.data=new Wi(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal((function(n,r){return t(n),!1}))},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new WN(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new WN(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach((function(r){n=n.add(r)})),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach((function(n){t.push(n)})),t},e.prototype.toString=function(){var t=[];return this.forEach((function(n){return t.push(n)})),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e})(),WN=(function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e})(),pP=new Wi(nt.comparator);function Po(){return pP}var mP=new Wi(nt.comparator);function qT(){return mP}var gP=new Wi(nt.comparator);function vP(){return gP}var xP=new jr(nt.comparator);function kn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=xP,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var yP=new jr(jt);function TE(){return yP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dA=(function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,pA.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ft.min(),r,TE(),Po(),kn())},e})(),pA=(function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(ja.EMPTY_BYTE_STRING,n,kn(),kn(),kn())},e})(),Qw=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},vO=function(e,t){this.targetId=e,this.V=t},xO=function(e,t,n,r){n===void 0&&(n=ja.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},XN=(function(){function e(){this.S=0,this.D=YN(),this.C=ja.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=kn(),n=kn(),r=kn();return this.D.forEach((function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:et()}})),new pA(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=YN()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e})(),bP=(function(){function e(t){this.W=t,this.G=new Map,this.H=Po(),this.J=KN(),this.Y=new jr(jt)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,c=t.removedTargetIds;s<c.length;s++)i=c[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,(function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:et()}}))},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach((function(i,s){r.st(s)&&n(s)}))},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(b_(s))if(r===0){var c=new nt(s.path);this.tt(n,c,qi.newNoDocument(c,Ft.min()))}else dt(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach((function(c,u){var h=n.ot(u);if(h){if(c.current&&b_(h.target)){var p=new nt(h.target.path);n.H.get(p)!==null||n.at(u,p)||n.tt(u,p,qi.newNoDocument(p,t))}c.$&&(r.set(u,c.M()),c.L())}}));var i=kn();this.J.forEach((function(c,u){var h=!0;u.forEachWhile((function(p){var g=n.ot(p);return!g||g.purpose===2||(h=!1,!1)})),h&&(i=i.add(c))}));var s=new dA(t,r,this.Y,this.H,i);return this.H=Po(),this.J=KN(),this.Y=new jr(jt),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new XN,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new jr(jt),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new XN),this.W.getRemoteKeysForTarget(t).forEach((function(r){n.tt(t,r,null)}))},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e})();function KN(){return new Wi(nt.comparator)}function YN(){return new Wi(nt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wP={asc:"ASCENDING",desc:"DESCENDING"},_P={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EP=function(e,t){this.databaseId=e,this.I=t};function hy(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function yO(e,t){return e.I?t.toBase64():t.toUint8Array()}function SP(e,t){return hy(e,t.toTimestamp())}function ha(e){return dt(!!e),Ft.fromTimestamp((function(t){var n=vf(t);return new Ma(n.seconds,n.nanos)})(e))}function mA(e,t){return(function(n){return new nn(["projects",n.projectId,"databases",n.database])})(e).child("documents").child(t).canonicalString()}function bO(e){var t=nn.fromString(e);return dt(kO(t)),t}function dy(e,t){return mA(e.databaseId,t.path)}function Lc(e,t){var n=bO(t);if(n.get(1)!==e.databaseId.projectId)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new nt(_O(n))}function GT(e,t){return mA(e.databaseId,t)}function wO(e){var t=bO(e);return t.length===4?nn.emptyPath():_O(t)}function py(e){return new nn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _O(e){return dt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function $N(e,t,n){return{name:dy(e,t),fields:n.value.mapValue.fields}}function TP(e,t,n){var r=Lc(e,t.name),i=ha(t.updateTime),s=new cs({mapValue:{fields:t.fields}}),c=qi.newFoundDocument(r,i,s);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function E_(e,t){var n;if(t instanceof a1)n={update:$N(e,t.key,t.value)};else if(t instanceof s1)n={delete:dy(e,t.key)};else if(t instanceof Nf)n={update:$N(e,t.key,t.data),updateMask:RP(t.fieldMask)};else{if(!(t instanceof hA))return et();n={verify:dy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(r){return(function(i,s){var c=s.transform;if(c instanceof Tm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof jd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Pd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Am)return{fieldPath:s.field.canonicalString(),increment:c.A};throw et()})(0,r)}))),t.precondition.isNone||(n.currentDocument=(function(r,i){return i.updateTime!==void 0?{updateTime:SP(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:et()})(e,t.precondition)),n}function QN(e,t){var n=t.currentDocument?(function(p){return p.updateTime!==void 0?Ui.updateTime(ha(p.updateTime)):p.exists!==void 0?Ui.exists(p.exists):Ui.none()})(t.currentDocument):Ui.none(),r=t.updateTransforms?t.updateTransforms.map((function(p){return(function(g,x){var b=null;if("setToServerValue"in x)dt(x.setToServerValue==="REQUEST_TIME"),b=new Tm;else if("appendMissingElements"in x){var _=x.appendMissingElements.values||[];b=new jd(_)}else if("removeAllFromArray"in x){var S=x.removeAllFromArray.values||[];b=new Pd(S)}else"increment"in x?b=new Am(g,x.increment):et();var E=Vo.fromServerFormat(x.fieldPath);return new i1(E,b)})(e,p)})):[];if(t.update){t.update.name;var i=Lc(e,t.update.name),s=new cs({mapValue:{fields:t.update.fields}});if(t.updateMask){var c=(function(p){var g=p.fieldPaths||[];return new wm(g.map((function(x){return Vo.fromServerFormat(x)})))})(t.updateMask);return new Nf(i,s,c,n,r)}return new a1(i,s,n,r)}if(t.delete){var u=Lc(e,t.delete);return new s1(u,n)}if(t.verify){var h=Lc(e,t.verify);return new hA(h,n)}return et()}function EO(e,t){return{documents:[GT(e,t.path)]}}function SO(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=GT(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=GT(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=(function(u){if(u.length!==0){var h=u.map((function(p){return(function(g){if(g.op==="=="){if(jN(g.value))return{unaryFilter:{field:Xp(g.field),op:"IS_NAN"}};if(LN(g.value))return{unaryFilter:{field:Xp(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(jN(g.value))return{unaryFilter:{field:Xp(g.field),op:"IS_NOT_NAN"}};if(LN(g.value))return{unaryFilter:{field:Xp(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xp(g.field),op:kP(g.op),value:g.value}}})(p)}));return h.length===1?h[0]:{compositeFilter:{op:"AND",filters:h}}}})(t.filters);i&&(n.structuredQuery.where=i);var s=(function(u){if(u.length!==0)return u.map((function(h){return(function(p){return{field:Xp(p.field),direction:AP(p.dir)}})(h)}))})(t.orderBy);s&&(n.structuredQuery.orderBy=s);var c=(function(u,h){return u.I||Yd(h)?h:{value:h}})(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=JN(t.startAt)),t.endAt&&(n.structuredQuery.endAt=JN(t.endAt)),n}function TO(e){var t=wO(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){dt(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var c=[];n.where&&(c=AO(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(x){return(function(b){return new cm(om(b.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(x)})));var h=null;n.limit&&(h=(function(x){var b;return Yd(b=typeof x=="object"?x.value:x)?null:b})(n.limit));var p=null;n.startAt&&(p=ZN(n.startAt));var g=null;return n.endAt&&(g=ZN(n.endAt)),rO(t,i,u,c,h,"F",p,g)}function AO(e){return e?e.unaryFilter!==void 0?[CP(e)]:e.fieldFilter!==void 0?[NP(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map((function(t){return AO(t)})).reduce((function(t,n){return t.concat(n)})):et():[]}function JN(e){return{before:e.before,values:e.position}}function ZN(e){var t=!!e.before,n=e.values||[];return new fy(n,t)}function AP(e){return wP[e]}function kP(e){return _P[e]}function Xp(e){return{fieldPath:e.canonicalString()}}function om(e){return Vo.fromServerFormat(e.fieldPath)}function NP(e){return ds.create(om(e.fieldFilter.field),(function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return et()}})(e.fieldFilter.op),e.fieldFilter.value)}function CP(e){switch(e.unaryFilter.op){case"IS_NAN":var t=om(e.unaryFilter.field);return ds.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=om(e.unaryFilter.field);return ds.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=om(e.unaryFilter.field);return ds.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=om(e.unaryFilter.field);return ds.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return et()}}function RP(e){var t=[];return e.fields.forEach((function(n){return t.push(n.canonicalString())})),{fieldPaths:t}}function kO(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=eC(t)),t=DP(e.get(n),t);return eC(t)}function DP(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function eC(e){return e+""}function Ic(e){var t=e.length;if(dt(t>=2),t===2)return dt(e.charAt(0)===""&&e.charAt(1)===""),nn.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var c=e.indexOf("",s);switch((c<0||c>n)&&et(),e.charAt(c+1)){case"":var u=e.substring(s,c),h=void 0;i.length===0?h=u:(h=i+=u,i=""),r.push(h);break;case"":i+=e.substring(s,c),i+="\0";break;case"":i+=e.substring(s,c+1);break;default:et()}s=c+2}return new nn(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IP=function(e,t){this.seconds=e,this.nanoseconds=t},as=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};as.store="owner",as.key="owner";var pf=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};pf.store="mutationQueues",pf.keyPath="userId";var Dn=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Dn.store="mutations",Dn.keyPath="batchId",Dn.userMutationsIndex="userMutationsIndex",Dn.userMutationsKeyPath=["userId","batchId"];var Li=(function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Bo(n)]},e.key=function(t,n,r){return[t,Bo(n),r]},e})();Li.store="documentMutations",Li.PLACEHOLDER=new Li;var OP=function(e,t){this.path=e,this.readTime=t},FP=function(e,t){this.path=e,this.version=t},ir=(function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s});ir.store="remoteDocuments",ir.readTimeIndex="readTimeIndex",ir.readTimeIndexPath="readTime",ir.collectionReadTimeIndex="collectionReadTimeIndex",ir.collectionReadTimeIndexPath=["parentPath","readTime"];var Ol=(function(e){this.byteSize=e});Ol.store="remoteDocumentGlobal",Ol.key="remoteDocumentGlobalKey";var Oa=function(e,t,n,r,i,s,c){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=c};Oa.store="targets",Oa.keyPath="targetId",Oa.queryTargetsIndexName="queryTargetsIndex",Oa.queryTargetsKeyPath=["canonicalId","targetId"];var hi=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};hi.store="targetDocuments",hi.keyPath=["targetId","path"],hi.documentTargetsIndex="documentTargetsIndex",hi.documentTargetsKeyPath=["path","targetId"];var ss=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ss.key="targetGlobalKey",ss.store="targetGlobal";var Sd=function(e,t){this.collectionId=e,this.parent=t};Sd.store="collectionParents",Sd.keyPath=["collectionId","parent"];var jc=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};jc.store="clientMetadata",jc.keyPath="clientId";var km=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};km.store="bundles",km.keyPath="bundleId";var Nm=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Nm.store="namedQueries",Nm.keyPath="name";var MP=Un(Un([],Un(Un([],Un(Un([],Un(Un([],[pf.store,Dn.store,Li.store,ir.store,Oa.store,as.store,ss.store,hi.store]),[jc.store])),[Ol.store])),[Sd.store])),[km.store,Nm.store]),NO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",CO=(function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},e})(),Pa=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},je=(function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)}),(function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)}))}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(i,s){r.nextCallback=function(c){r.wrapSuccess(t,c).next(i,s)},r.catchCallback=function(c){r.wrapFailure(n,c).next(i,s)}}))},e.prototype.toPromise=function(){var t=this;return new Promise((function(n,r){t.next(n,r)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(n,r){n(t)}))},e.reject=function(t){return new e((function(n,r){r(t)}))},e.waitFor=function(t){return new e((function(n,r){var i=0,s=0,c=!1;t.forEach((function(u){++i,u.next((function(){++s,c&&s===i&&n()}),(function(h){return r(h)}))})),c=!0,s===i&&n()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(c){n=n.next((function(u){return u?e.resolve(u):c()}))},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach((function(s,c){i.push(n.call(r,s,c))})),this.waitFor(i)},e})(),RO=(function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Pa,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Ux(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=gA(i.target.error);r.ft.reject(new Ux(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new Ux(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Pe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new jP(n)},e})(),Cm=(function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Od())===12.2&&Tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return Pe("SimpleDb","Removing database:",t),vd(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Od(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=K5)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return ke(this,void 0,void 0,(function(){var n,r=this;return Ae(this,(function(i){switch(i.label){case 0:return this.db?[3,2]:(Pe("SimpleDb","Opening database:",this.name),n=this,[4,new Promise((function(s,c){var u=indexedDB.open(r.name,r.version);u.onsuccess=function(h){var p=h.target.result;s(p)},u.onblocked=function(){c(new Ux(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=function(h){var p=h.target.error;p.name==="VersionError"?c(new Oe(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c(new Ux(t,p))},u.onupgradeneeded=function(h){Pe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',h.oldVersion);var p=h.target.result;r.wt.Rt(p,u.transaction,h.oldVersion,r.version).next((function(){Pe("SimpleDb","Database upgrade to version "+r.version+" complete")}))}}))]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}}))}))},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return ke(this,void 0,void 0,(function(){var s,c,u,h,p;return Ae(this,(function(g){switch(g.label){case 0:s=n==="readonly",c=0,u=function(){var x,b,_,S,E;return Ae(this,(function(T){switch(T.label){case 0:++c,T.label=1;case 1:return T.trys.push([1,4,,5]),[4,h.At(t)];case 2:return h.db=T.sent(),x=RO.open(h.db,t,s?"readonly":"readwrite",r),b=i(x).catch((function(k){return x.abort(k),je.reject(k)})).toPromise(),_={},b.catch((function(){})),[4,x.dt];case 3:return[2,(_.value=(T.sent(),b),_)];case 4:return S=T.sent(),E=S.name!=="FirebaseError"&&c<3,Pe("SimpleDb","Transaction failed with error:",S.message,"Retrying:",E),h.close(),E?[3,5]:[2,{value:Promise.reject(S)}];case 5:return[2]}}))},h=this,g.label=1;case 1:return[5,u()];case 2:if(typeof(p=g.sent())=="object")return[2,p.value];g.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e})(),LP=(function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return vd(this.Pt.delete())},e})(),Ux=(function(e){function t(n,r){var i=this;return(i=e.call(this,ge.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return ot(t,e),t})(Oe);function $d(e){return e.name==="IndexedDbTransactionError"}var jP=(function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(Pe("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),vd(r)},e.prototype.add=function(t){return Pe("SimpleDb","ADD",this.store.name,t,t),vd(this.store.add(t))},e.prototype.get=function(t){var n=this;return vd(this.store.get(t)).next((function(r){return r===void 0&&(r=null),Pe("SimpleDb","GET",n.store.name,t,r),r}))},e.prototype.delete=function(t){return Pe("SimpleDb","DELETE",this.store.name,t),vd(this.store.delete(t))},e.prototype.count=function(){return Pe("SimpleDb","COUNT",this.store.name),vd(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,(function(s,c){i.push(c)})).next((function(){return i}))},e.prototype.kt=function(t,n){Pe("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,(function(s,c,u){return u.delete()}))},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new je((function(r,i){n.onerror=function(s){var c=gA(s.target.error);i(c)},n.onsuccess=function(s){var c=s.target.result;c?t(c.primaryKey,c.value).next((function(u){u?c.continue():r()})):r()}}))},e.prototype.xt=function(t,n){var r=[];return new je((function(i,s){t.onerror=function(c){s(c.target.error)},t.onsuccess=function(c){var u=c.target.result;if(u){var h=new LP(u),p=n(u.primaryKey,u.value,h);if(p instanceof je){var g=p.catch((function(x){return h.done(),je.reject(x)}));r.push(g)}h.isDone?i():h.Dt===null?u.continue():u.continue(h.Dt)}else i()}})).next((function(){return je.waitFor(r)}))},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e})();function vd(e){return new je((function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=gA(r.target.error);n(i)}}))}var tC=!1;function gA(e){var t=Cm._t(Od());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Oe("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return tC||(tC=!0,setTimeout((function(){throw r}),0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nC=(function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return ot(t,e),t})(CO);function Ua(e,t){var n=Xe(e);return Cm.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vA=(function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&fP(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(c=r[n]).key.isEqual(t.key)&&HT(c,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var c;(c=s[i]).key.isEqual(t.key)&&HT(c,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach((function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(Ft.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(t,n){return t.add(n.key)}),kn())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&bm(this.mutations,t.mutations,(function(n,r){return VN(n,r)}))&&bm(this.baseMutations,t.baseMutations,(function(n,r){return VN(n,r)}))},e})(),PP=(function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){dt(t.mutations.length===r.length);for(var i=vP(),s=t.mutations,c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new e(t,n,r,i)},e})(),AE=(function(){function e(t,n,r,i,s,c,u){s===void 0&&(s=Ft.min()),c===void 0&&(c=Ft.min()),u===void 0&&(u=ja.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e})(),DO=function(e){this.Lt=e};function WT(e,t){if(t.document)return TP(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=nt.fromSegments(t.noDocument.path),r=Dm(t.noDocument.readTime),i=qi.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=nt.fromSegments(t.unknownDocument.path);return r=Dm(t.unknownDocument.version),qi.newUnknownDocument(s,r)}return et()}function rC(e,t,n){var r=xA(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=(function(x,b){return{name:dy(x,b.key),fields:b.data.value.mapValue.fields,updateTime:hy(x,b.version.toTimestamp())}})(e.Lt,t),c=t.hasCommittedMutations;return new ir(null,null,s,c,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),h=Rm(t.version);return c=t.hasCommittedMutations,new ir(null,new OP(u,h),null,c,r,i)}if(t.isUnknownDocument()){var p=t.key.path.toArray(),g=Rm(t.version);return new ir(new FP(p,g),null,null,!0,r,i)}return et()}function xA(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function IO(e){var t=new Ma(e[0],e[1]);return Ft.fromTimestamp(t)}function Rm(e){var t=e.toTimestamp();return new IP(t.seconds,t.nanoseconds)}function Dm(e){var t=new Ma(e.seconds,e.nanoseconds);return Ft.fromTimestamp(t)}function rm(e,t){for(var n=(t.baseMutations||[]).map((function(h){return QN(e.Lt,h)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var c=t.mutations.map((function(h){return QN(e.Lt,h)})),u=Ma.fromMillis(t.localWriteTimeMs);return new vA(t.batchId,u,n,c)}function Ax(e){var t,n,r=Dm(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Dm(e.lastLimboFreeSnapshotVersion):Ft.min();return e.query.documents!==void 0?(dt((n=e.query).documents.length===1),t=Bl(t1(wO(n.documents[0])))):t=(function(s){return Bl(TO(s))})(e.query),new AE(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ja.fromBase64String(e.resumeToken))}function OO(e,t){var n,r=Rm(t.snapshotVersion),i=Rm(t.lastLimboFreeSnapshotVersion);n=b_(t.target)?EO(e.Lt,t.target):SO(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Oa(t.targetId,e1(t.target),r,s,t.sequenceNumber,i,n)}function FO(e){var t=TO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?iO(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BP=(function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return iC(t).get(n).next((function(r){if(r)return{id:(i=r).bundleId,createTime:Dm(i.createTime),version:i.version};var i}))},e.prototype.saveBundleMetadata=function(t,n){return iC(t).put({bundleId:(r=n).id,createTime:Rm(ha(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return aC(t).get(n).next((function(r){if(r)return{name:(i=r).name,query:FO(i.bundledQuery),readTime:Dm(i.readTime)};var i}))},e.prototype.saveNamedQuery=function(t,n){return aC(t).put((function(r){return{name:r.name,readTime:Rm(ha(r.readTime)),bundledQuery:r.bundledQuery}})(n))},e})();function iC(e){return Ua(e,km.store)}function aC(e){return Ua(e,Nm.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UP=(function(){function e(){this.Bt=new yA}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),je.resolve()},e.prototype.getCollectionParents=function(t,n){return je.resolve(this.Bt.getEntries(n))},e})(),yA=(function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new jr(nn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new jr(nn.comparator)).toArray()},e})(),zP=(function(){function e(){this.qt=new yA}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener((function(){r.qt.add(n)}));var c={collectionId:i,parent:Bo(s)};return sC(t).put(c)}return je.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[$I(n),""],!1,!0);return sC(t).Nt(i).next((function(s){for(var c=0,u=s;c<u.length;c++){var h=u[c];if(h.collectionId!==n)break;r.push(Ic(h.parent))}return r}))},e})();function sC(e){return Ua(e,Sd.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dl=(function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(e,t,n){var r=e.store(Dn.store),i=e.store(Li.store),s=[],c=IDBKeyRange.only(n.batchId),u=0,h=r.$t({range:c},(function(S,E,T){return u++,T.delete()}));s.push(h.next((function(){dt(u===1)})));for(var p=[],g=0,x=n.mutations;g<x.length;g++){var b=x[g],_=Li.key(t,b.key.path,n.batchId);s.push(i.delete(_)),p.push(b.key)}return je.waitFor(s).next((function(){return p}))}function S_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw et();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dl.DEFAULT_COLLECTION_PERCENTILE=10,Dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dl.DEFAULT=new Dl(41943040,Dl.DEFAULT_COLLECTION_PERCENTILE,Dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dl.DISABLED=new Dl(-1,0,0);var VP=(function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return dt(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ju(t).$t({index:Dn.userMutationsIndex,range:r},(function(i,s,c){n=!1,c.done()})).next((function(){return n}))},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,c=im(t),u=Ju(t);return u.add({}).next((function(h){dt(typeof h=="number");for(var p=new vA(h,n,r,i),g=(function(k,R,A){var O=A.baseMutations.map((function(M){return E_(k.Lt,M)})),I=A.mutations.map((function(M){return E_(k.Lt,M)}));return new Dn(R,A.batchId,A.localWriteTime.toMillis(),O,I)})(s.R,s.userId,p),x=[],b=new jr((function(k,R){return jt(k.canonicalString(),R.canonicalString())})),_=0,S=i;_<S.length;_++){var E=S[_],T=Li.key(s.userId,E.key.path,h);b=b.add(E.key.path.popLast()),x.push(u.put(g)),x.push(c.put(T,Li.PLACEHOLDER))}return b.forEach((function(k){x.push(s.Ut.addToCollectionParentIndex(t,k))})),t.addOnCommittedListener((function(){s.Kt[h]=p.keys()})),je.waitFor(x).next((function(){return p}))}))},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Ju(t).get(n).next((function(i){return i?(dt(i.userId===r.userId),rm(r.R,i)):null}))},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?je.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next((function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),c=null;return Ju(t).$t({index:Dn.userMutationsIndex,range:s},(function(u,h,p){h.userId===r.userId&&(dt(h.batchId>=i),c=rm(r.R,h)),p.done()})).next((function(){return c}))},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Ju(t).$t({index:Dn.userMutationsIndex,range:n,reverse:!0},(function(i,s,c){r=s.batchId,c.done()})).next((function(){return r}))},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ju(t).Nt(Dn.userMutationsIndex,r).next((function(i){return i.map((function(s){return rm(n.R,s)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=Li.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),c=[];return im(t).$t({range:s},(function(u,h,p){var g=u[0],x=u[1],b=u[2],_=Ic(x);if(g===r.userId&&n.path.isEqual(_))return Ju(t).get(b).next((function(S){if(!S)throw et();dt(S.userId===r.userId),c.push(rm(r.R,S))}));p.done()})).next((function(){return c}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new jr(jt),s=[];return n.forEach((function(c){var u=Li.prefixForPath(r.userId,c.path),h=IDBKeyRange.lowerBound(u),p=im(t).$t({range:h},(function(g,x,b){var _=g[0],S=g[1],E=g[2],T=Ic(S);_===r.userId&&c.path.isEqual(T)?i=i.add(E):b.done()}));s.push(p)})),je.waitFor(s).next((function(){return r.Wt(t,i)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,c=Li.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(c),h=new jr(jt);return im(t).$t({range:u},(function(p,g,x){var b=p[0],_=p[1],S=p[2],E=Ic(_);b===r.userId&&i.isPrefixOf(E)?E.length===s&&(h=h.add(S)):x.done()})).next((function(){return r.Wt(t,h)}))},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach((function(c){s.push(Ju(t).get(c).next((function(u){if(u===null)throw et();dt(u.userId===r.userId),i.push(rm(r.R,u))})))})),je.waitFor(s).next((function(){return i}))},e.prototype.removeMutationBatch=function(t,n){var r=this;return MO(t.Mt,this.userId,n).next((function(i){return t.addOnCommittedListener((function(){r.Gt(n.batchId)})),je.forEach(i,(function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)}))}))},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next((function(r){if(!r)return je.resolve();var i=IDBKeyRange.lowerBound(Li.prefixForUser(n.userId)),s=[];return im(t).$t({range:i},(function(c,u,h){if(c[0]===n.userId){var p=Ic(c[1]);s.push(p)}else h.done()})).next((function(){dt(s.length===0)}))}))},e.prototype.containsKey=function(t,n){return LO(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return jO(t).get(this.userId).next((function(r){return r||new pf(n.userId,-1,"")}))},e})();function LO(e,t,n){var r=Li.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),c=!1;return im(e).$t({range:s,Ft:!0},(function(u,h,p){var g=u[0],x=u[1];u[2],g===t&&x===i&&(c=!0),p.done()})).next((function(){return c}))}function Ju(e){return Ua(e,Dn.store)}function im(e){return Ua(e,Li.store)}function jO(e){return Ua(e,pf.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T_=(function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e})(),HP=(function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next((function(r){var i=new T_(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next((function(){return r.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(n){return Ft.fromTimestamp(new Ma(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(n){return n.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next((function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)}))},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next((function(){return r.Xt(t).next((function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)}))}))},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next((function(){return Kp(t).delete(n.targetId)})).next((function(){return r.Xt(t)})).next((function(i){return dt(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)}))},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,c=[];return Kp(t).$t((function(u,h){var p=Ax(h);p.sequenceNumber<=n&&r.get(p.targetId)===null&&(s++,c.push(i.removeTargetData(t,p)))})).next((function(){return je.waitFor(c)})).next((function(){return s}))},e.prototype.forEachTarget=function(t,n){return Kp(t).$t((function(r,i){var s=Ax(i);n(s)}))},e.prototype.Xt=function(t){return lC(t).get(ss.key).next((function(n){return dt(n!==null),n}))},e.prototype.Zt=function(t,n){return lC(t).put(ss.key,n)},e.prototype.te=function(t,n){return Kp(t).put(OO(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next((function(n){return n.targetCount}))},e.prototype.getTargetData=function(t,n){var r=e1(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Kp(t).$t({range:i,index:Oa.queryTargetsIndexName},(function(c,u,h){var p=Ax(u);_E(n,p.target)&&(s=p,h.done())})).next((function(){return s}))},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],c=af(t);return n.forEach((function(u){var h=Bo(u.path);s.push(c.put(new hi(r,h))),s.push(i.referenceDelegate.addReference(t,r,u))})),je.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=af(t);return je.forEach(n,(function(c){var u=Bo(c.path);return je.waitFor([s.delete([r,u]),i.referenceDelegate.removeReference(t,r,c)])}))},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=af(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=af(t),s=kn();return i.$t({range:r,Ft:!0},(function(c,u,h){var p=Ic(c[1]),g=new nt(p);s=s.add(g)})).next((function(){return s}))},e.prototype.containsKey=function(t,n){var r=Bo(n.path),i=IDBKeyRange.bound([r],[$I(r)],!1,!0),s=0;return af(t).$t({index:hi.documentTargetsIndex,Ft:!0,range:i},(function(c,u,h){var p=c[0];c[1],p!==0&&(s++,h.done())})).next((function(){return s>0}))},e.prototype.lt=function(t,n){return Kp(t).get(n).next((function(r){return r?Ax(r):null}))},e})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(e){return Ua(e,Oa.store)}function lC(e){return Ua(e,ss.store)}function af(e){return Ua(e,hi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(e){return ke(this,void 0,void 0,(function(){return Ae(this,(function(t){if(e.code!==ge.FAILED_PRECONDITION||e.message!==NO)throw e;return Pe("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],c=jt(n,i);return c===0?jt(r,s):c}var qP=(function(){function e(t){this.ne=t,this.buffer=new jr(cC),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();cC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e})(),GP=(function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;Pe("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(function(){return ke(n,void 0,void 0,(function(){var i;return Ae(this,(function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return $d(i=s.sent())?(Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Qd(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}}))}))}))},e})(),WP=(function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next((function(r){return Math.floor(n/100*r)}))},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return je.resolve(hs.o);var i=new qP(n);return this.ae.forEachTarget(t,(function(s){return i.re(s.sequenceNumber)})).next((function(){return r.ae.le(t,(function(s){return i.re(s)}))})).next((function(){return i.maxValue}))},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(oC)):this.getCacheSize(t).next((function(i){return i<r.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),oC):r.fe(t,n)}))},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,c,u,h,p,g=this,x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(b){return b>g.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+b),i=g.params.maximumSequenceNumbersToCollect):i=b,c=Date.now(),g.nthSequenceNumber(t,i)})).next((function(b){return r=b,u=Date.now(),g.removeTargets(t,r,n)})).next((function(b){return s=b,h=Date.now(),g.removeOrphanedDocuments(t,r)})).next((function(b){return p=Date.now(),BT()<=Qt.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(c-x)+`ms
	Determined least recently used `+i+" in "+(u-c)+`ms
	Removed `+s+" targets in "+(h-u)+`ms
	Removed `+b+" documents in "+(p-h)+`ms
Total Duration: `+(p-x)+"ms"),je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:b})}))},e})(),XP=(function(){function e(t,n){this.db=t,this.garbageCollector=(function(r,i){return new WP(r,i)})(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(r){return n.next((function(i){return r+i}))}))},e.prototype.de=function(t){var n=0;return this.le(t,(function(r){n++})).next((function(){return n}))},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,(function(r,i){return n(i)}))},e.prototype.addReference=function(t,n,r){return dw(t,r)},e.prototype.removeReference=function(t,n,r){return dw(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return dw(t,n)},e.prototype._e=function(t,n){return(function(r,i){var s=!1;return jO(r).Ot((function(c){return LO(r,c,i).next((function(u){return u&&(s=!0),je.resolve(!u)}))})).next((function(){return s}))})(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],c=0;return this.we(t,(function(u,h){if(h<=n){var p=r._e(t,u).next((function(g){if(!g)return c++,i.getEntry(t,u).next((function(){return i.removeEntry(u),af(t).delete([0,Bo(u.path)])}))}));s.push(p)}})).next((function(){return je.waitFor(s)})).next((function(){return i.apply(t)})).next((function(){return c}))},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return dw(t,n)},e.prototype.we=function(t,n){var r,i=af(t),s=hs.o;return i.$t({index:hi.documentTargetsIndex},(function(c,u){var h=c[0];c[1];var p=u.path,g=u.sequenceNumber;h===0?(s!==hs.o&&n(new nt(Ic(r)),s),s=g,r=p):s=hs.o})).next((function(){s!==hs.o&&n(new nt(Ic(r)),s)}))},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e})();function dw(e,t){return af(e).put((function(n,r){return new hi(0,Bo(n.path),r)})(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xm=(function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var c=s[i],u=c[0],h=c[1];if(this.equalsFn(u,t))return h}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Kd(this.inner,(function(n,r){for(var i=0,s=r;i<s.length;i++){var c=s[i],u=c[0],h=c[1];t(u,h)}}))},e.prototype.isEmpty=function(){return QI(this.inner)},e})(),PO=(function(){function e(){this.changes=new Xm((function(t){return t.toString()}),(function(t,n){return t.isEqual(n)})),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Ft.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:qi.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?je.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e})(),KP=(function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return nf(t).put(pw(n),r)},e.prototype.removeEntry=function(t,n){var r=nf(t),i=pw(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next((function(i){return i.byteSize+=n,r.me(t,i)}))},e.prototype.getEntry=function(t,n){var r=this;return nf(t).get(pw(n)).next((function(i){return r.ye(n,i)}))},e.prototype.ge=function(t,n){var r=this;return nf(t).get(pw(n)).next((function(i){return{document:r.ye(n,i),size:S_(i)}}))},e.prototype.getEntries=function(t,n){var r=this,i=Po();return this.pe(t,n,(function(s,c){var u=r.ye(s,c);i=i.insert(s,u)})).next((function(){return i}))},e.prototype.Ee=function(t,n){var r=this,i=Po(),s=new Wi(nt.comparator);return this.pe(t,n,(function(c,u){var h=r.ye(c,u);i=i.insert(c,h),s=s.insert(c,S_(u))})).next((function(){return{documents:i,Te:s}}))},e.prototype.pe=function(t,n,r){if(n.isEmpty())return je.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),c=s.getNext();return nf(t).$t({range:i},(function(u,h,p){for(var g=nt.fromSegments(u);c&&nt.comparator(c,g)<0;)r(c,null),c=s.getNext();c&&c.isEqual(g)&&(r(c,h),c=s.hasNext()?s.getNext():null),c?p.Ct(c.path.toArray()):p.done()})).next((function(){for(;c;)r(c,null),c=s.hasNext()?s.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=Po(),c=n.path.length+1,u={};if(r.isEqual(Ft.min())){var h=n.path.toArray();u.range=IDBKeyRange.lowerBound(h)}else{var p=n.path.toArray(),g=xA(r);u.range=IDBKeyRange.lowerBound([p,g],!0),u.index=ir.collectionReadTimeIndex}return nf(t).$t(u,(function(x,b,_){if(x.length===c){var S=WT(i.R,b);n.path.isPrefixOf(S.key.path)?r1(n,S)&&(s=s.insert(S.key,S)):_.done()}})).next((function(){return s}))},e.prototype.newChangeBuffer=function(t){return new YP(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next((function(n){return n.byteSize}))},e.prototype.getMetadata=function(t){return uC(t).get(Ol.key).next((function(n){return dt(!!n),n}))},e.prototype.me=function(t,n){return uC(t).put(Ol.key,n)},e.prototype.ye=function(t,n){if(n){var r=WT(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Ft.min()))return r}return qi.newInvalidDocument(t)},e})(),YP=(function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Xm((function(s){return s.toString()}),(function(s,c){return s.isEqual(c)})),i}return ot(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,c=new jr((function(u,h){return jt(u.canonicalString(),h.canonicalString())}));return this.changes.forEach((function(u,h){var p=r.Ae.get(u);if(h.document.isValidDocument()){var g=rC(r.Ie.R,h.document,r.getReadTime(u));c=c.add(u.path.popLast());var x=S_(g);s+=x-p,i.push(r.Ie.addEntry(n,u,g))}else if(s-=p,r.trackRemovals){var b=rC(r.Ie.R,qi.newNoDocument(u,Ft.min()),r.getReadTime(u));i.push(r.Ie.addEntry(n,u,b))}else i.push(r.Ie.removeEntry(n,u))})),c.forEach((function(u){i.push(r.Ie.Ut.addToCollectionParentIndex(n,u))})),i.push(this.Ie.updateMetadata(n,s)),je.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next((function(s){return i.Ae.set(r,s.size),s.document}))},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next((function(s){var c=s.documents;return s.Te.forEach((function(u,h){i.Ae.set(u,h)})),c}))},t})(PO);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(e){return Ua(e,Ol.store)}function nf(e){return Ua(e,ir.store)}function pw(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $P=(function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;dt(r<i&&r>=0&&i<=11);var c=new RO("createOrUpgrade",n);r<1&&i>=1&&((function(h){h.createObjectStore(as.store)})(t),(function(h){h.createObjectStore(pf.store,{keyPath:pf.keyPath}),h.createObjectStore(Dn.store,{keyPath:Dn.keyPath,autoIncrement:!0}).createIndex(Dn.userMutationsIndex,Dn.userMutationsKeyPath,{unique:!0}),h.createObjectStore(Li.store)})(t),fC(t),(function(h){h.createObjectStore(ir.store)})(t));var u=je.resolve();return r<3&&i>=3&&(r!==0&&((function(h){h.deleteObjectStore(hi.store),h.deleteObjectStore(Oa.store),h.deleteObjectStore(ss.store)})(t),fC(t)),u=u.next((function(){return(function(h){var p=h.store(ss.store),g=new ss(0,0,Ft.min().toTimestamp(),0);return p.put(ss.key,g)})(c)}))),r<4&&i>=4&&(r!==0&&(u=u.next((function(){return(function(h,p){return p.store(Dn.store).Nt().next((function(g){h.deleteObjectStore(Dn.store),h.createObjectStore(Dn.store,{keyPath:Dn.keyPath,autoIncrement:!0}).createIndex(Dn.userMutationsIndex,Dn.userMutationsKeyPath,{unique:!0});var x=p.store(Dn.store),b=g.map((function(_){return x.put(_)}));return je.waitFor(b)}))})(t,c)}))),u=u.next((function(){(function(h){h.createObjectStore(jc.store,{keyPath:jc.keyPath})})(t)}))),r<5&&i>=5&&(u=u.next((function(){return s.Re(c)}))),r<6&&i>=6&&(u=u.next((function(){return(function(h){h.createObjectStore(Ol.store)})(t),s.be(c)}))),r<7&&i>=7&&(u=u.next((function(){return s.ve(c)}))),r<8&&i>=8&&(u=u.next((function(){return s.Pe(t,c)}))),r<9&&i>=9&&(u=u.next((function(){(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(t),(function(h){var p=h.objectStore(ir.store);p.createIndex(ir.readTimeIndex,ir.readTimeIndexPath,{unique:!1}),p.createIndex(ir.collectionReadTimeIndex,ir.collectionReadTimeIndexPath,{unique:!1})})(n)}))),r<10&&i>=10&&(u=u.next((function(){return s.Ve(c)}))),r<11&&i>=11&&(u=u.next((function(){(function(h){h.createObjectStore(km.store,{keyPath:km.keyPath})})(t),(function(h){h.createObjectStore(Nm.store,{keyPath:Nm.keyPath})})(t)}))),u},e.prototype.be=function(t){var n=0;return t.store(ir.store).$t((function(r,i){n+=S_(i)})).next((function(){var r=new Ol(n);return t.store(Ol.store).put(Ol.key,r)}))},e.prototype.Re=function(t){var n=this,r=t.store(pf.store),i=t.store(Dn.store);return r.Nt().next((function(s){return je.forEach(s,(function(c){var u=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return i.Nt(Dn.userMutationsIndex,u).next((function(h){return je.forEach(h,(function(p){dt(p.userId===c.userId);var g=rm(n.R,p);return MO(t,c.userId,g).next((function(){}))}))}))}))}))},e.prototype.ve=function(t){var n=t.store(hi.store),r=t.store(ir.store);return t.store(ss.store).get(ss.key).next((function(i){var s=[];return r.$t((function(c,u){var h=new nn(c),p=(function(g){return[0,Bo(g)]})(h);s.push(n.get(p).next((function(g){return g?je.resolve():(function(x){return n.put(new hi(0,Bo(x),i.highestListenSequenceNumber))})(h)})))})).next((function(){return je.waitFor(s)}))}))},e.prototype.Pe=function(t,n){t.createObjectStore(Sd.store,{keyPath:Sd.keyPath});var r=n.store(Sd.store),i=new yA,s=function(c){if(i.add(c)){var u=c.lastSegment(),h=c.popLast();return r.put({collectionId:u,parent:Bo(h)})}};return n.store(ir.store).$t({Ft:!0},(function(c,u){var h=new nn(c);return s(h.popLast())})).next((function(){return n.store(Li.store).$t({Ft:!0},(function(c,u){c[0];var h=c[1];c[2];var p=Ic(h);return s(p.popLast())}))}))},e.prototype.Ve=function(t){var n=this,r=t.store(Oa.store);return r.$t((function(i,s){var c=Ax(s),u=OO(n.R,c);return r.put(u)}))},e})();function fC(e){e.createObjectStore(hi.store,{keyPath:hi.keyPath}).createIndex(hi.documentTargetsIndex,hi.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Oa.store,{keyPath:Oa.keyPath}).createIndex(Oa.queryTargetsIndexName,Oa.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ss.store)}var GS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",QP=(function(){function e(t,n,r,i,s,c,u,h,p,g){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=c,this.document=u,this.De=p,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(x){return Promise.resolve()},!e.yt())throw new Oe(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XP(this,i),this.Le=n+"main",this.R=new DO(h),this.Be=new Cm(this.Le,11,new $P(this.R)),this.qe=new HP(this.referenceDelegate,this.R),this.Ut=new zP,this.Ue=(function(x,b){return new KP(x,b)})(this.R,this.Ut),this.Ke=new BP,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&Tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Oe(ge.FAILED_PRECONDITION,GS);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(n){return t.qe.getHighestSequenceNumber(n)}))})).then((function(n){t.Ne=new hs(n,t.De)})).then((function(){t.xe=!0})).catch((function(n){return t.Be&&t.Be.close(),Promise.reject(n)}))},e.prototype.He=function(t){var n=this;return this.Me=function(r){return ke(n,void 0,void 0,(function(){return Ae(this,(function(i){return this.started?[2,t(r)]:[2]}))}))},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt((function(r){return ke(n,void 0,void 0,(function(){return Ae(this,(function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return ke(n,void 0,void 0,(function(){return Ae(this,(function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(n){return mw(n).put(new jc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(n).next((function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(n)})).next((function(r){return t.isPrimary&&!r?t.Xe(n).next((function(){return!1})):!!r&&t.Ze(n).next((function(){return!0}))}))})).catch((function(n){if($d(n))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1})).then((function(n){t.isPrimary!==n&&t.Se.enqueueRetryable((function(){return t.Me(n)})),t.isPrimary=n}))},e.prototype.Je=function(t){var n=this;return xx(t).get(as.key).next((function(r){return je.resolve(n.tn(r))}))},e.prototype.en=function(t){return mw(t).delete(this.clientId)},e.prototype.nn=function(){return ke(this,void 0,void 0,(function(){var t,n,r,i,s=this;return Ae(this,(function(c){switch(c.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(u){var h=Ua(u,jc.store);return h.Nt().next((function(p){var g=s.rn(p,18e5),x=p.filter((function(b){return g.indexOf(b)===-1}));return je.forEach(x,(function(b){return h.delete(b.clientId)})).next((function(){return x}))}))})).catch((function(){return[]}))]);case 1:if(t=c.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));c.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?je.resolve(!0):xx(t).get(as.key).next((function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new Oe(ge.FAILED_PRECONDITION,GS);return!1}}return!(!n.networkEnabled||!n.inForeground)||mw(t).Nt().next((function(i){return n.rn(i,5e3).find((function(s){if(n.clientId!==s.clientId){var c=!n.networkEnabled&&s.networkEnabled,u=!n.inForeground&&s.inForeground,h=n.networkEnabled===s.networkEnabled;if(c||u&&h)return!0}return!1}))===void 0}))})).next((function(r){return n.isPrimary!==r&&Pe("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r}))},e.prototype.shutdown=function(){return ke(this,void 0,void 0,(function(){var t=this;return Ae(this,(function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[as.store,jc.store],(function(r){var i=new nC(r,hs.o);return t.Xe(i).next((function(){return t.en(i)}))}))];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(t,n){var r=this;return t.filter((function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)}))},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(n){return mw(n).Nt().next((function(r){return t.rn(r,18e5).map((function(i){return i.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return VP.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;Pe("IndexedDbPersistence","Starting transaction:",t);var s,c=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,c,MP,(function(u){return s=new nC(u,i.Ne?i.Ne.next():hs.o),n==="readwrite-primary"?i.Je(s).next((function(h){return!!h||i.Ye(s)})).next((function(h){if(!h)throw Tr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Oe(ge.FAILED_PRECONDITION,NO);return r(s)})).next((function(h){return i.Ze(s).next((function(){return h}))})):i.dn(s).next((function(){return r(s)}))})).then((function(u){return s.raiseOnCommittedEvent(),u}))},e.prototype.dn=function(t){var n=this;return xx(t).get(as.key).next((function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new Oe(ge.FAILED_PRECONDITION,GS)}))},e.prototype.Ze=function(t){var n=new as(this.clientId,this.allowTabSynchronization,Date.now());return xx(t).put(as.key,n)},e.yt=function(){return Cm.yt()},e.prototype.Xe=function(t){var n=this,r=xx(t);return r.get(as.key).next((function(i){return n.tn(i)?(Pe("IndexedDbPersistence","Releasing primary lease."),r.delete(as.key)):je.resolve()}))},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Tr("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground=t.document.visibilityState==="visible",t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),i8()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget((function(){return n.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return Pe("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Tr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Tr("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e})();function xx(e){return Ua(e,as.store)}function mw(e){return Ua(e,jc.store)}function bA(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var BO=(function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next((function(i){return r.yn(t,n,i)}))},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next((function(i){for(var s=0,c=r;s<c.length;s++)c[s].applyToLocalView(i);return i}))},e.prototype.gn=function(t,n){t.forEach((function(r,i){for(var s=0,c=n;s<c.length;s++)c[s].applyToLocalView(i)}))},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next((function(i){return r.En(t,i).next((function(){return i}))}))},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next((function(i){return r.gn(n,i)}))},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return(function(i){return nt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0})(n)?this.Tn(t,n.path):fA(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new nt(n)).next((function(r){var i=qT();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,c=qT();return this.Ut.getCollectionParents(t,s).next((function(u){return je.forEach(u,(function(h){var p=(function(g,x){return new Wc(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,h.child(s));return i.An(t,p,r).next((function(g){g.forEach((function(x,b){c=c.insert(x,b)}))}))})).next((function(){return c}))}))},e.prototype.An=function(t,n,r){var i,s,c=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next((function(u){return i=u,c._n.getAllMutationBatchesAffectingQuery(t,n)})).next((function(u){return s=u,c.Rn(t,s,i).next((function(h){i=h;for(var p=0,g=s;p<g.length;p++)for(var x=g[p],b=0,_=x.mutations;b<_.length;b++){var S=_[b],E=S.key,T=i.get(E);T==null&&(T=qi.newInvalidDocument(E),i=i.insert(E,T)),HT(S,T,x.localWriteTime),T.isFoundDocument()||(i=i.remove(E))}}))})).next((function(){return i.forEach((function(u,h){r1(n,h)||(i=i.remove(u))})),i}))},e.prototype.Rn=function(t,n,r){for(var i=kn(),s=0,c=n;s<c.length;s++)for(var u=0,h=c[s].mutations;u<h.length;u++){var p=h[u];p instanceof Nf&&r.get(p.key)===null&&(i=i.add(p.key))}var g=r;return this.Ue.getEntries(t,i).next((function(x){return x.forEach((function(b,_){_.isFoundDocument()&&(g=g.insert(b,_))})),g}))},e})(),JP=(function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=kn(),i=kn(),s=0,c=n.docChanges;s<c.length;s++){var u=c[s];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new e(t,n.fromCache,r,i)},e})(),UO=(function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return(function(c){return c.filters.length===0&&c.limit===null&&c.startAt==null&&c.endAt==null&&(c.explicitOrderBy.length===0||c.explicitOrderBy.length===1&&c.explicitOrderBy[0].field.isKeyField())})(n)||r.isEqual(Ft.min())?this.Dn(t,n):this.Sn.pn(t,i).next((function(c){var u=s.Cn(n,c);return(Yw(n)||__(n))&&s.Nn(n.limitType,u,i,r)?s.Dn(t,n):(BT()<=Qt.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),VT(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next((function(h){return u.forEach((function(p){h=h.insert(p.key,p)})),h})))}))},e.prototype.Cn=function(t,n){var r=new jr(sO(t));return n.forEach((function(i,s){r1(t,s)&&(r=r.add(s))})),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return BT()<=Qt.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",VT(n)),this.Sn.getDocumentsMatchingQuery(t,n,Ft.min())},e})(),ZP=(function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new Wi(jt),this.Fn=new Xm((function(s){return e1(s)}),_E),this.$n=Ft.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new BO(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(r){return t.collect(r,n.kn)}))},e})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(e,t,n,r){return new ZP(e,t,n,r)}function VO(e,t){return ke(this,void 0,void 0,(function(){var n,r,i,s;return Ae(this,(function(c){switch(c.label){case 0:return n=Xe(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(u){var h;return n._n.getAllMutationBatches(u).next((function(p){return h=p,r=n.persistence.getMutationQueue(t),i=new BO(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(u)})).next((function(p){for(var g=[],x=[],b=kn(),_=0,S=h;_<S.length;_++){var E=S[_];g.push(E.batchId);for(var T=0,k=E.mutations;T<k.length;T++){var R=k[T];b=b.add(R.key)}}for(var A=0,O=p;A<O.length;A++){var I=O[A];x.push(I.batchId);for(var M=0,C=I.mutations;M<C.length;M++){var z=C[M];b=b.add(z.key)}}return i.pn(u,b).next((function(B){return{Ln:B,removedBatchIds:g,addedBatchIds:x}}))}))}))];case 1:return s=c.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}}))}))}function eB(e,t){var n=Xe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,p){var g=h.batch,x=g.keys(),b=je.resolve();return x.forEach((function(_){b=b.next((function(){return p.getEntry(u,_)})).next((function(S){var E=h.docVersions.get(_);dt(E!==null),S.version.compareTo(E)<0&&(g.applyToRemoteDocument(S,h),S.isValidDocument()&&p.addEntry(S,h.commitVersion))}))})),b.next((function(){return c._n.removeMutationBatch(u,g)}))})(n,r,t,s).next((function(){return s.apply(r)})).next((function(){return n._n.performConsistencyCheck(r)})).next((function(){return n.Mn.pn(r,i)}))}))}function HO(e){var t=Xe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(n){return t.qe.getLastRemoteSnapshotVersion(n)}))}function tB(e,t){var n=Xe(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(s){var c=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var u=[];t.targetChanges.forEach((function(g,x){var b=i.get(x);if(b){u.push(n.qe.removeMatchingKeys(s,g.removedDocuments,x).next((function(){return n.qe.addMatchingKeys(s,g.addedDocuments,x)})));var _=g.resumeToken;if(_.approximateByteSize()>0){var S=b.withResumeToken(_,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(x,S),(function(E,T,k){return dt(T.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(b,S,g)&&u.push(n.qe.updateTargetData(s,S))}}}));var h=Po();if(t.documentUpdates.forEach((function(g,x){t.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))})),u.push(nB(s,c,t.documentUpdates,r).next((function(g){h=g}))),!r.isEqual(Ft.min())){var p=n.qe.getLastRemoteSnapshotVersion(s).next((function(g){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)}));u.push(p)}return je.waitFor(u).next((function(){return c.apply(s)})).next((function(){return n.Mn.En(s,h)})).next((function(){return h}))})).then((function(s){return n.kn=i,s}))}function nB(e,t,n,r,i){var s=kn();return n.forEach((function(c){return s=s.add(c)})),t.getEntries(e,s).next((function(c){var u=Po();return n.forEach((function(h,p){var g=c.get(h),x=r;p.isNoDocument()&&p.version.isEqual(Ft.min())?(t.removeEntry(h,x),u=u.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p,x),u=u.insert(h,p)):Pe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)})),u}))}function rB(e,t){var n=Xe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)}))}function A_(e,t){var n=Xe(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(r){var i;return n.qe.getTargetData(r,t).next((function(s){return s?(i=s,je.resolve(i)):n.qe.allocateTargetId(r).next((function(c){return i=new AE(t,c,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next((function(){return i}))}))}))})).then((function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r}))}function Im(e,t,n){return ke(this,void 0,void 0,(function(){var r,i,s,c;return Ae(this,(function(u){switch(u.label){case 0:r=Xe(e),i=r.kn.get(t),s=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(h){return r.persistence.referenceDelegate.removeTarget(h,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!$d(c=u.sent()))throw c;return Pe("LocalStore","Failed to update sequence numbers for target "+t+": "+c),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function k_(e,t,n){var r=Xe(e),i=Ft.min(),s=kn();return r.persistence.runTransaction("Execute query","readonly",(function(c){return(function(u,h,p){var g=Xe(u),x=g.Fn.get(p);return x!==void 0?je.resolve(g.kn.get(x)):g.qe.getTargetData(h,p)})(r,c,Bl(t)).next((function(u){if(u)return i=u.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(c,u.targetId).next((function(h){s=h}))})).next((function(){return r.xn.getDocumentsMatchingQuery(c,t,n?i:Ft.min(),n?s:kn())})).next((function(u){return{documents:u,Bn:s}}))}))}function qO(e,t){var n=Xe(e),r=Xe(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(s){return r.lt(s,t).next((function(c){return c?c.target:null}))}))}function GO(e){var t=Xe(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(n){return(function(r,i,s){var c=Xe(r),u=Po(),h=xA(s),p=nf(i),g=IDBKeyRange.lowerBound(h,!0);return p.$t({index:ir.readTimeIndex,range:g},(function(x,b){var _=WT(c.R,b);u=u.insert(_.key,_),h=b.readTime})).next((function(){return{wn:u,readTime:IO(h)}}))})(t.On,n,t.$n)})).then((function(n){var r=n.wn,i=n.readTime;return t.$n=i,r}))}function iB(e){return ke(this,void 0,void 0,(function(){var t;return Ae(this,(function(n){return[2,(t=Xe(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(r){return(function(i){var s=nf(i),c=Ft.min();return s.$t({index:ir.readTimeIndex,reverse:!0},(function(u,h,p){h.readTime&&(c=IO(h.readTime)),p.done()})).next((function(){return c}))})(r)})).then((function(r){t.$n=r}))]}))}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aB=(function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return je.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:ha(r.createTime)}),je.resolve()},e.prototype.getNamedQuery=function(t,n){return je.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,(function(r){return{name:r.name,query:FO(r.bundledQuery),readTime:ha(r.readTime)}})(n)),je.resolve()},e})(),wA=(function(){function e(){this.Wn=new jr(qr.Gn),this.zn=new jr(qr.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new qr(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach((function(i){return r.addReference(i,n)}))},e.prototype.removeReference=function(t,n){this.Yn(new qr(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach((function(i){return r.removeReference(i,n)}))},e.prototype.Zn=function(t){var n=this,r=new nt(new nn([])),i=new qr(r,t),s=new qr(r,t+1),c=[];return this.zn.forEachInRange([i,s],(function(u){n.Yn(u),c.push(u.key)})),c},e.prototype.ts=function(){var t=this;this.Wn.forEach((function(n){return t.Yn(n)}))},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new nt(new nn([])),r=new qr(n,t),i=new qr(n,t+1),s=kn();return this.zn.forEachInRange([r,i],(function(c){s=s.add(c.key)})),s},e.prototype.containsKey=function(t){var n=new qr(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e})(),qr=(function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return nt.comparator(t.key,n.key)||jt(t.ns,n.ns)},e.Hn=function(t,n){return jt(t.ns,n.ns)||nt.comparator(t.key,n.key)},e})(),sB=(function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new jr(qr.Gn)}return e.prototype.checkEmpty=function(t){return je.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var c=new vA(s,n,r,i);this._n.push(c);for(var u=0,h=i;u<h.length;u++){var p=h[u];this.rs=this.rs.add(new qr(p.key,s)),this.Ut.addToCollectionParentIndex(t,p.key.path.popLast())}return je.resolve(c)},e.prototype.lookupMutationBatch=function(t,n){return je.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return je.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return je.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return je.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new qr(n,0),s=new qr(n,Number.POSITIVE_INFINITY),c=[];return this.rs.forEachInRange([i,s],(function(u){var h=r.os(u.ns);c.push(h)})),je.resolve(c)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new jr(jt);return n.forEach((function(s){var c=new qr(s,0),u=new qr(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([c,u],(function(h){i=i.add(h.ns)}))})),je.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;nt.isDocumentKey(s)||(s=s.child(""));var c=new qr(new nt(s),0),u=new jr(jt);return this.rs.forEachWhile((function(h){var p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(h.ns)),!0)}),c),je.resolve(this.us(u))},e.prototype.us=function(t){var n=this,r=[];return t.forEach((function(i){var s=n.os(i);s!==null&&r.push(s)})),r},e.prototype.removeMutationBatch=function(t,n){var r=this;dt(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return je.forEach(n.mutations,(function(s){var c=new qr(s.key,n.batchId);return i=i.delete(c),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((function(){r.rs=i}))},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new qr(n,0),i=this.rs.firstAfterOrEqual(r);return je.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,je.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e})(),oB=(function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Wi(nt.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),c=s?s.size:0,u=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:u,readTime:r}),this.size+=u-c,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return je.resolve(r?r.document.clone():qi.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=Po();return n.forEach((function(s){var c=r.docs.get(s);i=i.insert(s,c?c.document.clone():qi.newInvalidDocument(s))})),je.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Po(),s=new nt(n.path.child("")),c=this.docs.getIteratorFrom(s);c.hasNext();){var u=c.getNext(),h=u.key,p=u.value,g=p.document,x=p.readTime;if(!n.path.isPrefixOf(h.path))break;x.compareTo(r)<=0||r1(n,g)&&(i=i.insert(g.key,g.clone()))}return je.resolve(i)},e.prototype.fs=function(t,n){return je.forEach(this.docs,(function(r){return n(r)}))},e.prototype.newChangeBuffer=function(t){return new lB(this)},e.prototype.getSize=function(t){return je.resolve(this.size)},e})(),lB=(function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return ot(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach((function(s,c){c.document.isValidDocument()?i.push(r.Ie.addEntry(n,c.document,r.getReadTime(s))):r.Ie.removeEntry(s)})),je.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t})(PO),cB=(function(){function e(t){this.persistence=t,this.ds=new Xm((function(n){return e1(n)}),_E),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.ws=0,this._s=new wA,this.targetCount=0,this.ys=T_.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach((function(r,i){return n(i)})),je.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return je.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return je.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),je.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),je.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new T_(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,je.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),je.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,je.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,c=[];return this.ds.forEach((function(u,h){h.sequenceNumber<=n&&r.get(h.targetId)===null&&(i.ds.delete(u),c.push(i.removeMatchingKeysForTargetId(t,h.targetId)),s++)})),je.waitFor(c).next((function(){return s}))},e.prototype.getTargetCount=function(t){return je.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return je.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),je.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((function(c){s.push(i.markPotentiallyOrphaned(t,c))})),je.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),je.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return je.resolve(r)},e.prototype.containsKey=function(t,n){return je.resolve(this._s.containsKey(n))},e})(),uB=(function(){function e(t,n){var r=this;this.gs={},this.Ne=new hs(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new cB(this),this.Ut=new UP,this.Ue=(function(i,s){return new oB(i,(function(c){return r.referenceDelegate.ps(c)}))})(this.Ut),this.R=new DO(n),this.Ke=new aB(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new sB(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;Pe("MemoryPersistence","Starting transaction:",t);var s=new fB(this.Ne.next());return this.referenceDelegate.Es(),r(s).next((function(c){return i.referenceDelegate.Ts(s).next((function(){return c}))})).toPromise().then((function(c){return s.raiseOnCommittedEvent(),c}))},e.prototype.Is=function(t,n){return je.or(Object.values(this.gs).map((function(r){return function(){return r.containsKey(t,n)}})))},e})(),fB=(function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return ot(t,e),t})(CO),hB=(function(){function e(t){this.persistence=t,this.As=new wA,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw et()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),je.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),je.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),je.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach((function(s){return r.vs.add(s.toString())}));var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next((function(s){s.forEach((function(c){return r.vs.add(c.toString())}))})).next((function(){return i.removeTargetData(t,n)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.vs,(function(i){var s=nt.fromPath(i);return n.Ps(t,s).next((function(c){c||r.removeEntry(s)}))})).next((function(){return n.Rs=null,r.apply(t)}))},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next((function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())}))},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return je.or([function(){return je.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e})(),ci=(function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(e,t){return"firestore_clients_"+e+"_"+t}function dC(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function WS(e,t){return"firestore_targets_"+e+"_"+t}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");var pC=(function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),c=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return c&&s.error&&(c=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new Oe(s.error.code,s.error.message)),c?new e(t,n,s.state,i):(Tr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e})(),XS=(function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new Oe(i.error.code,i.error.message)),s?new e(t,i.state,r):(Tr("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e})(),mC=(function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=TE(),c=0;i&&c<r.activeTargetIds.length;++c)i=eO(r.activeTargetIds[c]),s=s.add(r.activeTargetIds[c]);return i?new e(t,s):(Tr("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e})(),dB=(function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Tr("SharedClientState","Failed to parse online state: "+t),null)},e})(),XT=(function(){function e(){this.activeTargetIds=TE()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e})(),KS=(function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Wi(jt),this.started=!1,this.$s=[];var c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=hC(this.persistenceKey,this.Ns),this.Ms=(function(u){return"firestore_sequence_number_"+u})(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new XT),this.Ls=new RegExp("^firestore_clients_"+c+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+c+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+c+"_(\\d+)$"),this.Us=(function(u){return"firestore_online_state_"+u})(this.persistenceKey),this.Ks=(function(u){return"firestore_bundle_loaded_"+u})(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return ke(this,void 0,void 0,(function(){var t,n,r,i,s,c,u,h,p,g,x,b=this;return Ae(this,(function(_){switch(_.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=_.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(hC(this.persistenceKey,i)))&&(c=mC.Vs(i,s))&&(this.Fs=this.Fs.insert(c.clientId,c));for(this.Qs(),(u=this.storage.getItem(this.Us))&&(h=this.js(u))&&this.Ws(h),p=0,g=this.$s;p<g.length;p++)x=g[p],this.ks(x);return this.$s=[],this.window.addEventListener("pagehide",(function(){return b.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach((function(r,i){i.activeTargetIds.has(t)&&(n=!0)})),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(WS(this.persistenceKey,t));if(r){var i=XS.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(WS(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach((function(s){i.Hs(s)})),this.currentUser=t,r.forEach((function(s){i.addPendingMutation(s)}))},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return Pe("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){Pe("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){Pe("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return ke(n,void 0,void 0,(function(){var i,s,c,u,h,p;return Ae(this,(function(g){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(c=this.si(r.key,r.newValue)))return[2,this.ii(c)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(u=this.ri(r.key,r.newValue)))return[2,this.oi(u)]}else if(r.key===this.Us){if(r.newValue!==null&&(h=this.js(r.newValue)))return[2,this.Ws(h)]}else if(r.key===this.Ms)(p=(function(x){var b=hs.o;if(x!=null)try{var _=JSON.parse(x);dt(typeof _=="number"),b=_}catch(S){Tr("SharedClientState","Failed to read sequence number from WebStorage",S)}return b})(r.newValue))!==hs.o&&this.sequenceNumberHandler(p);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new pC(this.currentUser,t,n,r),s=dC(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=dC(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=WS(this.persistenceKey,t),s=new XS(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return mC.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return pC.Vs(new ci(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return XS.Vs(i,n)},e.prototype.js=function(t){return dB.Vs(t)},e.prototype.ii=function(t){return ke(this,void 0,void 0,(function(){return Ae(this,(function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Pe("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),c=this.Gs(i),u=[],h=[];return c.forEach((function(p){s.has(p)||u.push(p)})),s.forEach((function(p){c.has(p)||h.push(p)})),this.syncEngine.hi(u,h).then((function(){r.Fs=i}))},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=TE();return t.forEach((function(r,i){n=n.unionWith(i.activeTargetIds)})),n},e})(),WO=(function(){function e(){this.li=new XT,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new XT,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e})(),pB=(function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e})(),gC=(function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e})(),mB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gB=(function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e})(),vB=(function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return ot(t,e),t.prototype.Fi=function(n,r,i,s){return new Promise((function(c,u){var h=new X5;h.listenOnce(q5.COMPLETE,(function(){try{switch(h.getLastErrorCode()){case qS.NO_ERROR:var g=h.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(g)),c(g);break;case qS.TIMEOUT:Pe("Connection",'RPC "'+n+'" timed out'),u(new Oe(ge.DEADLINE_EXCEEDED,"Request time out"));break;case qS.HTTP_ERROR:var x=h.getStatus();if(Pe("Connection",'RPC "'+n+'" failed with status:',x,"response text:",h.getResponseText()),x>0){var b=h.getResponseJson().error;if(b&&b.status&&b.message){var _=(function(S){var E=S.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(E)>=0?E:ge.UNKNOWN})(b.status);u(new Oe(_,b.message))}else u(new Oe(ge.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Oe(ge.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Pe("Connection",'RPC "'+n+'" completed.')}}));var p=JSON.stringify(s);h.send(r,"POST",p,i,15)}))},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=V5(),c=H5(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new W5({})),this.ki(u.initMessageHeaders,r),Q6()||e8()||t8()||n8()||r8()||Z6()||(u.httpHeadersOverwriteParam="$httpHeaders");var h=i.join("");Pe("Connection","Creating WebChannel: "+h,u);var p=s.createWebChannel(h,u),g=!1,x=!1,b=new gB({Ei:function(S){x?Pe("Connection","Not sending because WebChannel is closed:",S):(g||(Pe("Connection","Opening WebChannel transport."),p.open(),g=!0),Pe("Connection","WebChannel sending:",S),p.send(S))},Ti:function(){return p.close()}}),_=function(S,E,T){S.listen(E,(function(k){try{T(k)}catch(R){setTimeout((function(){throw R}),0)}}))};return _(p,fw.EventType.OPEN,(function(){x||Pe("Connection","WebChannel transport opened.")})),_(p,fw.EventType.CLOSE,(function(){x||(x=!0,Pe("Connection","WebChannel transport closed"),b.Vi())})),_(p,fw.EventType.ERROR,(function(S){x||(x=!0,v_("Connection","WebChannel transport errored:",S),b.Vi(new Oe(ge.UNAVAILABLE,"The operation could not be completed")))})),_(p,fw.EventType.MESSAGE,(function(S){var E;if(!x){var T=S.data[0];dt(!!T);var k=T,R=k.error||((E=k[0])===null||E===void 0?void 0:E.error);if(R){Pe("Connection","WebChannel received error:",R);var A=R.status,O=(function(M){var C=wr[M];if(C!==void 0)return gO(C)})(A),I=R.message;O===void 0&&(O=ge.INTERNAL,I="Unknown error status: "+A+" with message "+R.message),x=!0,b.Vi(new Oe(O,I)),p.close()}else Pe("Connection","WebChannel received:",T),b.Si(T)}})),_(c,G5.STAT_EVENT,(function(S){S.stat===ON.PROXY?Pe("Connection","Detected buffering proxy"):S.stat===ON.NOPROXY&&Pe("Connection","Detected no buffering proxy")})),setTimeout((function(){b.Pi()}),0),b},t})((function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);Pe("RestConnection","Sending: ",s,r);var c={};return this.ki(c,i),this.Fi(t,s,c,r).then((function(u){return Pe("RestConnection","Received: ",u),u}),(function(u){throw v_("RestConnection",t+" failed with error: ",u,"url: ",s,"request:",r),u}))},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=mB[t];return this.Di+"/v1/"+n+":"+r},e})());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){return typeof window<"u"?window:null}function Jw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(e){return new EP(e,!0)}var _A=(function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&Pe("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,(function(){return n.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e})(),KO=(function(){function e(t,n,r,i,s,c){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=c,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new _A(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return ke(this,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return ke(this,void 0,void 0,(function(){return Ae(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return ke(this,void 0,void 0,(function(){return Ae(this,(function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===ge.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then((function(i){t.Yi===r&&t.lr(i)}),(function(i){n((function(){var s=new Oe(ge.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)}))}))},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){r((function(){return n.state=2,n.listener.Ii()}))})),this.stream.Ri((function(i){r((function(){return n.dr(i)}))})),this.stream.onMessage((function(i){r((function(){return n.onMessage(i)}))}))},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return ke(t,void 0,void 0,(function(){return Ae(this,(function(n){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(t){return Pe("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget((function(){return n.Yi===t?r():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e})(),xB=(function(e){function t(n,r,i,s,c){var u=this;return(u=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,c)||this).R=s,u}return ot(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=(function(s,c){var u;if("targetChange"in c){c.targetChange;var h=(function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:et()})(c.targetChange.targetChangeType||"NO_CHANGE"),p=c.targetChange.targetIds||[],g=(function(T,k){return T.I?(dt(k===void 0||typeof k=="string"),ja.fromBase64String(k||"")):(dt(k===void 0||k instanceof Uint8Array),ja.fromUint8Array(k||new Uint8Array))})(s,c.targetChange.resumeToken),x=(b=c.targetChange.cause)&&(function(T){var k=T.code===void 0?ge.UNKNOWN:gO(T.code);return new Oe(k,T.message||"")})(b);u=new xO(h,p,g,x||null)}else if("documentChange"in c){c.documentChange,(h=c.documentChange).document,h.document.name,h.document.updateTime,p=Lc(s,h.document.name),g=ha(h.document.updateTime);var b=new cs({mapValue:{fields:h.document.fields}}),_=(x=qi.newFoundDocument(p,g,b),h.targetIds||[]),S=h.removedTargetIds||[];u=new Qw(_,S,x.key,x)}else if("documentDelete"in c)c.documentDelete,(h=c.documentDelete).document,p=Lc(s,h.document),g=h.readTime?ha(h.readTime):Ft.min(),b=qi.newNoDocument(p,g),x=h.removedTargetIds||[],u=new Qw([],x,b.key,b);else if("documentRemove"in c)c.documentRemove,(h=c.documentRemove).document,p=Lc(s,h.document),g=h.removedTargetIds||[],u=new Qw([],g,p,null);else{if(!("filter"in c))return et();c.filter;var E=c.filter;E.targetId,h=E.count||0,p=new dP(h),g=E.targetId,u=new vO(g,p)}return u})(this.R,n),i=(function(s){if(!("targetChange"in s))return Ft.min();var c=s.targetChange;return c.targetIds&&c.targetIds.length?Ft.min():c.readTime?ha(c.readTime):Ft.min()})(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=py(this.R),r.addTarget=(function(s,c){var u,h=c.target;return(u=b_(h)?{documents:EO(s,h)}:{query:SO(s,h)}).targetId=c.targetId,c.resumeToken.approximateByteSize()>0?u.resumeToken=yO(s,c.resumeToken):c.snapshotVersion.compareTo(Ft.min())>0&&(u.readTime=hy(s,c.snapshotVersion.toTimestamp())),u})(this.R,n);var i=(function(s,c){var u=(function(h,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}})(0,c.purpose);return u==null?null:{"goog-listen-tags":u}})(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=py(this.R),r.removeTarget=n,this.cr(r)},t})(KO),yB=(function(e){function t(n,r,i,s,c){var u=this;return(u=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,c)||this).R=s,u.gr=!1,u}return ot(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(dt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=(function(s,c){return s&&s.length>0?(dt(c!==void 0),s.map((function(u){return(function(h,p){var g=h.updateTime?ha(h.updateTime):ha(p);return g.isEqual(Ft.min())&&(g=ha(p)),new uP(g,h.transformResults||[])})(u,c)}))):[]})(n.writeResults,n.commitTime),i=ha(n.commitTime);return this.listener.Tr(i,r)}return dt(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=py(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map((function(s){return E_(r.R,s)}))};this.cr(i)},t})(KO),bB=(function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return ot(t,e),t.prototype.br=function(){if(this.Rr)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then((function(c){return s.Hi.Ni(n,r,i,c)})).catch((function(c){throw c.name==="FirebaseError"?(c.code===ge.UNAUTHENTICATED&&s.credentials.invalidateToken(),c):new Oe(ge.UNKNOWN,c.toString())}))},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then((function(c){return s.Hi.$i(n,r,i,c)})).catch((function(c){throw c.name==="FirebaseError"?(c.code===ge.UNAUTHENTICATED&&s.credentials.invalidateToken(),c):new Oe(ge.UNKNOWN,c.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t})((function(){})),wB=(function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Tr(n),this.Vr=!1):Pe("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e})(),_B=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(c){n.enqueueAndForget((function(){return ke(s,void 0,void 0,(function(){return Ae(this,(function(u){switch(u.label){case 0:return Cf(this)?(Pe("RemoteStore","Restarting streams for network reachability change."),[4,(function(h){return ke(this,void 0,void 0,(function(){var p;return Ae(this,(function(g){switch(g.label){case 0:return(p=Xe(h)).Or.add(4),[4,Km(p)];case 1:return g.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,o1(p)];case 2:return g.sent(),[2]}}))}))})(this)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}}))}))}))})),this.Br=new wB(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(e){return ke(this,void 0,void 0,(function(){var t,n;return Ae(this,(function(r){switch(r.label){case 0:if(!Cf(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Km(e){return ke(this,void 0,void 0,(function(){var t,n;return Ae(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function NE(e,t){var n=Xe(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),TA(n)?SA(n):$m(n).er()&&EA(n,t))}function my(e,t){var n=Xe(e),r=$m(n);n.$r.delete(t),r.er()&&YO(n,t),n.$r.size===0&&(r.er()?r.ir():Cf(n)&&n.Br.set("Unknown"))}function EA(e,t){e.qr.U(t.targetId),$m(e).mr(t)}function YO(e,t){e.qr.U(t),$m(e).yr(t)}function SA(e){e.qr=new bP({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),$m(e).start(),e.Br.Sr()}function TA(e){return Cf(e)&&!$m(e).tr()&&e.$r.size>0}function Cf(e){return Xe(e).Or.size===0}function $O(e){e.qr=void 0}function EB(e){return ke(this,void 0,void 0,(function(){return Ae(this,(function(t){return e.$r.forEach((function(n,r){EA(e,n)})),[2]}))}))}function SB(e,t){return ke(this,void 0,void 0,(function(){return Ae(this,(function(n){return $O(e),TA(e)?(e.Br.Nr(t),SA(e)):e.Br.set("Unknown"),[2]}))}))}function TB(e,t,n){return ke(this,void 0,void 0,(function(){var r,i,s;return Ae(this,(function(c){switch(c.label){case 0:if(e.Br.set("Online"),!(t instanceof xO&&t.state===2&&t.cause))return[3,6];c.label=1;case 1:return c.trys.push([1,3,,5]),[4,(function(u,h){return ke(this,void 0,void 0,(function(){var p,g,x,b;return Ae(this,(function(_){switch(_.label){case 0:p=h.cause,g=0,x=h.targetIds,_.label=1;case 1:return g<x.length?(b=x[g],u.$r.has(b)?[4,u.remoteSyncer.rejectListen(b,p)]:[3,3]):[3,5];case 2:_.sent(),u.$r.delete(b),u.qr.removeTarget(b),_.label=3;case 3:_.label=4;case 4:return g++,[3,1];case 5:return[2]}}))}))})(e,t)];case 2:return c.sent(),[3,5];case 3:return r=c.sent(),Pe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,N_(e,r)];case 4:return c.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Qw?e.qr.X(t):t instanceof vO?e.qr.rt(t):e.qr.et(t),n.isEqual(Ft.min()))return[3,13];c.label=7;case 7:return c.trys.push([7,11,,13]),[4,HO(e.localStore)];case 8:return i=c.sent(),n.compareTo(i)>=0?[4,(function(u,h){var p=u.qr.ut(h);return p.targetChanges.forEach((function(g,x){if(g.resumeToken.approximateByteSize()>0){var b=u.$r.get(x);b&&u.$r.set(x,b.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach((function(g){var x=u.$r.get(g);if(x){u.$r.set(g,x.withResumeToken(ja.EMPTY_BYTE_STRING,x.snapshotVersion)),YO(u,g);var b=new AE(x.target,g,1,x.sequenceNumber);EA(u,b)}})),u.remoteSyncer.applyRemoteEvent(p)})(e,n)]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,13];case 11:return Pe("RemoteStore","Failed to raise snapshot:",s=c.sent()),[4,N_(e,s)];case 12:return c.sent(),[3,13];case 13:return[2]}}))}))}function N_(e,t,n){return ke(this,void 0,void 0,(function(){var r=this;return Ae(this,(function(i){switch(i.label){case 0:if(!$d(t))throw t;return e.Or.add(1),[4,Km(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return HO(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return ke(r,void 0,void 0,(function(){return Ae(this,(function(s){switch(s.label){case 0:return Pe("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,o1(e)];case 2:return s.sent(),[2]}}))}))})),[2]}}))}))}function QO(e,t){return t().catch((function(n){return N_(e,n,t)}))}function Ym(e){return ke(this,void 0,void 0,(function(){var t,n,r,i,s;return Ae(this,(function(c){switch(c.label){case 0:t=Xe(e),n=xf(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,c.label=1;case 1:if(!(function(u){return Cf(u)&&u.Fr.length<10})(t))return[3,7];c.label=2;case 2:return c.trys.push([2,4,,6]),[4,rB(t.localStore,r)];case 3:return(i=c.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,(function(u,h){u.Fr.push(h);var p=xf(u);p.er()&&p.pr&&p.Er(h.mutations)})(t,i),[3,6]);case 4:return s=c.sent(),[4,N_(t,s)];case 5:return c.sent(),[3,6];case 6:return[3,1];case 7:return JO(t)&&ZO(t),[2]}}))}))}function JO(e){return Cf(e)&&!xf(e).tr()&&e.Fr.length>0}function ZO(e){xf(e).start()}function AB(e){return ke(this,void 0,void 0,(function(){return Ae(this,(function(t){return xf(e).Ar(),[2]}))}))}function kB(e){return ke(this,void 0,void 0,(function(){var t,n,r,i;return Ae(this,(function(s){for(t=xf(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function NB(e,t,n){return ke(this,void 0,void 0,(function(){var r,i;return Ae(this,(function(s){switch(s.label){case 0:return r=e.Fr.shift(),i=PP.from(r,t,n),[4,QO(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return s.sent(),[4,Ym(e)];case 2:return s.sent(),[2]}}))}))}function CB(e,t){return ke(this,void 0,void 0,(function(){return Ae(this,(function(n){switch(n.label){case 0:return t&&xf(e).pr?[4,(function(r,i){return ke(this,void 0,void 0,(function(){var s,c;return Ae(this,(function(u){switch(u.label){case 0:return mO(c=i.code)&&c!==ge.ABORTED?(s=r.Fr.shift(),xf(r).sr(),[4,QO(r,(function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)}))]):[3,3];case 1:return u.sent(),[4,Ym(r)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))})(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return JO(e)&&ZO(e),[2]}}))}))}function KT(e,t){return ke(this,void 0,void 0,(function(){var n;return Ae(this,(function(r){switch(r.label){case 0:return n=Xe(e),t?(n.Or.delete(2),[4,o1(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Km(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function $m(e){var t=this;return e.Ur||(e.Ur=(function(n,r,i){var s=Xe(n);return s.br(),new xB(r,s.Hi,s.credentials,s.R,i)})(e.datastore,e.asyncQueue,{Ii:EB.bind(null,e),Ri:SB.bind(null,e),_r:TB.bind(null,e)}),e.Mr.push((function(n){return ke(t,void 0,void 0,(function(){return Ae(this,(function(r){switch(r.label){case 0:return n?(e.Ur.sr(),TA(e)?SA(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),$O(e),r.label=3;case 3:return[2]}}))}))}))),e.Ur}function xf(e){var t=this;return e.Kr||(e.Kr=(function(n,r,i){var s=Xe(n);return s.br(),new yB(r,s.Hi,s.credentials,s.R,i)})(e.datastore,e.asyncQueue,{Ii:AB.bind(null,e),Ri:CB.bind(null,e),Ir:kB.bind(null,e),Tr:NB.bind(null,e)}),e.Mr.push((function(n){return ke(t,void 0,void 0,(function(){return Ae(this,(function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Ym(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(Pe("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}}))}))}))),e.Kr}var RB=(function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(c){}))}return e.createAndSchedule=function(t,n,r,i,s){var c=new e(t,n,Date.now()+r,i,s);return c.start(r),c},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout((function(){return n.handleDelayElapsed()}),t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then((function(n){return t.deferred.resolve(n)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e})();function Qm(e,t){if(Tr("AsyncQueue",t+": "+e),$d(e))return new Oe(ge.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eF=(function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||nt.comparator(n.key,r.key)}:function(n,r){return nt.comparator(n.key,r.key)},this.keyedMap=qT(),this.sortedSet=new Wi(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(n,r){return t(n),!1}))},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach((function(n){t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e})(),vC=(function(){function e(){this.Qr=new Wi(nt.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):et():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(n,r){t.push(r)})),t},e})(),C_=(function(){function e(t,n,r,i,s,c,u,h){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=h}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach((function(c){s.push({type:0,doc:c})})),new e(t,n,eF.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&n1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e})(),DB=function(){this.Wr=void 0,this.listeners=[]},IB=function(){this.queries=new Xm((function(e){return aO(e)}),n1),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(e,t){return ke(this,void 0,void 0,(function(){var n,r,i,s,c,u,h;return Ae(this,(function(p){switch(p.label){case 0:if(n=Xe(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new DB),!i)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),c=s,[4,n.onListen(r)];case 2:return c.Wr=p.sent(),[3,4];case 3:return u=p.sent(),h=Qm(u,"Initialization of query '"+VT(t.query)+"' failed"),[2,void t.onError(h)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&NA(n),[2]}}))}))}function kA(e,t){return ke(this,void 0,void 0,(function(){var n,r,i,s,c;return Ae(this,(function(u){return n=Xe(e),r=t.query,i=!1,(s=n.queries.get(r))&&(c=s.listeners.indexOf(t))>=0&&(s.listeners.splice(c,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function OB(e,t){for(var n=Xe(e),r=!1,i=0,s=t;i<s.length;i++){var c=s[i],u=c.query,h=n.queries.get(u);if(h){for(var p=0,g=h.listeners;p<g.length;p++)g[p].Hr(c)&&(r=!0);h.Wr=c}}r&&NA(n)}function FB(e,t,n){var r=Xe(e),i=r.queries.get(t);if(i)for(var s=0,c=i.listeners;s<c.length;s++)c[s].onError(n);r.queries.delete(t)}function NA(e){e.Gr.forEach((function(t){t.next()}))}var CA=(function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new C_(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var c=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),c=!0):this.eo(t,this.onlineState)&&(this.no(t),c=!0),this.Xr=t,c},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=C_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tF=function(e){this.key=e},nF=function(e){this.key=e},rF=(function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=kn(),this.mutatedKeys=kn(),this.lo=sO(t),this.fo=new eF(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new vC,s=n?n.fo:this.fo,c=n?n.mutatedKeys:this.mutatedKeys,u=s,h=!1,p=Yw(this.query)&&s.size===this.query.limit?s.last():null,g=__(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((function(b,_){var S=s.get(b),E=r1(r.query,_)?_:null,T=!!S&&r.mutatedKeys.has(S.key),k=!!E&&(E.hasLocalMutations||r.mutatedKeys.has(E.key)&&E.hasCommittedMutations),R=!1;S&&E?S.data.isEqual(E.data)?T!==k&&(i.track({type:3,doc:E}),R=!0):r.yo(S,E)||(i.track({type:2,doc:E}),R=!0,(p&&r.lo(E,p)>0||g&&r.lo(E,g)<0)&&(h=!0)):!S&&E?(i.track({type:0,doc:E}),R=!0):S&&!E&&(i.track({type:1,doc:S}),R=!0,(p||g)&&(h=!0)),R&&(E?(u=u.add(E),c=k?c.add(b):c.delete(b)):(u=u.delete(b),c=c.delete(b)))})),Yw(this.query)||__(this.query))for(;u.size>this.query.limit;){var x=Yw(this.query)?u.last():u.first();u=u.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{fo:u,mo:i,Nn:h,mutatedKeys:c}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var c=t.mo.jr();c.sort((function(g,x){return(function(b,_){var S=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return S(b)-S(_)})(g.type,x.type)||i.lo(g.doc,x.doc)})),this.po(r);var u=n?this.Eo():[],h=this.ho.size===0&&this.current?1:0,p=h!==this.ao;return this.ao=h,c.length!==0||p?{snapshot:new C_(this.query,t.fo,s,c,t.mutatedKeys,h===0,p,!1),To:u}:{To:u}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new vC,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach((function(r){return n.uo=n.uo.add(r)})),t.modifiedDocuments.forEach((function(r){})),t.removedDocuments.forEach((function(r){return n.uo=n.uo.delete(r)})),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=kn(),this.fo.forEach((function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))}));var r=[];return n.forEach((function(i){t.ho.has(i)||r.push(new nF(i))})),this.ho.forEach((function(i){n.has(i)||r.push(new tF(i))})),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=kn();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return C_.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e})(),MB=function(e,t,n){this.query=e,this.targetId=t,this.view=n},LB=function(e){this.key=e,this.bo=!1},jB=(function(){function e(t,n,r,i,s,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.vo={},this.Po=new Xm((function(u){return aO(u)}),n1),this.Vo=new Map,this.So=new Set,this.Do=new Wi(nt.comparator),this.Co=new Map,this.No=new wA,this.xo={},this.ko=new Map,this.Fo=T_.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e})();function PB(e,t){return ke(this,void 0,void 0,(function(){var n,r,i,s,c,u;return Ae(this,(function(h){switch(h.label){case 0:return n=FA(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,A_(n.localStore,Bl(t))];case 2:return c=h.sent(),u=n.sharedClientState.addLocalQueryTarget(c.targetId),r=c.targetId,[4,RA(n,t,r,u==="current")];case 3:i=h.sent(),n.isPrimaryClient&&NE(n.remoteStore,c),h.label=4;case 4:return[2,i]}}))}))}function RA(e,t,n,r){return ke(this,void 0,void 0,(function(){var i,s,c,u,h,p;return Ae(this,(function(g){switch(g.label){case 0:return e.Oo=function(x,b,_){return(function(S,E,T,k){return ke(this,void 0,void 0,(function(){var R,A,O;return Ae(this,(function(I){switch(I.label){case 0:return R=E.view._o(T),R.Nn?[4,k_(S.localStore,E.query,!1).then((function(M){var C=M.documents;return E.view._o(C,R)}))]:[3,2];case 1:R=I.sent(),I.label=2;case 2:return A=k&&k.targetChanges.get(E.targetId),O=E.view.applyChanges(R,S.isPrimaryClient,A),[2,(YT(S,E.targetId,O.To),O.snapshot)]}}))}))})(e,x,b,_)},[4,k_(e.localStore,t,!0)];case 1:return i=g.sent(),s=new rF(t,i.Bn),c=s._o(i.documents),u=pA.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),h=s.applyChanges(c,e.isPrimaryClient,u),YT(e,n,h.To),p=new MB(t,n,s),[2,(e.Po.set(t,p),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),h.snapshot)]}}))}))}function BB(e,t){return ke(this,void 0,void 0,(function(){var n,r,i;return Ae(this,(function(s){switch(s.label){case 0:return n=Xe(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(c){return!n1(c,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Im(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),my(n.remoteStore,r.targetId),Om(n,r.targetId)})).catch(Qd)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Om(n,r.targetId),[4,Im(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function UB(e,t,n){return ke(this,void 0,void 0,(function(){var r,i,s,c;return Ae(this,(function(u){switch(u.label){case 0:r=MA(e),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,(function(h,p){var g,x=Xe(h),b=Ma.now(),_=p.reduce((function(S,E){return S.add(E.key)}),kn());return x.persistence.runTransaction("Locally write mutations","readwrite",(function(S){return x.Mn.pn(S,_).next((function(E){g=E;for(var T=[],k=0,R=p;k<R.length;k++){var A=R[k],O=hP(A,g.get(A.key));O!=null&&T.push(new Nf(A.key,O,tO(O.value.mapValue),Ui.exists(!0)))}return x._n.addMutationBatch(S,b,T,p)}))})).then((function(S){return S.applyToLocalDocumentSet(g),{batchId:S.batchId,changes:g}}))})(r.localStore,t)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),(function(h,p,g){var x=h.xo[h.currentUser.toKey()];x||(x=new Wi(jt)),x=x.insert(p,g),h.xo[h.currentUser.toKey()]=x})(r,i.batchId,n),[4,Rf(r,i.changes)];case 3:return u.sent(),[4,Ym(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return s=u.sent(),c=Qm(s,"Failed to persist write"),n.reject(c),[3,6];case 6:return[2]}}))}))}function iF(e,t){return ke(this,void 0,void 0,(function(){var n,r;return Ae(this,(function(i){switch(i.label){case 0:n=Xe(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,tB(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(s,c){var u=n.Co.get(c);u&&(dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.bo=!0:s.modifiedDocuments.size>0?dt(u.bo):s.removedDocuments.size>0&&(dt(u.bo),u.bo=!1))})),[4,Rf(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Qd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function xC(e,t,n){var r=Xe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach((function(s,c){var u=c.view.zr(t);u.snapshot&&i.push(u.snapshot)})),(function(s,c){var u=Xe(s);u.onlineState=c;var h=!1;u.queries.forEach((function(p,g){for(var x=0,b=g.listeners;x<b.length;x++)b[x].zr(c)&&(h=!0)})),h&&NA(u)})(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function zB(e,t,n){return ke(this,void 0,void 0,(function(){var r,i,s,c,u,h;return Ae(this,(function(p){switch(p.label){case 0:return(r=Xe(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(c=(c=new Wi(nt.comparator)).insert(s,qi.newNoDocument(s,Ft.min())),u=kn().add(s),h=new dA(Ft.min(),new Map,new jr(jt),c,u),[4,iF(r,h)]):[3,2];case 1:return p.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),OA(r),[3,4];case 2:return[4,Im(r.localStore,t,!1).then((function(){return Om(r,t,n)})).catch(Qd)];case 3:p.sent(),p.label=4;case 4:return[2]}}))}))}function VB(e,t){return ke(this,void 0,void 0,(function(){var n,r,i;return Ae(this,(function(s){switch(s.label){case 0:n=Xe(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,eB(n.localStore,t)];case 2:return i=s.sent(),IA(n,r,null),DA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Rf(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Qd(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function HB(e,t,n){return ke(this,void 0,void 0,(function(){var r,i;return Ae(this,(function(s){switch(s.label){case 0:r=Xe(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,(function(c,u){var h=Xe(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(function(p){var g;return h._n.lookupMutationBatch(p,u).next((function(x){return dt(x!==null),g=x.keys(),h._n.removeMutationBatch(p,x)})).next((function(){return h._n.performConsistencyCheck(p)})).next((function(){return h.Mn.pn(p,g)}))}))})(r.localStore,t)];case 2:return i=s.sent(),IA(r,t,n),DA(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Rf(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Qd(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function qB(e,t){return ke(this,void 0,void 0,(function(){var n,r,i,s,c;return Ae(this,(function(u){switch(u.label){case 0:Cf((n=Xe(e)).remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,(function(h){var p=Xe(h);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(g){return p._n.getHighestUnacknowledgedBatchId(g)}))})(n.localStore)];case 2:return(r=u.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return s=u.sent(),c=Qm(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(c),[3,4];case 4:return[2]}}))}))}function DA(e,t){(e.ko.get(t)||[]).forEach((function(n){n.resolve()})),e.ko.delete(t)}function IA(e,t,n){var r=Xe(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Om(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(c){e.No.containsKey(c)||aF(e,c)}))}function aF(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(my(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),OA(e))}function YT(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof tF?(e.No.addReference(s.key,t),GB(e,s)):s instanceof nF?(Pe("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||aF(e,s.key)):et()}}function GB(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Pe("SyncEngine","New document in limbo: "+n),e.So.add(r),OA(e))}function OA(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new nt(nn.fromString(t)),r=e.Fo.next();e.Co.set(r,new LB(n)),e.Do=e.Do.insert(n,r),NE(e.remoteStore,new AE(Bl(t1(n.path)),r,2,hs.o))}}function Rf(e,t,n){return ke(this,void 0,void 0,(function(){var r,i,s,c;return Ae(this,(function(u){switch(u.label){case 0:return r=Xe(e),i=[],s=[],c=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(h,p){c.push(r.Oo(p,t,n).then((function(g){if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,g.fromCache?"not-current":"current"),i.push(g);var x=JP.Pn(p.targetId,g);s.push(x)}})))})),[4,Promise.all(c)]);case 1:return u.sent(),r.vo._r(i),[4,(function(h,p){return ke(this,void 0,void 0,(function(){var g,x,b,_,S,E,T,k,R;return Ae(this,(function(A){switch(A.label){case 0:g=Xe(h),A.label=1;case 1:return A.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(O){return je.forEach(p,(function(I){return je.forEach(I.bn,(function(M){return g.persistence.referenceDelegate.addReference(O,I.targetId,M)})).next((function(){return je.forEach(I.vn,(function(M){return g.persistence.referenceDelegate.removeReference(O,I.targetId,M)}))}))}))}))];case 2:return A.sent(),[3,4];case 3:if(!$d(x=A.sent()))throw x;return Pe("LocalStore","Failed to update sequence numbers: "+x),[3,4];case 4:for(b=0,_=p;b<_.length;b++)S=_[b],E=S.targetId,S.fromCache||(T=g.kn.get(E),k=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(k),g.kn=g.kn.insert(E,R));return[2]}}))}))})(r.localStore,s)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function WB(e,t){return ke(this,void 0,void 0,(function(){var n,r;return Ae(this,(function(i){switch(i.label){case 0:return(n=Xe(e)).currentUser.isEqual(t)?[3,3]:(Pe("SyncEngine","User change. New user:",t.toKey()),[4,VO(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,(function(s,c){s.ko.forEach((function(u){u.forEach((function(h){h.reject(new Oe(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),s.ko.clear()})(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Rf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function XB(e,t){var n=Xe(e),r=n.Co.get(t);if(r&&r.bo)return kn().add(r.key);var i=kn(),s=n.Vo.get(t);if(!s)return i;for(var c=0,u=s;c<u.length;c++){var h=u[c],p=n.Po.get(h);i=i.unionWith(p.view.wo)}return i}function KB(e,t){return ke(this,void 0,void 0,(function(){var n,r,i;return Ae(this,(function(s){switch(s.label){case 0:return[4,k_((n=Xe(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&YT(n,t.targetId,i.To),i)]}}))}))}function YB(e){return ke(this,void 0,void 0,(function(){var t;return Ae(this,(function(n){return[2,GO((t=Xe(e)).localStore).then((function(r){return Rf(t,r)}))]}))}))}function $B(e,t,n,r){return ke(this,void 0,void 0,(function(){var i,s;return Ae(this,(function(c){switch(c.label){case 0:return[4,(function(u,h){var p=Xe(u),g=Xe(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",(function(x){return g.jt(x,h).next((function(b){return b?p.Mn.pn(x,b):je.resolve(null)}))}))})((i=Xe(e)).localStore,t)];case 1:return(s=c.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Ym(i.remoteStore)];case 2:return c.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(IA(i,t,r||null),DA(i,t),(function(u,h){Xe(Xe(u)._n).Gt(h)})(i.localStore,t)):et(),c.label=4;case 4:return[4,Rf(i,s)];case 5:return c.sent(),[3,7];case 6:Pe("SyncEngine","Cannot apply mutation batch with id: "+t),c.label=7;case 7:return[2]}}))}))}function QB(e,t){return ke(this,void 0,void 0,(function(){var n,r,i,s,c,u,h,p;return Ae(this,(function(g){switch(g.label){case 0:return FA(n=Xe(e)),MA(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,yC(n,r.toArray())]);case 1:return i=g.sent(),n.$o=!0,[4,KT(n.remoteStore,!0)];case 2:for(g.sent(),s=0,c=i;s<c.length;s++)u=c[s],NE(n.remoteStore,u);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(h=[],p=Promise.resolve(),n.Vo.forEach((function(x,b){n.sharedClientState.isLocalQueryTarget(b)?h.push(b):p=p.then((function(){return Om(n,b),Im(n.localStore,b,!0)})),my(n.remoteStore,b)})),[4,p]);case 4:return g.sent(),[4,yC(n,h)];case 5:return g.sent(),(function(x){var b=Xe(x);b.Co.forEach((function(_,S){my(b.remoteStore,S)})),b.No.ts(),b.Co=new Map,b.Do=new Wi(nt.comparator)})(n),n.$o=!1,[4,KT(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}}))}))}function yC(e,t,n){return ke(this,void 0,void 0,(function(){var r,i,s,c,u,h,p,g,x,b,_,S,E,T;return Ae(this,(function(k){switch(k.label){case 0:r=Xe(e),i=[],s=[],c=0,u=t,k.label=1;case 1:return c<u.length?(h=u[c],p=void 0,(g=r.Vo.get(h))&&g.length!==0?[4,A_(r.localStore,Bl(g[0]))]:[3,7]):[3,13];case 2:p=k.sent(),x=0,b=g,k.label=3;case 3:return x<b.length?(_=b[x],S=r.Po.get(_),[4,KB(r,S)]):[3,6];case 4:(E=k.sent()).snapshot&&s.push(E.snapshot),k.label=5;case 5:return x++,[3,3];case 6:return[3,11];case 7:return[4,qO(r.localStore,h)];case 8:return T=k.sent(),[4,A_(r.localStore,T)];case 9:return p=k.sent(),[4,RA(r,sF(T),h,!1)];case 10:k.sent(),k.label=11;case 11:i.push(p),k.label=12;case 12:return c++,[3,1];case 13:return[2,(r.vo._r(s),i)]}}))}))}function sF(e){return rO(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function JB(e){var t=Xe(e);return Xe(Xe(t.localStore).persistence).fn()}function ZB(e,t,n,r){return ke(this,void 0,void 0,(function(){var i,s,c;return Ae(this,(function(u){switch(u.label){case 0:return(i=Xe(e)).$o?(Pe("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,GO(i.localStore)];case 3:return s=u.sent(),c=dA.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Rf(i,s,c)];case 4:return u.sent(),[3,8];case 5:return[4,Im(i.localStore,t,!0)];case 6:return u.sent(),Om(i,t,r),[3,8];case 7:et(),u.label=8;case 8:return[2]}}))}))}function eU(e,t,n){return ke(this,void 0,void 0,(function(){var r,i,s,c,u,h,p,g,x,b;return Ae(this,(function(_){switch(_.label){case 0:if(!(r=FA(e)).$o)return[3,10];i=0,s=t,_.label=1;case 1:return i<s.length?(c=s[i],r.Vo.has(c)?(Pe("SyncEngine","Adding an already active target "+c),[3,5]):[4,qO(r.localStore,c)]):[3,6];case 2:return u=_.sent(),[4,A_(r.localStore,u)];case 3:return h=_.sent(),[4,RA(r,sF(u),h.targetId,!1)];case 4:_.sent(),NE(r.remoteStore,h),_.label=5;case 5:return i++,[3,1];case 6:p=function(S){return Ae(this,(function(E){switch(E.label){case 0:return r.Vo.has(S)?[4,Im(r.localStore,S,!1).then((function(){my(r.remoteStore,S),Om(r,S)})).catch(Qd)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}}))},g=0,x=n,_.label=7;case 7:return g<x.length?(b=x[g],[5,p(b)]):[3,10];case 8:_.sent(),_.label=9;case 9:return g++,[3,7];case 10:return[2]}}))}))}function FA(e){var t=Xe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=iF.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=XB.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zB.bind(null,t),t.vo._r=OB.bind(null,t.eventManager),t.vo.Mo=FB.bind(null,t.eventManager),t}function MA(e){var t=Xe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VB.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HB.bind(null,t),t}var oF=(function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return ke(this,void 0,void 0,(function(){return Ae(this,(function(n){switch(n.label){case 0:return this.R=kE(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return zO(this.persistence,new UO,t.initialUser,this.R)},e.prototype.qo=function(t){return new uB(hB.bs,this.R)},e.prototype.Bo=function(t){return new WO},e.prototype.terminate=function(){return ke(this,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},e})(),lF=(function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return ot(t,e),t.prototype.initialize=function(n){return ke(this,void 0,void 0,(function(){var r=this;return Ae(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,iB(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,MA(this.Qo.syncEngine)];case 4:return i.sent(),[4,Ym(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}))];case 6:return i.sent(),[2]}}))}))},t.prototype.Ko=function(n){return zO(this.persistence,new UO,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new GP(r,n.asyncQueue)},t.prototype.qo=function(n){var r=bA(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Dl.withCacheSize(this.cacheSizeBytes):Dl.DEFAULT;return new QP(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,XO(),Jw(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new WO},t})(oF),tU=(function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ot(t,e),t.prototype.initialize=function(n){return ke(this,void 0,void 0,(function(){var r,i=this;return Ae(this,(function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof KS?(this.sharedClientState.syncEngine={ui:$B.bind(null,r),ai:ZB.bind(null,r),hi:eU.bind(null,r),fn:JB.bind(null,r),ci:YB.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He((function(c){return ke(i,void 0,void 0,(function(){return Ae(this,(function(u){switch(u.label){case 0:return[4,QB(this.Qo.syncEngine,c)];case 1:return u.sent(),this.gcScheduler&&(c&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):c||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return s.sent(),[2]}}))}))},t.prototype.Bo=function(n){var r=XO();if(!KS.yt(r))throw new Oe(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=bA(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new KS(r,n.asyncQueue,i,n.clientId,n.initialUser)},t})(lF),$T=(function(){function e(){}return e.prototype.initialize=function(t,n){return ke(this,void 0,void 0,(function(){var r=this;return Ae(this,(function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return xC(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=WB.bind(null,this.syncEngine),[4,KT(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(t){return new IB},e.prototype.createDatastore=function(t){var n,r=kE(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new vB(n));return(function(s,c,u){return new bB(s,c,u)})(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,c,u=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(h){return xC(u.syncEngine,h,0)},c=gC.yt()?new gC:new pB,new _B(n,r,i,s,c)},e.prototype.createSyncEngine=function(t,n){return(function(r,i,s,c,u,h,p){var g=new jB(r,i,s,c,u,h);return p&&(g.$o=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return(function(t){return ke(this,void 0,void 0,(function(){var n;return Ae(this,(function(r){switch(r.label){case 0:return n=Xe(t),Pe("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Km(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}}))}))})(this.remoteStore)},e})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CE=(function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout((function(){r.muted||t(n)}),0)},e})(),nU=(function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return ke(this,void 0,void 0,(function(){var n,r=this;return Ae(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Oe(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,(function(s,c){return ke(this,void 0,void 0,(function(){var u,h,p,g,x,b;return Ae(this,(function(_){switch(_.label){case 0:return u=Xe(s),h=py(u.R)+"/documents",p={documents:c.map((function(S){return dy(u.R,S)}))},[4,u.$i("BatchGetDocuments",h,p)];case 1:return g=_.sent(),x=new Map,g.forEach((function(S){var E=(function(T,k){return"found"in k?(function(R,A){dt(!!A.found),A.found.name,A.found.updateTime;var O=Lc(R,A.found.name),I=ha(A.found.updateTime),M=new cs({mapValue:{fields:A.found.fields}});return qi.newFoundDocument(O,I,M)})(T,k):"missing"in k?(function(R,A){dt(!!A.missing),dt(!!A.readTime);var O=Lc(R,A.missing),I=ha(A.readTime);return qi.newNoDocument(O,I)})(T,k):et()})(u.R,S);x.set(E.key.toString(),E)})),b=[],[2,(c.forEach((function(S){var E=x.get(S.toString());dt(!!E),b.push(E)})),b)]}}))}))})(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach((function(s){return r.recordVersion(s)})),n)]}}))}))},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new s1(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return ke(this,void 0,void 0,(function(){var t,n=this;return Ae(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(i){t.delete(i.key.toString())})),t.forEach((function(i,s){var c=nt.fromPath(s);n.mutations.push(new hA(c,n.precondition(c)))})),[4,(function(i,s){return ke(this,void 0,void 0,(function(){var c,u,h;return Ae(this,(function(p){switch(p.label){case 0:return c=Xe(i),u=py(c.R)+"/documents",h={writes:s.map((function(g){return E_(c.R,g)}))},[4,c.Ni("Commit",u,h)];case 1:return p.sent(),[2]}}))}))})(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw et();n=Ft.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new Oe(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Ui.updateTime(n):Ui.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Ft.min()))throw new Oe(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ui.updateTime(n)}return Ui.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e})(),rU=(function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new _A(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji((function(){return ke(t,void 0,void 0,(function(){var n,r,i=this;return Ae(this,(function(s){return n=new nU(this.datastore),(r=this.sc(n))&&r.then((function(c){i.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){i.deferred.resolve(c)})).catch((function(u){i.ic(u)}))}))})).catch((function(c){i.ic(c)})),[2]}))}))}))},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Yd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return n.nc(),Promise.resolve()}))):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!mO(n)}return!1},e})(),iU=(function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ci.UNAUTHENTICATED,this.clientId=YI.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,(function(s){return ke(i,void 0,void 0,(function(){return Ae(this,(function(c){switch(c.label){case 0:return Pe("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return c.sent(),this.user=s,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return ke(this,void 0,void 0,(function(){return Ae(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return ke(t,void 0,void 0,(function(){var r,i;return Ae(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Qm(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}}))}))})),n.promise},e})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(e,t){return ke(this,void 0,void 0,(function(){var n,r,i=this;return Ae(this,(function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener((function(c){return ke(i,void 0,void 0,(function(){return Ae(this,(function(u){switch(u.label){case 0:return r.isEqual(c)?[3,2]:[4,VO(t.localStore,c)];case 1:u.sent(),r=c,u.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function uF(e,t){return ke(this,void 0,void 0,(function(){var n,r;return Ae(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,LA(e)];case 1:return n=i.sent(),Pe("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(s){return(function(c,u){return ke(this,void 0,void 0,(function(){var h,p;return Ae(this,(function(g){switch(g.label){case 0:return(h=Xe(c)).asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials"),p=Cf(h),h.Or.add(3),[4,Km(h)];case 1:return g.sent(),p&&h.Br.set("Unknown"),[4,h.remoteSyncer.handleCredentialChange(u)];case 2:return g.sent(),h.Or.delete(3),[4,o1(h)];case 3:return g.sent(),[2]}}))}))})(t.remoteStore,s)})),e.onlineComponents=t,[2]}}))}))}function LA(e){return ke(this,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Pe("FirestoreClient","Using default OfflineComponentProvider"),[4,cF(e,new oF)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function RE(e){return ke(this,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Pe("FirestoreClient","Using default OnlineComponentProvider"),[4,uF(e,new $T)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function bC(e){return LA(e).then((function(t){return t.persistence}))}function fF(e){return LA(e).then((function(t){return t.localStore}))}function wC(e){return RE(e).then((function(t){return t.remoteStore}))}function hF(e){return RE(e).then((function(t){return t.syncEngine}))}function Fm(e){return ke(this,void 0,void 0,(function(){var t,n;return Ae(this,(function(r){switch(r.label){case 0:return[4,RE(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=PB.bind(null,t.syncEngine),n.onUnlisten=BB.bind(null,t.syncEngine),n)]}}))}))}function _C(e,t,n){var r=this;n===void 0&&(n={});var i=new Pa;return e.asyncQueue.enqueueAndForget((function(){return ke(r,void 0,void 0,(function(){var s;return Ae(this,(function(c){switch(c.label){case 0:return s=function(u,h,p,g,x){var b=new CE({next:function(S){h.enqueueAndForget((function(){return kA(u,_)}));var E=S.docs.has(p);!E&&S.fromCache?x.reject(new Oe(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&S.fromCache&&g&&g.source==="server"?x.reject(new Oe(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(S)},error:function(S){return x.reject(S)}}),_=new CA(t1(p.path),b,{includeMetadataChanges:!0,so:!0});return AA(u,_)},[4,Fm(e)];case 1:return[2,s.apply(void 0,[c.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function EC(e,t,n){var r=this;n===void 0&&(n={});var i=new Pa;return e.asyncQueue.enqueueAndForget((function(){return ke(r,void 0,void 0,(function(){var s;return Ae(this,(function(c){switch(c.label){case 0:return s=function(u,h,p,g,x){var b=new CE({next:function(S){h.enqueueAndForget((function(){return kA(u,_)})),S.fromCache&&g.source==="server"?x.reject(new Oe(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(S)},error:function(S){return x.reject(S)}}),_=new CA(p,b,{includeMetadataChanges:!0,so:!0});return AA(u,_)},[4,Fm(e)];case 1:return[2,s.apply(void 0,[c.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var aU=(function(e,t,n,r,i,s,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.useFetchStreams=u}),R_=(function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e})(),SC=new Map,dF=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},TC=(function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable((function(){return n(ci.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e})(),sU=(function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable((function(){return n(r.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e})(),oU=(function(){function e(t){var n=this;this.currentUser=ci.UNAUTHENTICATED,this.oc=new Pa,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable((function(){return n.changeListener(n.currentUser)}))};var r=function(i){Pe("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit((function(i){return r(i)})),setTimeout((function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(Pe("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}}),0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((function(i){return t.cc!==n?(Pe("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(dt(typeof i.accessToken=="string"),new dF(i.accessToken,t.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return ke(r,void 0,void 0,(function(){return Ae(this,(function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return dt(t===null||typeof t=="string"),new ci(t)},e})(),lU=(function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=ci.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e})(),cU=(function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new lU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable((function(){return n(ci.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(e,t,n){if(!n)throw new Oe(ge.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function PA(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new Oe(ge.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function pF(e,t,n,r){if(t===!0&&r===!0)throw new Oe(ge.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function AC(e){if(!nt.isDocumentKey(e))throw new Oe(ge.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function kC(e){if(nt.isDocumentKey(e))throw new Oe(ge.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function DE(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=(function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null})(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":et()}function an(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Oe(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=DE(e);throw new Oe(ge.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function NC(e,t){if(t<=0)throw new Oe(ge.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CC=(function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Oe(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Oe(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,pF("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e})(),gy=(function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CC({}),this._settingsFrozen=!1,t instanceof R_?(this._databaseId=t,this._credentials=new TC):(this._app=t,this._databaseId=(function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Oe(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new R_(r.options.projectId)})(t),this._credentials=new oU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Oe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Oe(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CC(t),t.credentials!==void 0&&(this._credentials=(function(n){if(!n)return new TC;switch(n.type){case"gapi":var r=n.client;return dt(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new cU(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Oe(ge.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}})(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=SC.get(t))&&(Pe("ComponentProvider","Removing Datastore"),SC.delete(t),n.terminate()),Promise.resolve();var t,n},e})(),Kn=(function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new mf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e})(),ps=(function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e})(),mf=(function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,t1(i))||this)._path=i,s.type="collection",s}return ot(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Kn(this.firestore,null,new nt(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t})(ps);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=bn(e),jA("collection","path",t),e instanceof gy)return kC(n=nn.fromString.apply(nn,Un([t],r))),new mf(e,null,n);if(!(e instanceof Kn||e instanceof mf))throw new Oe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return kC(n=nn.fromString.apply(nn,Un([e.path],r)).child(nn.fromString(t))),new mf(e.firestore,null,n)}function Zw(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=bn(e),arguments.length===1&&(t=YI.u()),jA("doc","path",t),e instanceof gy)return AC(n=nn.fromString.apply(nn,Un([t],r))),new Kn(e,null,new nt(n));if(!(e instanceof Kn||e instanceof mf))throw new Oe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return AC(n=e._path.child(nn.fromString.apply(nn,Un([t],r)))),new Kn(e.firestore,e instanceof mf?e.converter:null,new nt(n))}function gF(e,t){return e=bn(e),t=bn(t),(e instanceof Kn||e instanceof mf)&&(t instanceof Kn||t instanceof mf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function vF(e,t){return e=bn(e),t=bn(t),e instanceof ps&&t instanceof ps&&e.firestore===t.firestore&&n1(e._query,t._query)&&e.converter===t.converter}var uU=(function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new _A(this,"async_queue_retry"),this.Ic=function(){var r=Jw();r&&Pe("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Jw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Jw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise((function(){}));var r=new Pa;return this.Rc((function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)})).then((function(){return r.promise}))},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget((function(){return n.wc.push(t),n.bc()}))},e.prototype.bc=function(){return ke(this,void 0,void 0,(function(){var t,n=this;return Ae(this,(function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!$d(t=r.sent()))throw t;return Pe("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return n.bc()})),r.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(t){var n=this,r=this.dc.then((function(){return n.gc=!0,t().catch((function(i){throw n.yc=i,n.gc=!1,Tr("INTERNAL UNHANDLED ERROR: ",(function(s){var c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c})(i)),i})).then((function(i){return n.gc=!1,i}))}));return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=RB.createAndSchedule(this,t,n,r,(function(c){return i.vc(c)}));return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&et()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return ke(this,void 0,void 0,(function(){var t;return Ae(this,(function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then((function(){n.mc.sort((function(c,u){return c.targetTimeMs-u.targetTimeMs}));for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()}))},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e})();function Mm(e){return(function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var c=s[i];if(c in r&&typeof r[c]=="function")return!0}return!1})(e)}var fU=-1,Mr=(function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new uU,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return ot(t,e),t.prototype._terminate=function(){return this._firestoreClient||xF(this),this._firestoreClient.terminate()},t})(gy);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(e){return e._firestoreClient||xF(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xF(e){var t,n=e._freezeSettings(),r=(function(i,s,c,u){return new aU(i,s,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)})(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new iU(e._credentials,e._queue,r)}function RC(e,t,n){var r=this,i=new Pa;return e.asyncQueue.enqueue((function(){return ke(r,void 0,void 0,(function(){var s;return Ae(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,cF(e,n)];case 1:return c.sent(),[4,uF(e,t)];case 2:return c.sent(),i.resolve(),[3,4];case 3:if(!(function(u){return u.name==="FirebaseError"?u.code===ge.FAILED_PRECONDITION||u.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(s=c.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function DC(e){if(e._initialized||e._terminated)throw new Oe(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ml=(function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new Oe(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vo(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e})(),Bd=(function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(ja.fromBase64String(t))}catch(n){throw new Oe(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(ja.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e})(),Jd=(function(e){this._methodName=e}),IE=(function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new Oe(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Oe(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return jt(this._lat,t._lat)||jt(this._long,t._long)},e})(),hU=/^__.*__$/,dU=(function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Nf(t,this.data,this.fieldMask,n,this.fieldTransforms):new a1(t,this.data,n,this.fieldTransforms)},e})(),yF=(function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Nf(t,this.data,this.fieldMask,n,this.fieldTransforms)},e})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}var wF=(function(){function e(t,n,r,i,s,c){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return D_(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find((function(n){return t.isPrefixOf(n)}))!==void 0||this.fieldTransforms.find((function(n){return t.isPrefixOf(n.field)}))!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(bF(this.Nc)&&hU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e})(),pU=(function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||kE(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new wF({Nc:t,methodName:n,qc:r,path:Vo.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e})();function Zd(e){var t=e._freezeSettings(),n=kE(e._databaseId);return new pU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function OE(e,t,n,r,i,s){s===void 0&&(s={});var c=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);VA("Data must be an object, but it was:",c,r);var u,h,p=SF(r,c);if(s.merge)u=new wm(c.fieldMask),h=c.fieldTransforms;else if(s.mergeFields){for(var g=[],x=0,b=s.mergeFields;x<b.length;x++){var _=QT(t,b[x],n);if(!c.contains(_))throw new Oe(ge.INVALID_ARGUMENT,"Field '"+_+"' is specified in your field mask but missing from your input data.");AF(g,_)||g.push(_)}u=new wm(g),h=c.fieldTransforms.filter((function(S){return u.covers(S.field)}))}else u=null,h=c.fieldTransforms;return new dU(new cs(p),u,h)}var BA=(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ot(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t})(Jd);function _F(e,t,n){return new wF({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var mU=(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ot(t,e),t.prototype._toFieldTransform=function(n){return new i1(n.path,new Tm)},t.prototype.isEqual=function(n){return n instanceof t},t})(Jd),gU=(function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return ot(t,e),t.prototype._toFieldTransform=function(n){var r=_F(this,n,!0),i=this.Kc.map((function(c){return e0(c,r)})),s=new jd(i);return new i1(n.path,s)},t.prototype.isEqual=function(n){return this===n},t})(Jd),vU=(function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return ot(t,e),t.prototype._toFieldTransform=function(n){var r=_F(this,n,!0),i=this.Kc.map((function(c){return e0(c,r)})),s=new Pd(i);return new i1(n.path,s)},t.prototype.isEqual=function(n){return this===n},t})(Jd),xU=(function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return ot(t,e),t.prototype._toFieldTransform=function(n){var r=new Am(n.R,cO(n.R,this.Qc));return new i1(n.path,r)},t.prototype.isEqual=function(n){return this===n},t})(Jd);function UA(e,t,n,r){var i=e.Uc(1,t,n);VA("Data must be an object, but it was:",i,r);var s=[],c=cs.empty();Kd(r,(function(h,p){var g=HA(t,h,n);p=bn(p);var x=i.Oc(g);if(p instanceof BA)s.push(g);else{var b=e0(p,x);b!=null&&(s.push(g),c.set(g,b))}}));var u=new wm(s);return new yF(c,u,i.fieldTransforms)}function zA(e,t,n,r,i,s){var c=e.Uc(1,t,n),u=[QT(t,r,n)],h=[i];if(s.length%2!=0)throw new Oe(ge.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<s.length;p+=2)u.push(QT(t,s[p])),h.push(s[p+1]);for(var g=[],x=cs.empty(),b=u.length-1;b>=0;--b)if(!AF(g,u[b])){var _=u[b],S=h[b];S=bn(S);var E=c.Oc(_);if(S instanceof BA)g.push(_);else{var T=e0(S,E);T!=null&&(g.push(_),x.set(_,T))}}var k=new wm(g);return new yF(x,k,c.fieldTransforms)}function EF(e,t,n,r){return r===void 0&&(r=!1),e0(n,e.Uc(r?4:3,t))}function e0(e,t){if(TF(e=bn(e)))return VA("Unsupported field value:",t,e),SF(e,t);if(e instanceof Jd)return(function(n,r){if(!bF(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return(function(n,r){for(var i=[],s=0,c=0,u=n;c<u.length;c++){var h=e0(u[c],r.Mc(s));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}})(e,t)}return(function(n,r){if((n=bn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return cO(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Ma.fromDate(n);return{timestampValue:hy(r.R,i)}}if(n instanceof Ma)return i=new Ma(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:hy(r.R,i)};if(n instanceof IE)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Bd)return{bytesValue:yO(r.R,n._byteString)};if(n instanceof Kn){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:mA(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+DE(n))})(e,t)}function SF(e,t){var n={};return QI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kd(e,(function(r,i){var s=e0(i,t.kc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function TF(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ma||e instanceof IE||e instanceof Bd||e instanceof Kn||e instanceof Jd)}function VA(e,t,n){if(!TF(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){var r=DE(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function QT(e,t,n){if((t=bn(t))instanceof Ml)return t._internalPath;if(typeof t=="string")return HA(e,t);throw D_("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var yU=new RegExp("[~\\*/\\[\\]]");function HA(e,t,n){if(t.search(yU)>=0)throw D_("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Ml.bind.apply(Ml,Un([void 0],t.split("."))))()._internalPath}catch{throw D_("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function D_(e,t,n,r,i){var s=r&&!r.isEmpty(),c=i!==void 0,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var h="";return(s||c)&&(h+=" (found",s&&(h+=" in field "+r),c&&(h+=" in document "+i),h+=")"),new Oe(ge.INVALID_ARGUMENT,(u+=". ")+e+h)}function AF(e,t){return e.some((function(n){return n.isEqual(t)}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vy=(function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Kn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new bU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(I_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e})(),bU=(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ot(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t})(vy);function I_(e,t){return typeof t=="string"?HA(e,t):t instanceof Ml?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wd=(function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e})(),Pc=(function(e){function t(n,r,i,s,c,u){var h=this;return(h=e.call(this,n,r,i,s,u)||this)._firestore=n,h._firestoreImpl=n,h.metadata=c,h}return ot(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new zx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(I_("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t})(vy),zx=(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ot(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t})(Pc),sf=(function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new wd(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach((function(n){return t.push(n)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach((function(i){t.call(n,new zx(r._firestore,r._userDataWriter,i.key,i,new wd(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))}))},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map((function(u){return{type:"added",doc:new zx(r._firestore,r._userDataWriter,u.doc.key,u.doc,new wd(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}}))}var c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((function(u){return i||u.type!==3})).map((function(u){var h=new zx(r._firestore,r._userDataWriter,u.doc.key,u.doc,new wd(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),p=-1,g=-1;return u.type!==0&&(p=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(g=(c=c.add(u.doc)).indexOf(u.doc.key)),{type:wU(u.type),doc:h,oldIndex:p,newIndex:g}}))})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e})();function wU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function kF(e,t){return e instanceof Pc&&t instanceof Pc?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof sf&&t instanceof sf&&e._firestore===t._firestore&&vF(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(e){if(__(e)&&e.explicitOrderBy.length===0)throw new Oe(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var l1=function(){};function Zu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var _U=(function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return ot(t,e),t.prototype._apply=function(n){var r=Zd(n.firestore),i=(function(s,c,u,h,p,g,x){var b;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Oe(ge.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){LC(x,g);for(var _=[],S=0,E=x;S<E.length;S++){var T=E[S];_.push(MC(h,s,T))}b={arrayValue:{values:_}}}else b=MC(h,s,x)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||LC(x,g),b=EF(u,"where",x,g==="in"||g==="not-in");var k=ds.create(p,g,b);return(function(R,A){if(A.g()){var O=uA(R);if(O!==null&&!O.isEqual(A.field))throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+O.toString()+"' and '"+A.field.toString()+"'");var I=cA(R);I!==null&&RF(R,A.field,I)}var M=(function(C,z){for(var B=0,re=C.filters;B<re.length;B++){var te=re[B];if(z.indexOf(te.op)>=0)return te.op}return null})(R,(function(C){switch(C){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}})(A.op));if(M!==null)throw M===A.op?new Oe(ge.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+A.op.toString()+"' filter."):new Oe(ge.INVALID_ARGUMENT,"Invalid query. You cannot use '"+A.op.toString()+"' filters with '"+M.toString()+"' filters.")})(s,k),k})(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ps(n.firestore,n.converter,(function(s,c){var u=s.filters.concat([c]);return new Wc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),u,s.limit,s.limitType,s.startAt,s.endAt)})(n._query,i))},t})(l1),EU=(function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return ot(t,e),t.prototype._apply=function(n){var r=(function(i,s,c){if(i.startAt!==null)throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var u=new cm(s,c);return(function(h,p){if(cA(h)===null){var g=uA(h);g!==null&&RF(h,g,p.field)}})(i,u),u})(n._query,this.jc,this.zc);return new ps(n.firestore,n.converter,(function(i,s){var c=i.explicitOrderBy.concat([s]);return new Wc(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(n._query,r))},t})(l1),IC=(function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return ot(t,e),t.prototype._apply=function(n){return new ps(n.firestore,n.converter,iO(n._query,this.Hc,this.Jc))},t})(l1),OC=(function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return ot(t,e),t.prototype._apply=function(n){var r=CF(n,this.type,this.Yc,this.Xc);return new ps(n.firestore,n.converter,(function(i,s){return new Wc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(n._query,r))},t})(l1),FC=(function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return ot(t,e),t.prototype._apply=function(n){var r=CF(n,this.type,this.Yc,this.Xc);return new ps(n.firestore,n.converter,(function(i,s){return new Wc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(n._query,r))},t})(l1);function CF(e,t,n,r){if(n[0]=bn(n[0]),n[0]instanceof vy)return(function(s,c,u,h,p){if(!h)throw new Oe(ge.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+u+"().");for(var g=[],x=0,b=Sm(s);x<b.length;x++){var _=b[x];if(_.field.isKeyField())g.push(y_(c,h.key));else{var S=h.data.field(_.field);if(sA(S))throw new Oe(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(S===null){var E=_.field.canonicalString();throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}g.push(S)}}return new fy(g,p)})(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Zd(e.firestore);return(function(s,c,u,h,p,g){var x=s.explicitOrderBy;if(p.length>x.length)throw new Oe(ge.INVALID_ARGUMENT,"Too many arguments provided to "+h+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var b=[],_=0;_<p.length;_++){var S=p[_];if(x[_].field.isKeyField()){if(typeof S!="string")throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+h+"(), but got a "+typeof S);if(!fA(s)&&S.indexOf("/")!==-1)throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+h+"() must be a plain document ID, but '"+S+"' contains a slash.");var E=s.path.child(nn.fromString(S));if(!nt.isDocumentKey(E))throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+h+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var T=new nt(E);b.push(y_(c,T))}else{var k=EF(u,h,S);b.push(k)}}return new fy(b,g)})(e._query,e.firestore._databaseId,i,t,n,r)}function MC(e,t,n){if(typeof(n=bn(n))=="string"){if(n==="")throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!fA(t)&&n.indexOf("/")!==-1)throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(nn.fromString(n));if(!nt.isDocumentKey(r))throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return y_(e,new nt(r))}if(n instanceof Kn)return y_(e,n._key);throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+DE(n)+".")}function LC(e,t){if(!Array.isArray(e)||e.length===0)throw new Oe(ge.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Oe(ge.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function RF(e,t,n){if(!n.isEqual(t))throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qA=(function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ld(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Sr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(_m(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw et()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Kd(t.fields,(function(s,c){i[s]=r.convertValue(c,n)})),i},e.prototype.convertGeoPoint=function(t){return new IE(Sr(t.latitude),Sr(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map((function(i){return r.convertValue(i,n)}))},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=ZI(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cy(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=vf(t);return new Ma(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=nn.fromString(t);dt(kO(r));var i=new R_(r.get(1),r.get(3)),s=new nt(r.popFirst(5));return i.isEqual(n)||Tr("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var SU=(function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ot(t,e),t.prototype.convertBytes=function(n){return new Bd(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Kn(this.firestore,null,r)},t})(qA),TU=(function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Zd(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=of(t,this._firestore),s=FE(i.converter,n,r),c=OE(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,Ui.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var c,u=of(t,this._firestore);return c=typeof(n=bn(n))=="string"||n instanceof Ml?zA(this._dataReader,"WriteBatch.update",u._key,n,r,i):UA(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(c.toMutation(u._key,Ui.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=of(t,this._firestore);return this._mutations=this._mutations.concat(new s1(n._key,Ui.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Oe(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(e,t){if((e=bn(e)).firestore!==t)throw new Oe(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Td=(function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ot(t,e),t.prototype.convertBytes=function(n){return new Bd(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Kn(this.firestore,null,r)},t})(qA);function jC(e,t,n){e=an(e,Kn);var r=an(e.firestore,Mr),i=FE(e.converter,t,n);return c1(r,[OE(Zd(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Ui.none())])}function PC(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=an(e,Kn);var s=an(e.firestore,Mr),c=Zd(s);return c1(s,[(typeof(t=bn(t))=="string"||t instanceof Ml?zA(c,"updateDoc",e._key,t,n,r):UA(c,"updateDoc",e._key,t)).toMutation(e._key,Ui.exists(!0))])}function DF(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=bn(e);var c={includeMetadataChanges:!1},u=0;typeof i[u]!="object"||Mm(i[u])||(c=i[u],u++);var h,p,g,x={includeMetadataChanges:c.includeMetadataChanges};if(Mm(i[u])){var b=i[u];i[u]=(t=b.next)===null||t===void 0?void 0:t.bind(b),i[u+1]=(n=b.error)===null||n===void 0?void 0:n.bind(b),i[u+2]=(r=b.complete)===null||r===void 0?void 0:r.bind(b)}if(e instanceof Kn)p=an(e.firestore,Mr),g=t1(e._key.path),h={next:function(E){i[u]&&i[u](JT(p,e,E))},error:i[u+1],complete:i[u+2]};else{var _=an(e,ps);p=an(_.firestore,Mr),g=_._query;var S=new Td(p);h={next:function(E){i[u]&&i[u](new sf(p,S,_,E))},error:i[u+1],complete:i[u+2]},NF(e._query)}return(function(E,T,k,R){var A=this,O=new CE(R),I=new CA(T,O,k);return E.asyncQueue.enqueueAndForget((function(){return ke(A,void 0,void 0,(function(){var M;return Ae(this,(function(C){switch(C.label){case 0:return M=AA,[4,Fm(E)];case 1:return[2,M.apply(void 0,[C.sent(),I])]}}))}))})),function(){O.Wo(),E.asyncQueue.enqueueAndForget((function(){return ke(A,void 0,void 0,(function(){var M;return Ae(this,(function(C){switch(C.label){case 0:return M=kA,[4,Fm(E)];case 1:return[2,M.apply(void 0,[C.sent(),I])]}}))}))}))}})(ji(p),g,x,h)}function c1(e,t){return(function(n,r){var i=this,s=new Pa;return n.asyncQueue.enqueueAndForget((function(){return ke(i,void 0,void 0,(function(){var c;return Ae(this,(function(u){switch(u.label){case 0:return c=UB,[4,hF(n)];case 1:return[2,c.apply(void 0,[u.sent(),r,s])]}}))}))})),s.promise})(ji(e),t)}function JT(e,t,n){var r=n.docs.get(t._key),i=new Td(e);return new Pc(e,i,t._key,r,new wd(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AU=(function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return ot(t,e),t.prototype.get=function(n){var r=this,i=of(n,this._firestore),s=new Td(this._firestore);return e.prototype.get.call(this,n).then((function(c){return new Pc(r._firestore,s,i._key,c._document,new wd(!1,!1),i.converter)}))},t})((function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Zd(t)}return e.prototype.get=function(t){var n=this,r=of(t,this._firestore),i=new SU(this._firestore);return this._transaction.lookup([r._key]).then((function(s){if(!s||s.length!==1)return et();var c=s[0];if(c.isFoundDocument())return new vy(n._firestore,i,c.key,c,r.converter);if(c.isNoDocument())return new vy(n._firestore,i,r._key,null,r.converter);throw et()}))},e.prototype.set=function(t,n,r){var i=of(t,this._firestore),s=FE(i.converter,n,r),c=OE(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,c),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var c,u=of(t,this._firestore);return c=typeof(n=bn(n))=="string"||n instanceof Ml?zA(this._dataReader,"Transaction.update",u._key,n,r,i):UA(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,c),this},e.prototype.delete=function(t){var n=of(t,this._firestore);return this._transaction.delete(n._key),this},e})());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(){if(typeof Uint8Array>"u")throw new Oe(ge.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function UC(){if(typeof atob>"u")throw new Oe(ge.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var IF=(function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return UC(),new e(Bd.fromBase64String(t))},e.fromUint8Array=function(t){return BC(),new e(Bd.fromUint8Array(t))},e.prototype.toBase64=function(){return UC(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return BC(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e})(),kU=(function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return(function(r,i){DC(r=an(r,Mr));var s=ji(r),c=r._freezeSettings(),u=new $T;return RC(s,u,new lF(u,c.cacheSizeBytes,i==null?void 0:i.forceOwnership))})(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return(function(n){DC(n=an(n,Mr));var r=ji(n),i=n._freezeSettings(),s=new $T;return RC(r,s,new tU(s,i.cacheSizeBytes))})(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return(function(n){var r=this;if(n._initialized&&!n._terminated)throw new Oe(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Pa;return n._queue.enqueueAndForgetEvenWhileRestricted((function(){return ke(r,void 0,void 0,(function(){var s;return Ae(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,(function(u){return ke(this,void 0,void 0,(function(){var h;return Ae(this,(function(p){switch(p.label){case 0:return Cm.yt()?(h=u+"main",[4,Cm.delete(h)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}}))}))})(bA(n._databaseId,n._persistenceKey))];case 1:return c.sent(),i.resolve(),[3,3];case 2:return s=c.sent(),i.reject(s),[3,3];case 3:return[2]}}))}))})),i.promise})(t._delegate)},e})(),OF=(function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof R_||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||v_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),(function(i,s,c,u){var h;u===void 0&&(u={});var p=(i=an(i,gy))._getSettings();if(p.host!=="firestore.googleapis.com"&&p.host!==s&&v_("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},p),{host:s+":"+c,ssl:!1})),u.mockUserToken){var g,x;if(typeof u.mockUserToken=="string")g=u.mockUserToken,x=ci.MOCK_USER;else{g=zD(u.mockUserToken,(h=i._app)===null||h===void 0?void 0:h.options.projectId);var b=u.mockUserToken.sub||u.mockUserToken.user_id;if(!b)throw new Oe(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new ci(b)}i._credentials=new sU(new dF(g,x))}})(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return(function(t){var n=this;return t.asyncQueue.enqueue((function(){return ke(n,void 0,void 0,(function(){var r,i;return Ae(this,(function(s){switch(s.label){case 0:return[4,bC(t)];case 1:return r=s.sent(),[4,wC(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),(function(c){var u=Xe(c);return u.Or.delete(0),o1(u)})(i))]}}))}))}))})(ji(an(this._delegate,Mr)))},e.prototype.disableNetwork=function(){return(function(t){var n=this;return t.asyncQueue.enqueue((function(){return ke(n,void 0,void 0,(function(){var r,i;return Ae(this,(function(s){switch(s.label){case 0:return[4,bC(t)];case 1:return r=s.sent(),[4,wC(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),(function(c){return ke(this,void 0,void 0,(function(){var u;return Ae(this,(function(h){switch(h.label){case 0:return(u=Xe(c)).Or.add(0),[4,Km(u)];case 1:return h.sent(),u.Br.set("Offline"),[2]}}))}))})(i))]}}))}))}))})(ji(an(this._delegate,Mr)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&pF("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return(function(t){var n=this,r=new Pa;return t.asyncQueue.enqueueAndForget((function(){return ke(n,void 0,void 0,(function(){var i;return Ae(this,(function(s){switch(s.label){case 0:return i=qB,[4,hF(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}}))}))})),r.promise})(ji(an(this._delegate,Mr)))},e.prototype.onSnapshotsInSync=function(t){return(function(n,r){return(function(i,s){var c=this,u=new CE(s);return i.asyncQueue.enqueueAndForget((function(){return ke(c,void 0,void 0,(function(){var h;return Ae(this,(function(p){switch(p.label){case 0:return h=function(g,x){Xe(g).Gr.add(x),x.next()},[4,Fm(i)];case 1:return[2,h.apply(void 0,[p.sent(),u])]}}))}))})),function(){u.Wo(),i.asyncQueue.enqueueAndForget((function(){return ke(c,void 0,void 0,(function(){var h;return Ae(this,(function(p){switch(p.label){case 0:return h=function(g,x){Xe(g).Gr.delete(x)},[4,Fm(i)];case 1:return[2,h.apply(void 0,[p.sent(),u])]}}))}))}))}})(ji(n=an(n,Mr)),Mm(r)?r:{next:r})})(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Oe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new O_(this,mF(this._delegate,t))}catch(n){throw aa(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Ad(this,Zw(this._delegate,t))}catch(n){throw aa(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new jE(this,(function(n,r){if(n=an(n,gy),jA("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Oe(ge.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ps(n,null,(function(i){return new Wc(nn.emptyPath(),i)})(r))})(this._delegate,t))}catch(n){throw aa(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return(function(r,i){return(function(s,c){var u=this,h=new Pa;return s.asyncQueue.enqueueAndForget((function(){return ke(u,void 0,void 0,(function(){var p;return Ae(this,(function(g){switch(g.label){case 0:return[4,(function(x){return RE(x).then((function(b){return b.datastore}))})(s)];case 1:return p=g.sent(),new rU(s.asyncQueue,p,c,h).run(),[2]}}))}))})),h.promise})(ji(r),(function(s){return i(new AU(r,s))}))})(this._delegate,(function(r){return t(new FF(n,r))}))},e.prototype.batch=function(){var t=this;return ji(this._delegate),new MF(new TU(this._delegate,(function(n){return c1(t._delegate,n)})))},e.prototype.loadBundle=function(t){throw new Oe(ge.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Oe(ge.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e})(),ME=(function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ot(t,e),t.prototype.convertBytes=function(n){return new IF(new Bd(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Ad.eu(r,this.firestore,null)},t})(qA);function NU(e){var t;t=e,jo.setLogLevel(t)}var FF=(function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new ME(t)}return e.prototype.get=function(t){var n=this,r=_d(t);return this._delegate.get(r).then((function(i){return new xy(n._firestore,new Pc(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))}))},e.prototype.set=function(t,n,r){var i=_d(t);return r?(PA("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];var u=_d(t);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,Un([u,n,r],s)),this},e.prototype.delete=function(t){var n=_d(t);return this._delegate.delete(n),this},e})(),MF=(function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=_d(t);return r?(PA("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];var u=_d(t);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,Un([u,n,r],s)),this},e.prototype.delete=function(t){var n=_d(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e})(),LE=(function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new zx(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new yy(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new ME(t),n),i.set(n,s)),s},e})();LE.su=new WeakMap;var Ad=(function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new ME(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Oe(ge.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Kn(n._delegate,r,new nt(t)))},e.eu=function(t,n,r){return new e(n,new Kn(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new O_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new O_(this.firestore,mF(this._delegate,t))}catch(n){throw aa(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=bn(t))instanceof Kn&&gF(this._delegate,t)},e.prototype.set=function(t,n){n=PA("DocumentReference.set",n);try{return n?jC(this._delegate,t,n):jC(this._delegate,t)}catch(r){throw aa(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?PC(this._delegate,t):PC.apply(void 0,Un([this._delegate,t,n],r))}catch(s){throw aa(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return c1(an((t=this._delegate).firestore,Mr),[new s1(t._key,Ui.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=LF(n),s=jF(n,(function(c){return new xy(t.firestore,new Pc(t.firestore._delegate,t._userDataWriter,c._key,c._document,c.metadata,t._delegate.converter))}));return DF(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?(function(r){r=an(r,Kn);var i=an(r.firestore,Mr),s=ji(i),c=new Td(i);return(function(u,h){var p=this,g=new Pa;return u.asyncQueue.enqueueAndForget((function(){return ke(p,void 0,void 0,(function(){var x;return Ae(this,(function(b){switch(b.label){case 0:return x=function(_,S,E){return ke(this,void 0,void 0,(function(){var T,k;return Ae(this,(function(R){switch(R.label){case 0:return R.trys.push([0,2,,3]),[4,(function(A,O){var I=Xe(A);return I.persistence.runTransaction("read document","readonly",(function(M){return I.Mn.mn(M,O)}))})(_,S)];case 1:return(k=R.sent()).isFoundDocument()?E.resolve(k):k.isNoDocument()?E.resolve(null):E.reject(new Oe(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return T=R.sent(),k=Qm(T,"Failed to get document '"+S+" from cache"),E.reject(k),[3,3];case 3:return[2]}}))}))},[4,fF(u)];case 1:return[2,x.apply(void 0,[b.sent(),h,g])]}}))}))})),g.promise})(s,r._key).then((function(u){return new Pc(i,c,r._key,u,new wd(u!==null&&u.hasLocalMutations,!0),r.converter)}))})(this._delegate):(t==null?void 0:t.source)==="server"?(function(r){r=an(r,Kn);var i=an(r.firestore,Mr);return _C(ji(i),r._key,{source:"server"}).then((function(s){return JT(i,r,s)}))})(this._delegate):(function(r){r=an(r,Kn);var i=an(r.firestore,Mr);return _C(ji(i),r._key).then((function(s){return JT(i,r,s)}))})(this._delegate)).then((function(r){return new xy(n.firestore,new Pc(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(LE.nu(this.firestore,t)):this._delegate.withConverter(null))},e})();function aa(e,t,n){return e.message=e.message.replace(t,n),e}function LF(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Mm(r))return r}return{}}function jF(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=Mm(e[0])?e[0]:Mm(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var xy=(function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Ad(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return kF(this._delegate,t._delegate)},e})(),yy=(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ot(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t})(xy),jE=(function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new ME(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Zu(this._delegate,(function(i,s,c){var u=s,h=I_("where",i);return new _U(h,u,c)})(t,n,r)))}catch(i){throw aa(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Zu(this._delegate,(function(r,i){i===void 0&&(i="asc");var s=i,c=I_("orderBy",r);return new EU(c,s)})(t,n)))}catch(r){throw aa(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Zu(this._delegate,(function(n){return NC("limit",n),new IC("limit",n,"F")})(t)))}catch(n){throw aa(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Zu(this._delegate,(function(n){return NC("limitToLast",n),new IC("limitToLast",n,"L")})(t)))}catch(n){throw aa(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zu(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new OC("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw aa(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zu(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new OC("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw aa(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zu(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new FC("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw aa(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zu(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new FC("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw aa(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return vF(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?(function(r){r=an(r,ps);var i=an(r.firestore,Mr),s=ji(i),c=new Td(i);return(function(u,h){var p=this,g=new Pa;return u.asyncQueue.enqueueAndForget((function(){return ke(p,void 0,void 0,(function(){var x;return Ae(this,(function(b){switch(b.label){case 0:return x=function(_,S,E){return ke(this,void 0,void 0,(function(){var T,k,R,A,O;return Ae(this,(function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,k_(_,S,!0)];case 1:return O=I.sent(),T=new rF(S,O.Bn),k=T._o(O.documents),R=T.applyChanges(k,!1),E.resolve(R.snapshot),[3,3];case 2:return A=I.sent(),O=Qm(A,"Failed to execute query '"+S+" against cache"),E.reject(O),[3,3];case 3:return[2]}}))}))},[4,fF(u)];case 1:return[2,x.apply(void 0,[b.sent(),h,g])]}}))}))})),g.promise})(s,r._query).then((function(u){return new sf(i,c,r,u)}))})(this._delegate):(t==null?void 0:t.source)==="server"?(function(r){r=an(r,ps);var i=an(r.firestore,Mr),s=ji(i),c=new Td(i);return EC(s,r._query,{source:"server"}).then((function(u){return new sf(i,c,r,u)}))})(this._delegate):(function(r){r=an(r,ps);var i=an(r.firestore,Mr),s=ji(i),c=new Td(i);return NF(r._query),EC(s,r._query).then((function(u){return new sf(i,c,r,u)}))})(this._delegate)).then((function(r){return new ZT(n.firestore,new sf(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))}))},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=LF(n),s=jF(n,(function(c){return new ZT(t.firestore,new sf(t.firestore._delegate,t._userDataWriter,t._delegate,c._snapshot))}));return DF(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(LE.nu(this.firestore,t)):this._delegate.withConverter(null))},e})(),CU=(function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new yy(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e})(),ZT=(function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new jE(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(n){return new yy(t._firestore,n)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map((function(r){return new CU(n._firestore,r)}))},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach((function(i){t.call(n,new yy(r._firestore,i))}))},e.prototype.isEqual=function(t){return kF(this._delegate,t._delegate)},e})(),O_=(function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return ot(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Ad(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Ad(this.firestore,n===void 0?Zw(this._delegate):Zw(this._delegate,n))}catch(r){throw aa(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return(function(i,s){var c=an(i.firestore,Mr),u=Zw(i),h=FE(i.converter,s);return c1(c,[OE(Zd(i.firestore),"addDoc",u._key,h,i.converter!==null,{}).toMutation(u._key,Ui.exists(!1))]).then((function(){return u}))})(this._delegate,n).then((function(i){return new Ad(r.firestore,i)}))},t.prototype.isEqual=function(n){return gF(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(LE.nu(this.firestore,n)):this._delegate.withConverter(null))},t})(jE);function _d(e){return an(e,Kn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RU=(function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Ml.bind.apply(Ml,Un([void 0],t)))}return e.documentId=function(){return new e(Vo.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=bn(t))instanceof Ml&&this._delegate._internalPath.isEqual(t._internalPath)},e})(),DU=(function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new mU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new BA("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new gU("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new vU("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=(function(r){return new xU("increment",r)})(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e})(),IU={Firestore:OF,GeoPoint:IE,Timestamp:Ma,Blob:IF,Transaction:FF,WriteBatch:MF,DocumentReference:Ad,DocumentSnapshot:xy,Query:jE,QueryDocumentSnapshot:yy,QuerySnapshot:ZT,CollectionReference:O_,FieldPath:RU,FieldValue:DU,setLogLevel:NU,CACHE_SIZE_UNLIMITED:fU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(e){(function(t,n){t.INTERNAL.registerComponent(new Wy("firestore",(function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},IU)))})(e,(function(t,n){return new OF(t,new Mr(t,n),new kU)})),e.registerVersion("@firebase/firestore","2.4.1")}OU(Ze);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PF="firebasestorage.googleapis.com",BF="storageBucket",FU=120*1e3,MU=600*1e3,kr=(function(e){ot(t,e);function t(n,r){var i=e.call(this,YS(n),"Firebase Storage: "+r+" ("+YS(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return YS(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t})(HD);function YS(e){return"storage/"+e}function GA(){var e="An unknown error occurred, please check the error payload for server response.";return new kr("unknown",e)}function LU(e){return new kr("object-not-found","Object '"+e+"' does not exist.")}function jU(e){return new kr("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PU(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kr("unauthenticated",e)}function BU(){return new kr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function UU(e){return new kr("unauthorized","User does not have permission to access '"+e+"'.")}function zU(){return new kr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function UF(){return new kr("canceled","User canceled the upload/download.")}function VU(e){return new kr("invalid-url","Invalid URL '"+e+"'.")}function HU(e){return new kr("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function qU(){return new kr("no-default-bucket","No default bucket found. Did you set the '"+BF+"' property when initializing the app?")}function zF(){return new kr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function GU(){return new kr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function WU(){return new kr("no-download-url","The given file does not have any download URLs.")}function um(e){return new kr("invalid-argument",e)}function VF(){return new kr("app-deleted","The Firebase app was deleted.")}function HF(e){return new kr("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vx(e,t){return new kr("invalid-format","String does not match format '"+e+"': "+t)}function gw(e){throw new kr("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},$S=(function(){function e(t,n){this.data=t,this.contentType=n||null}return e})();function qF(e,t){switch(e){case qs.RAW:return new $S(GF(t));case qs.BASE64:case qs.BASE64URL:return new $S(WF(e,t));case qs.DATA_URL:return new $S(YU(t),$U(t))}throw GA()}function GF(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,c=e.charCodeAt(++n);r=65536|(s&1023)<<10|c&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function KU(e){var t;try{t=decodeURIComponent(e)}catch{throw Vx(qs.DATA_URL,"Malformed data URL.")}return GF(t)}function WF(e,t){switch(e){case qs.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Vx(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case qs.BASE64URL:{var s=t.indexOf("+")!==-1,c=t.indexOf("/")!==-1;if(s||c){var i=s?"+":"/";throw Vx(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var u;try{u=XU(t)}catch{throw Vx(e,"Invalid character found")}for(var h=new Uint8Array(u.length),p=0;p<u.length;p++)h[p]=u.charCodeAt(p);return h}var XF=(function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Vx(qs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=QU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e})();function YU(e){var t=new XF(e);return t.base64?WF(qs.BASE64,t.rest):KU(t.rest)}function $U(e){var t=new XF(e);return t.contentType}function QU(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JU={STATE_CHANGED:"state_changed"},sa={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function QS(e){switch(e){case"running":case"pausing":case"canceling":return sa.RUNNING;case"paused":return sa.PAUSED;case"success":return sa.SUCCESS;case"canceled":return sa.CANCELED;case"error":return sa.ERROR;default:return sa.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kd;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(kd||(kd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZU=(function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=kd.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=kd.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=kd.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw gw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw gw("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw gw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw gw("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e})();function e7(){return new ZU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t7=(function(){function e(){}return e.prototype.createConnection=function(){return e7()},e})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gs=(function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw HU(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}var c="(/(.*))?$",u=new RegExp("^gs://"+i+c,"i"),h={bucket:1,path:3};function p(B){B.path_=decodeURIComponent(B.path)}for(var g="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",_=new RegExp("^https?://"+x+"/"+g+"/b/"+i+"/o"+b,"i"),S={bucket:1,path:3},E=n===PF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",k=new RegExp("^https?://"+E+"/"+i+"/"+T,"i"),R={bucket:1,path:2},A=[{regex:u,indices:h,postModify:s},{regex:_,indices:S,postModify:p},{regex:k,indices:R,postModify:p}],O=0;O<A.length;O++){var I=A[O],M=I.regex.exec(t);if(M){var C=M[I.indices.bucket],z=M[I.indices.path];z||(z=""),r=new e(C,z),I.postModify(r);break}}if(r==null)throw VU(t);return r},e})(),n7=(function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(e,t,n){var r=1,i=null,s=!1,c=0;function u(){return c===2}var h=!1;function p(){for(var S=[],E=0;E<arguments.length;E++)S[E]=arguments[E];h||(h=!0,t.apply(null,S))}function g(S){i=setTimeout(function(){i=null,e(x,u())},S)}function x(S){for(var E=[],T=1;T<arguments.length;T++)E[T-1]=arguments[T];if(!h){if(S){p.call.apply(p,Un([null,S],E));return}var k=u()||s;if(k){p.call.apply(p,Un([null,S],E));return}r<64&&(r*=2);var R;c===1?(c=2,R=0):R=(r+Math.random())*1e3,g(R)}}var b=!1;function _(S){b||(b=!0,!h&&(i!==null?(S||(c=2),clearTimeout(i),g(0)):S||(c=1)))}return g(0),setTimeout(function(){s=!0,_(!0)},n),_}function i7(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(e){return e!==void 0}function s7(e){return typeof e=="function"}function o7(e){return typeof e=="object"&&!Array.isArray(e)}function PE(e){return typeof e=="string"||e instanceof String}function zC(e){return WA()&&e instanceof Blob}function WA(){return typeof Blob<"u"}function e2(e,t,n,r){if(r<t)throw um("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw um("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function KF(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l7=(function(){function e(t,n,r,i,s,c,u,h,p,g,x){var b=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=c.slice(),this.callback_=u,this.errorCallback_=h,this.progressCallback_=g,this.timeout_=p,this.pool_=x,this.promise_=new Promise(function(_,S){b.resolve_=_,b.reject_=S,b.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new vw(!1,null,!0));return}var c=t.pool_.createConnection();t.pendingConnection_=c;function u(h){var p=h.loaded,g=h.lengthComputable?h.total:-1;t.progressCallback_!==null&&t.progressCallback_(p,g)}t.progressCallback_!==null&&c.addUploadProgressListener(u),c.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&c.removeUploadProgressListener(u),t.pendingConnection_=null;var h=c.getErrorCode()===kd.NO_ERROR,p=c.getStatus();if(!h||t.isRetryStatusCode_(p)){var g=c.getErrorCode()===kd.ABORT;i(!1,new vw(!1,null,g));return}var x=t.successCodes_.indexOf(p)!==-1;i(!0,new vw(x,c))})}function r(i,s){var c=t.resolve_,u=t.reject_,h=s.connection;if(s.wasSuccessCode)try{var p=t.callback_(h,h.getResponseText());a7(p)?c(p):c()}catch(x){u(x)}else if(h!==null){var g=GA();g.serverResponse=h.getResponseText(),t.errorCallback_?u(t.errorCallback_(h,g)):u(g)}else if(s.canceled){var g=t.appDelete_?VF():UF();u(g)}else{var g=zU();u(g)}}this.canceled_?r(!1,new vw(!1,null,!0)):this.backoffId_=r7(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&i7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e})(),vw=(function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e})();function c7(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function u7(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function f7(e,t){t&&(e["X-Firebase-GMPID"]=t)}function h7(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function d7(e,t,n,r,i,s){var c=KF(e.urlParams),u=e.url+c,h=Object.assign({},e.headers);return f7(h,t),c7(h,n),u7(h,s),h7(h,r),new l7(u,e.method,h,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function m7(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=p7();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(WA())return new Blob(e);throw new kr("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function g7(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XA=(function(){function e(t,n){var r=0,i="";zC(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(zC(this.data_)){var r=this.data_,i=g7(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(WA()){var r=t.map(function(h){return h instanceof e?h.data_:h});return new e(m7.apply(null,r))}else{var i=t.map(function(h){return PE(h)?qF(qs.RAW,h).data:h.data_}),s=0;i.forEach(function(h){s+=h.byteLength});var c=new Uint8Array(s),u=0;return i.forEach(function(h){for(var p=0;p<h.length;p++)c[u++]=h[p]}),new e(c,!0)}},e.prototype.uploadData=function(){return this.data_},e})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(e){var t;try{t=JSON.parse(e)}catch{return null}return o7(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function x7(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function YF(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(e,t){return t}var ia=(function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||y7}return e})(),xw=null;function b7(e){return!PE(e)||e.length<2?e:YF(e)}function BE(){if(xw)return xw;var e=[];e.push(new ia("bucket")),e.push(new ia("generation")),e.push(new ia("metageneration")),e.push(new ia("name","fullPath",!0));function t(s,c){return b7(c)}var n=new ia("name");n.xform=t,e.push(n);function r(s,c){return c!==void 0?Number(c):c}var i=new ia("size");return i.xform=r,e.push(i),e.push(new ia("timeCreated")),e.push(new ia("updated")),e.push(new ia("md5Hash",null,!0)),e.push(new ia("cacheControl",null,!0)),e.push(new ia("contentDisposition",null,!0)),e.push(new ia("contentEncoding",null,!0)),e.push(new ia("contentLanguage",null,!0)),e.push(new ia("contentType",null,!0)),e.push(new ia("metadata","customMetadata",!0)),xw=e,xw}function w7(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new Gs(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function _7(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var c=n[s];r[c.local]=c.xform(r,t[c.server])}return w7(r,e),r}function $F(e,t,n){var r=KA(t);if(r===null)return null;var i=r;return _7(e,i,n)}function E7(e,t,n){var r=KA(t);if(r===null||!PE(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,c=i.split(","),u=c.map(function(h){var p=e.bucket,g=e.fullPath,x="/b/"+s(p)+"/o/"+s(g),b=Df(x,n),_=KF({alt:"media",token:h});return b+_});return u[0]}function YA(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VC="prefixes",HC="items";function S7(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[VC])for(var i=0,s=n[VC];i<s.length;i++){var c=s[i],u=c.replace(/\/$/,""),h=e._makeStorageReference(new Gs(t,u));r.prefixes.push(h)}if(n[HC])for(var p=0,g=n[HC];p<g.length;p++){var x=g[p],h=e._makeStorageReference(new Gs(t,x.name));r.items.push(h)}return r}function T7(e,t,n){var r=KA(n);if(r===null)return null;var i=r;return S7(e,t,i)}var Xc=(function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(e){if(!e)throw GA()}function UE(e,t){function n(r,i){var s=$F(e,i,t);return Ll(s!==null),s}return n}function A7(e,t){function n(r,i){var s=T7(e,t,i);return Ll(s!==null),s}return n}function k7(e,t){function n(r,i){var s=$F(e,i,t);return Ll(s!==null),E7(s,i,e.host)}return n}function Jm(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=BU():i=PU():n.getStatus()===402?i=jU(e.bucket):n.getStatus()===403?i=UU(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function zE(e){var t=Jm(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=LU(e.path)),s.serverResponse=i.serverResponse,s}return n}function QF(e,t,n){var r=t.fullServerUrl(),i=Df(r,e.host),s="GET",c=e.maxOperationRetryTime,u=new Xc(i,s,UE(e,n),c);return u.errorHandler=zE(t),u}function N7(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var c=t.bucketOnlyServerUrl(),u=Df(c,e.host),h="GET",p=e.maxOperationRetryTime,g=new Xc(u,h,A7(e,t.bucket),p);return g.urlParams=s,g.errorHandler=Jm(t),g}function C7(e,t,n){var r=t.fullServerUrl(),i=Df(r,e.host),s="GET",c=e.maxOperationRetryTime,u=new Xc(i,s,k7(e,n),c);return u.errorHandler=zE(t),u}function R7(e,t,n,r){var i=t.fullServerUrl(),s=Df(i,e.host),c="PATCH",u=YA(n,r),h={"Content-Type":"application/json; charset=utf-8"},p=e.maxOperationRetryTime,g=new Xc(s,c,UE(e,r),p);return g.headers=h,g.body=u,g.errorHandler=zE(t),g}function D7(e,t){var n=t.fullServerUrl(),r=Df(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function c(h,p){}var u=new Xc(r,i,c,s);return u.successCodes=[200,204],u.errorHandler=zE(t),u}function I7(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function JF(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=I7(null,t)),r}function O7(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function u(){for(var A="",O=0;O<2;O++)A=A+Math.random().toString().slice(2);return A}var h=u();c["Content-Type"]="multipart/related; boundary="+h;var p=JF(t,r,i),g=YA(p,n),x="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+h+"--",_=XA.getBlob(x,r,b);if(_===null)throw zF();var S={name:p.fullPath},E=Df(s,e.host),T="POST",k=e.maxUploadRetryTime,R=new Xc(E,T,UE(e,n),k);return R.urlParams=S,R.headers=c,R.body=_.uploadData(),R.errorHandler=Jm(t),R}var F_=(function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e})();function $A(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Ll(!1)}var r=t||["active"];return Ll(!!n&&r.indexOf(n)!==-1),n}function F7(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),c=JF(t,r,i),u={name:c.fullPath},h=Df(s,e.host),p="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},x=YA(c,n),b=e.maxUploadRetryTime;function _(E){$A(E);var T;try{T=E.getResponseHeader("X-Goog-Upload-URL")}catch{Ll(!1)}return Ll(PE(T)),T}var S=new Xc(h,p,_,b);return S.urlParams=u,S.headers=g,S.body=x,S.errorHandler=Jm(t),S}function M7(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(p){var g=$A(p,["active","final"]),x=null;try{x=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ll(!1)}x||Ll(!1);var b=Number(x);return Ll(!isNaN(b)),new F_(b,r.size(),g==="final")}var c="POST",u=e.maxUploadRetryTime,h=new Xc(n,c,s,u);return h.headers=i,h.errorHandler=Jm(t),h}var qC=256*1024;function L7(e,t,n,r,i,s,c,u){var h=new F_(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw GU();var p=h.total-h.current,g=p;i>0&&(g=Math.min(g,i));var x=h.current,b=x+g,_=g===p?"upload, finalize":"upload",S={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":""+h.current},E=r.slice(x,b);if(E===null)throw zF();function T(O,I){var M=$A(O,["active","final"]),C=h.current+g,z=r.size(),B;return M==="final"?B=UE(t,s)(O,I):B=null,new F_(C,z,M==="final",B)}var k="POST",R=t.maxUploadRetryTime,A=new Xc(n,k,T,R);return A.headers=S,A.body=E.uploadData(),A.progressCallback=u||null,A.errorHandler=Jm(e),A}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j7=(function(){function e(t,n,r){var i=s7(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZF=(function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=BE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,c){i._resolve=s,i._reject=c,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=F7(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(c){t._request=void 0,t._uploadUrl=c,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=M7(t._ref.storage,t._ref._location,n,t._blob),c=t._ref.storage._makeRequest(s,r,i);t._request=c,c.getPromise().then(function(u){u=u,t._request=void 0,t._updateProgress(u.current),t._needToFetchStatus=!1,u.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=qC*this._chunkMultiplier,r=new F_(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,c){var u;try{u=L7(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(p){t._error=p,t._transition("error");return}var h=t._ref.storage._makeRequest(u,s,c);t._request=h,h.getPromise().then(function(p){t._increaseMultiplier(),t._request=void 0,t._updateProgress(p.current),p.finalized?(t._metadata=p.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=qC*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=QF(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(c){t._request=void 0,t._metadata=c,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=O7(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(c){t._request=void 0,t._metadata=c,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=UF(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=QS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,c=new j7(n,r,i);return this._addObserver(c),function(){s._removeObserver(c)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(QS(this._state)){case sa.SUCCESS:Yp(this._resolve.bind(null,this.snapshot))();break;case sa.CANCELED:case sa.ERROR:var n=this._reject;Yp(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=QS(this._state);switch(n){case sa.RUNNING:case sa.PAUSED:t.next&&Yp(t.next.bind(t,this.snapshot))();break;case sa.SUCCESS:t.complete&&Yp(t.complete.bind(t))();break;case sa.CANCELED:case sa.ERROR:t.error&&Yp(t.error.bind(t,this._error))();break;default:t.error&&Yp(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e})();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VE=(function(){function e(t,n){this._service=t,n instanceof Gs?this._location=n:this._location=Gs.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Gs(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return YF(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=v7(this._location.path);if(t===null)return null;var n=new Gs(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw HF(t)},e})();function P7(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new ZF(e,new XA(t),n)}function B7(e){var t={prefixes:[],items:[]};return e3(e,t).then(function(){return t})}function e3(e,t,n){return ke(this,void 0,void 0,function(){var r,i,s,c;return Ae(this,function(u){switch(u.label){case 0:return r={pageToken:n},[4,t3(e,r)];case 1:return i=u.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(c=t.items).push.apply(c,i.items),i.nextPageToken==null?[3,3]:[4,e3(e,t,i.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function t3(e,t){return ke(this,void 0,void 0,function(){var n,r;return Ae(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&e2("options.maxResults",1,1e3,t.maxResults),n=t||{},r=N7(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function U7(e){return ke(this,void 0,void 0,function(){var t;return Ae(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=QF(e.storage,e._location,BE()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function z7(e,t){return ke(this,void 0,void 0,function(){var n;return Ae(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=R7(e.storage,e._location,t,BE()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function V7(e){return ke(this,void 0,void 0,function(){var t;return Ae(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=C7(e.storage,e._location,BE()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw WU();return r})]}})})}function H7(e){return ke(this,void 0,void 0,function(){var t;return Ae(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=D7(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function n3(e,t){var n=x7(e._location.path,t),r=new Gs(e._location.bucket,n);return new VE(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(e){return/^[A-Za-z]+:\/\//.test(e)}function q7(e,t){return new VE(e,t)}function r3(e,t){if(e instanceof HE){var n=e;if(n._bucket==null)throw qU();var r=new VE(n,n._bucket);return t!=null?r3(r,t):r}else return t!==void 0?n3(e,t):e}function G7(e,t){if(t&&t2(t)){if(e instanceof HE)return q7(e,t);throw um("To use ref(service, url), the first argument must be a Storage instance.")}else return r3(e,t)}function GC(e,t){var n=t==null?void 0:t[BF];return n==null?null:Gs.makeFromBucketSpec(n,e)}function W7(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken=typeof i=="string"?i:zD(i,e.app.options.projectId))}var HE=(function(){function e(t,n,r,i,s,c){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=c,this._bucket=null,this._host=PF,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FU,this._maxUploadRetryTime=MU,this._requests=new Set,s!=null?this._bucket=Gs.makeFromBucketSpec(s,this._host):this._bucket=GC(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Gs.makeFromBucketSpec(this._url,t):this._bucket=GC(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){e2("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){e2("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return ke(this,void 0,void 0,function(){var t,n;return Ae(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return ke(this,void 0,void 0,function(){var t,n;return Ae(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new VE(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new n7(VF());var s=d7(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return ke(this,void 0,void 0,function(){var n,r,i;return Ae(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(e,t,n){return e=bn(e),P7(e,t,n)}function K7(e){return e=bn(e),U7(e)}function Y7(e,t){return e=bn(e),z7(e,t)}function $7(e,t){return e=bn(e),t3(e,t)}function Q7(e){return e=bn(e),B7(e)}function J7(e){return e=bn(e),V7(e)}function Z7(e){return e=bn(e),H7(e)}function WC(e,t){return e=bn(e),G7(e,t)}function e9(e,t){return n3(e,t)}function t9(e,t,n,r){r===void 0&&(r={}),W7(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yw=(function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XC=(function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new yw(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new yw(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,c=void 0;return n&&(typeof n=="function"?c=function(u){return n(new yw(u,s,s._ref))}:c={next:n.next?function(u){return n.next(new yw(u,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,c,r||void 0,i||void 0)},e})(),KC=(function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new by(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new by(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var by=(function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=e9(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new XC(X7(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=qs.RAW),this._throwIfRoot("putString");var i=qF(n,t),s=vm({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new XC(new ZF(this._delegate,new XA(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return Q7(this._delegate).then(function(n){return new KC(n,t.storage)})},e.prototype.list=function(t){var n=this;return $7(this._delegate,t||void 0).then(function(r){return new KC(r,n.storage)})},e.prototype.getMetadata=function(){return K7(this._delegate)},e.prototype.updateMetadata=function(t){return Y7(this._delegate,t)},e.prototype.getDownloadURL=function(){return J7(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),Z7(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw HF(t)},e})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n9=(function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(t2(t))throw um("ref() expected a child path but got a URL, use refFromURL instead.");return new by(WC(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!t2(t))throw um("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Gs.makeFromUrl(t,this._delegate.host)}catch{throw um("refFromUrl() expected a valid full URL but got an invalid one.")}return new by(WC(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),t9(this._delegate,t,n,r)},e})(),r9="@firebase/storage",i9="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a9="storage";function s9(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),c=new n9(r,new HE(r,i,s,new t7,n,Ze.SDK_VERSION));return c}function o9(e){var t={TaskState:sa,TaskEvent:JU,StringFormat:qs,Storage:HE,Reference:by};e.INTERNAL.registerComponent(new Wy(a9,s9,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(r9,i9)}o9(Ze);const l9={apiKey:"AIzaSyBNYPJQRfg3zcrhwzg05gUul9-xFLphCkw",authDomain:"borrowgmni.firebaseapp.com",projectId:"borrowgmni",storageBucket:"borrowgmni.firebasestorage.app",messagingSenderId:"724759892595",appId:"1:724759892595:web:5974a89b9985a55d431006",measurementId:"G-QSVE1X2M3B"};Ze.apps.length===0&&Ze.initializeApp(l9);const Fo=Ze.auth(),ze=Ze.firestore(),c9=Ze.storage(),Ln=(e,t,n)=>{const r=ze.collection("activityLog").doc(),i=Fo.currentUser,s={action:t,timestamp:Ze.firestore.FieldValue.serverTimestamp(),...n};n.user_id&&(s.user_id=n.user_id),i&&(s.adminId=i.uid,s.adminName=i.displayName||i.email),e.set(r,s)},i3=async e=>{const t=await ze.collection("users").doc(e).get();return t.exists?t.data():null},u9=(e,t)=>{const n=ze.batch(),r=ze.collection("users").doc(e);return n.set(r,{uid:e,...t,createdAt:Ze.firestore.FieldValue.serverTimestamp()}),Ln(n,"CREATE_USER",{uid:e,email:t.email,name:t.name,phone_number:t.phone_number||null}),n.commit()},yf=async(e={})=>{const{q:t,f:n,t:r,includeDeleted:i}=e;let s=ze.collection("equipment");n&&n!=="all"?s=s.where("status","==",n):i||(s=s.where("status","!=","deleted")),r&&(s=s.where("type","==",r));const[c,u]=await Promise.all([s.get(),ze.collection("equipmentTypes").get()]),h=new Map;u.docs.forEach(g=>{h.set(g.id,g.data().imageUrl)});let p=c.docs.map(g=>({id:g.id,...g.data(),typeImageUrl:h.get(g.data().type)||null}));if(t){const g=t.toLowerCase();p=p.filter(x=>{var b,_,S;return((b=x.name)==null?void 0:b.toLowerCase().includes(g))||((_=x.serial)==null?void 0:_.toLowerCase().includes(g))||((S=x.type)==null?void 0:S.toLowerCase().includes(g))})}return p},qE=async()=>{const t=(await ze.collection("equipment").get()).docs.map(n=>n.data().type);return[...new Set(t)]},a3=async()=>(await ze.collection("users").get()).docs.map(t=>({id:t.id,...t.data()})),M_=async(e,t)=>{const n=ze.batch(),r=ze.collection("users").doc(e),i=(await r.get()).data();return n.update(r,t),Ln(n,"UPDATE_USER",{uid:e,oldData:i,newData:t}),n.commit()},YC=async(e,t)=>{const n=ze.batch(),r=ze.collection("users").doc(e),i=(await r.get()).data();n.update(r,{status:"deleted"});try{await h9(e)}catch(s){console.warn("Could not delete user from Firebase Authentication via client-side. This typically requires Firebase Admin SDK on a backend (e.g., Cloud Function) to delete other users' auth accounts.",s.message)}return Ln(n,"DELETE_USER",{userId:e,email:i==null?void 0:i.email,name:i==null?void 0:i.name,reason:t}),n.commit()},f9=async e=>{const t=ze.batch(),n=ze.collection("users").doc(e);return t.update(n,{status:"active"}),Ln(t,"RECOVER_USER",{userId:e}),t.commit()},h9=async e=>{const t=Fo.currentUser;if(t&&t.uid===e)try{return await t.delete(),console.log("User successfully deleted from Firebase Authentication."),!0}catch(n){throw console.error("Error deleting user from Firebase Authentication:",n),n}else return console.warn("Attempted to delete another user's auth account from client-side. This operation is not allowed directly."),!1},d9=(e,t)=>Fo.signInWithEmailAndPassword(e,t),s3=async(e,t,n,r)=>{const i=await Fo.createUserWithEmailAndPassword(e,t),s=i.user;return s&&(await s.updateProfile({displayName:n}),await u9(s.uid,{name:n,email:s.email,role:r.role||"user",status:"pending_approval"})),i},o3=async e=>{const t=Fo.currentUser;if(t&&t.email){const n=Ze.auth.EmailAuthProvider.credential(t.email,e);return t.reauthenticateWithCredential(n)}throw new Error("User not found or email not available.")},p9=async e=>{const t=ze.batch(),n=ze.collection("equipment").doc(),r={...e,status:"available",createdAt:Ze.firestore.FieldValue.serverTimestamp()};return t.set(n,r),Ln(t,"ADD_EQUIPMENT",{equipmentId:n.id,name:e.name,serial:e.serial,type:e.type}),await t.commit(),n.id},m9=async(e,t)=>{const n=ze.batch(),r=[];for(const i of e){const s=ze.collection("equipment").doc(i),c=(await s.get()).data();n.update(s,{status:t}),r.push({id:i,oldStatus:c==null?void 0:c.status,newStatus:t,name:c==null?void 0:c.name,serial:c==null?void 0:c.serial})}return Ln(n,"BATCH_UPDATE_STATUS",{equipmentIds:e,count:e.length,newStatus:t,details:r}),n.commit()},g9=async(e,t)=>{const n=ze.batch(),r=ze.collection("equipment").doc(e),i=(await r.get()).data();return n.update(r,{status:"deleted"}),Ln(n,"DELETE_EQUIPMENT",{equipmentId:e,name:i==null?void 0:i.name,serial:i==null?void 0:i.serial,reason:t}),n.commit()},v9=async(e,t)=>{const r=[],i=[];for(let s=0;s<e.length;s+=499){const c=e.slice(s,s+499),u=ze.batch(),h=[];for(const p of c){const g=ze.collection("equipment").doc(p),x=(await g.get()).data();u.update(g,{status:"deleted"}),h.push({id:p,name:x==null?void 0:x.name,serial:x==null?void 0:x.serial})}Ln(u,"BATCH_DELETE_EQUIPMENT",{equipmentIds:c,count:c.length,reason:t,details:h}),i.push(...h),r.push(u.commit())}return await Promise.all(r),i},x9=async e=>{const t=ze.batch(),n=[];return e.forEach(r=>{const i=ze.collection("equipment").doc();t.set(i,{...r,status:r.status||"available",createdAt:Ze.firestore.FieldValue.serverTimestamp()}),n.push({id:i.id,name:r.name,serial:r.serial})}),Ln(t,"IMPORT_EQUIPMENT",{count:e.length,details:n}),t.commit()},y9=async e=>{const t=Fo.currentUser;if(!t)throw new Error("User not logged in.");const n=ze.batch(),r=ze.collection("borrows").doc(),i=new Date(e.borrow_date);i.setDate(i.getDate()+7);const s={...e,user_id:t.uid,user_name:t.displayName||t.email,status:"pending_borrow_approval",request_date:Ze.firestore.FieldValue.serverTimestamp(),due_date:i.toISOString().slice(0,10)};return n.set(r,s),Ln(n,"CREATE_BORROW_REQUEST",{borrowId:r.id,purpose:e.purpose,equipmentRequests:e.equipment_requests}),n.commit()},b9=(e,t)=>{let n=ze.collection("borrows");return e&&(n=n.where("user_id","==",e)),n.orderBy("request_date","desc").onSnapshot(i=>{const s=u=>{switch(u){case"pending_borrow_approval":return"";case"pending_delivery":return"";case"borrowed":return"";case"returned_pending_assessment":return" ()";case"completed":return"";case"rejected":return"";default:return u}},c=i.docs.map(u=>({id:u.id,...u.data(),displayStatus:s(u.data().status)}));t(c)})},w9=async()=>(await ze.collection("borrows").where("status","==","pending_borrow_approval").get()).docs.map(t=>({id:t.id,...t.data()})),_9=async e=>{const t=ze.batch(),n=ze.collection("borrows").doc(e);try{const r=await n.get();if(!r.exists)throw new Error("Borrow request not found!");const s=r.data().equipment_requests;if(!s||s.length===0)throw new Error("No equipment requested in this borrow request.");const c=[];for(const u of s){const h=await ze.collection("equipment").where("type","==",u.type).where("status","==","available").limit(u.quantity).get();if(h.docs.length<u.quantity)throw new Error(` ${u.type}  ( ${u.quantity}   ${h.docs.length} )`);h.docs.forEach(p=>{c.push({id:p.id,...p.data()})})}t.update(n,{status:"pending_delivery",equipment_assigned:c});for(const u of c){const h=ze.collection("equipment").doc(u.id);t.update(h,{status:"pending_delivery"})}return Ln(t,"APPROVE_AND_AUTO_ASSIGN_BORROW",{borrowId:e,assignedEquipment:c.map(u=>({id:u.id,name:u.name,serial:u.serial}))}),t.commit()}catch(r){throw console.error("Error during auto-assignment and approval: ",r),r}},E9=async e=>{const t=ze.batch(),n=ze.collection("borrows").doc(e),r=(await n.get()).data();return t.update(n,{status:"rejected"}),Ln(t,"REJECT_BORROW",{borrowId:e,equipmentRequests:r==null?void 0:r.equipment_requests}),t.commit()},S9=async()=>(await ze.collection("borrows").where("status","==","pending_delivery").get()).docs.map(t=>({id:t.id,...t.data()})),T9=async()=>(await ze.collection("borrows").where("status","==","borrowed").get()).docs.map(t=>({id:t.id,...t.data()})),A9=async e=>{const t=ze.batch(),n=ze.collection("borrows").doc(e),i=(await n.get()).data();return t.update(n,{status:"returned_pending_assessment",returned_date:Ze.firestore.FieldValue.serverTimestamp(),equipment_returned:(i==null?void 0:i.equipment_assigned)||[]}),Ln(t,"PROCESS_RETURN",{borrowId:e}),t.commit()},k9=async()=>(await ze.collection("repairs").where("status","==","pending_repair_approval").get()).docs.map(t=>({id:t.id,...t.data()})),N9=async()=>(await ze.collection("repairs").where("status","in",["repair_approved","repair_in_progress"]).get()).docs.map(t=>({id:t.id,...t.data()})),C9=async e=>{const t=ze.batch(),n=ze.collection("repairs").doc(e),i=(await n.get()).data();if(i!=null&&i.equipment_id){const s=ze.collection("equipment").doc(i.equipment_id),c=(await s.get()).data();t.update(s,{status:"under_maintenance"}),t.update(n,{status:"repair_approved"}),Ln(t,"APPROVE_REPAIR",{repairId:e,equipmentId:i.equipment_id,equipmentName:c==null?void 0:c.name})}else throw new Error("Repair record is missing equipment ID.");return t.commit()},R9=async e=>{const t=ze.batch(),n=ze.collection("repairs").doc(e),i=(await n.get()).data();if(i!=null&&i.equipment_id){const s=ze.collection("equipment").doc(i.equipment_id),c=(await s.get()).data();t.update(s,{status:"available"}),t.update(n,{status:"repair_rejected"}),Ln(t,"REJECT_REPAIR",{repairId:e,equipmentId:i.equipment_id,equipmentName:c==null?void 0:c.name})}else throw new Error("Repair record is missing equipment ID.");return t.commit()},D9=async e=>{let t=ze.collection("borrows"),n=ze.collection("repairs");if(e){const x=parseInt(e.split("-")[0]),b=parseInt(e.split("-")[1])-1,_=new Date(x,b,1),S=new Date(x,b+1,1);t=t.where("request_date",">=",_).where("request_date","<",S),n=n.where("request_date",">=",_).where("request_date","<",S)}const[r,i]=await Promise.all([t.get(),n.get()]),s=r.docs.map(x=>x.data()),c=i.docs.map(x=>x.data()),u=s.length,h=c.length,p=c.reduce((x,b)=>x+(Number(b.cost)||0),0),g=s.flatMap(x=>x.equipment_requests||[]).reduce((x,b)=>(x[b.type]=(x[b.type]||0)+b.quantity,x),{});return{totalBorrows:u,totalRepairs:h,totalRepairCost:p,borrowingByType:g}},GE=async(e,t=!1,n,r)=>{let i=ze.collection("activityLog").orderBy("timestamp","desc");if(n&&(i=i.where("adminId","==",n)),r&&(i=i.where("borrowId","==",r)),e){const c=new Date(e);c.setHours(0,0,0,0);const u=new Date(e);u.setHours(23,59,59,999),i=i.where("timestamp",">=",c).where("timestamp","<=",u)}else i=i.limit(100);return(await i.get()).docs.map(c=>({id:c.id,...c.data()}))},I9=async()=>{const e=await ze.collection("activityLog").get(),t=ze.batch();return e.docs.forEach(n=>{t.delete(n.ref)}),Ln(t,"CLEAR_ACTIVITY_LOG",{count:e.size}),t.commit()},O9=async()=>{const e=await ze.collection("assessments").get(),t=ze.batch();return e.docs.forEach(n=>{t.delete(n.ref)}),Ln(t,"CLEAR_ASSESSMENT_HISTORY",{count:e.size}),t.commit()},l3=async()=>{const e=await ze.collection("borrows").get(),t=ze.batch();return e.docs.forEach(n=>{t.delete(n.ref)}),Ln(t,"CLEAR_BORROW_HISTORY",{count:e.size}),t.commit()},F9=async()=>{const e=await ze.collection("repairs").get(),t=ze.batch();return e.docs.forEach(n=>{t.delete(n.ref)}),Ln(t,"CLEAR_REPAIR_HISTORY",{count:e.size}),t.commit()},c3=async(e,t)=>{if(!t)throw new Error("No file provided for upload.");const n=c9.ref(),i=`image.${t.name.split(".").pop()}`,u=await(await n.child(`equipment_types/${e}/${i}`).put(t)).ref.getDownloadURL();return await ze.collection("equipmentTypes").doc(e).set({imageUrl:u},{merge:!0}),u},M9=async e=>{const t=await ze.collection("assessments").doc(e).get();return t.exists?{id:t.id,...t.data()}:(console.error("No such assessment document!"),null)},L9=async e=>{const t=ze.batch(),{borrowRequestId:n,equipmentId:r}=e,i=ze.collection("assessments").doc();t.set(i,e);const s=ze.collection("equipment").doc(r);t.update(s,{status:"borrowed"});const c=ze.collection("borrows").doc(n);return t.update(c,{status:"borrowed"}),Ln(t,"CONFIRM_DELIVERY",{borrowRequestId:n,equipmentId:r,assessmentId:i.id}),t.commit()},j9=async(e,t)=>{const n=ze.batch(),{borrowRequestId:r,equipmentId:i}=e,s=ze.collection("assessments").doc();n.set(s,e);const c=ze.collection("equipment").doc(i);n.update(c,{status:"under_maintenance"});const u=ze.collection("equipment").doc(t);n.update(u,{status:"borrowed"});const h=ze.collection("borrows").doc(r),[p,g]=await Promise.all([h.get(),u.get()]),x=p.data(),b=g.data();if(x&&x.equipment_assigned&&b){const _={id:g.id,name:b.name,serial:b.serial,type:b.type},S=x.equipment_assigned.map(E=>E.id===i?_:E);n.update(h,{equipment_assigned:S})}return n.update(h,{status:"borrowed"}),Ln(n,"CHANGE_EQUIPMENT_AND_DELIVER",{borrowRequestId:r,faultyEquipmentId:i,replacementId:t,assessmentId:s.id}),n.commit()},P9=async()=>(await ze.collection("borrows").where("status","==","returned_pending_assessment").get()).docs.map(t=>({id:t.id,...t.data()})),B9=async e=>{const t=ze.batch(),{equipmentId:n,isAbnormal:r,damageDescription:i,estimatedCost:s,borrowRequestId:c}=e,u=ze.collection("assessments").doc();t.set(u,e),Ln(t,"POST_ASSESSMENT",{...e,assessmentId:u.id});const h=ze.collection("equipment").doc(n);if(r){const x=(await h.get()).data(),b=ze.collection("repairs").doc();t.set(b,{equipment_id:n,equipment_name:(x==null?void 0:x.name)||"N/A",equipment_serial:(x==null?void 0:x.serial)||"N/A",equipment_type:(x==null?void 0:x.type)||"N/A",damage_description:i,cost:s,status:"pending_repair_approval",request_date:Ze.firestore.FieldValue.serverTimestamp(),borrow_request_id:c,assessment_id:u.id}),t.update(h,{status:"pending_repair_approval"}),Ln(t,"CREATE_REPAIR_REQUEST_FROM_ASSESSMENT",{repairId:b.id,equipmentId:n})}else t.update(h,{status:"available"});const p=ze.collection("borrows").doc(e.borrowRequestId);return t.update(p,{status:"completed"}),t.commit()},U9=async e=>{var x;const t=ze.batch(),{repairId:n,repairDetails:r,finalCost:i,replacedParts:s,technicianId:c,technicianName:u}=e,h=ze.collection("repairs").doc(n);t.update(h,{status:"repair_completed",repair_details:r,final_cost:i,replaced_parts:s,completed_at:Ze.firestore.FieldValue.serverTimestamp(),technician_id:c,technician_name:u});const g=(x=(await h.get()).data())==null?void 0:x.equipment_id;if(g){const b=ze.collection("equipment").doc(g);t.update(b,{status:"available"})}return Ln(t,"COMPLETE_REPAIR",{repairId:n,equipmentId:g,user_id:c}),t.commit()},z9=async e=>{const t=ze.batch(),{equipmentId:n,newStatus:r,damageDescription:i,...s}=e,c=ze.collection("standardAssessments").doc();t.set(c,{equipmentId:n,newStatus:r,damageDescription:i,...s});const u=ze.collection("equipment").doc(n);if(t.update(u,{status:r}),r==="under_maintenance"){const h=ze.collection("repairs").doc();t.set(h,{equipment_id:n,equipment_name:s.equipmentName,damage_description:i,status:"repair_approved",request_date:Ze.firestore.FieldValue.serverTimestamp(),assessment_id:c.id})}return Ln(t,"STANDARD_ASSESSMENT",{assessmentId:c.id,equipmentId:n,equipmentName:s.equipmentName,newStatus:r}),t.commit()},V9=async()=>(await ze.collection("standardAssessments").orderBy("assessedAt","desc").get()).docs.map(t=>({id:t.id,...t.data()})),H9=()=>{const{user:e,handleLogout:t}=$r();return y.jsx("header",{className:"sticky top-0 z-30",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between",children:[y.jsxs(Lx,{to:e?"/dashboard":"/",className:"flex items-center gap-3 cursor-pointer",children:[y.jsx("div",{className:"w-9 h-9 rounded-xl bg-[var(--primary-color)] flex items-center justify-center",children:y.jsx("span",{className:"text-2xl text-white",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-lg text-[var(--text-color)]",children:"Yonchuw"}),y.jsx("p",{className:"text-blue-200 text-xs -mt-0.5",children:""})]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[e&&y.jsx("div",{id:"notificationArea",className:"relative"}),y.jsx("nav",{className:"hidden md:flex items-center gap-2",children:e?y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-sm font-medium text-[var(--text-color)]",children:e.name}),y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-[var(--danger-color)] text-white hover:opacity-90 transition text-sm",children:""})]}):y.jsxs(y.Fragment,{children:[y.jsx(Lx,{to:"/login",className:"px-4 py-2 rounded-lg hover:bg-gray-100 transition text-[var(--text-color)]",children:""}),y.jsx(Lx,{to:"/register",className:"px-4 py-2 rounded-lg bg-white text-[var(--primary-color)] font-semibold hover:opacity-90 transition",children:""})]})}),y.jsx("button",{id:"hamburgerBtn",className:"md:hidden p-2 rounded-lg hover:bg-gray-100 text-2xl text-[var(--text-color)]",children:y.jsx("span",{children:""})})]})]})})},q9=()=>y.jsx("footer",{className:"py-4 px-4 text-gray-800 text-sm border-t border-[var(--border-color)]",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-gray-900",children:" 12.4.4"}),y.jsx("p",{className:"text-xs text-gray-600",children:"11 , ., ., . 96000 | : 073-514-960"})]}),y.jsx("div",{className:"text-xs text-gray-600",children:y.jsxs("p",{children:[" ",new Date().getFullYear()," All rights reserved."]})})]})}),G9=()=>y.jsxs("div",{id:"sidebar",className:"fixed inset-0 z-40 md:hidden hidden",children:[y.jsx("div",{id:"sidebarBackdrop",className:"absolute inset-0 bg-black/50 opacity-0 transition-opacity duration-300"}),y.jsxs("div",{id:"sidebarContent",className:"relative z-10 w-64 bg-gradient-to-b from-[var(--primary-color)] to-[var(--primary-dark-color)] text-white h-full p-4 flex flex-col transform -translate-x-full transition-transform duration-300 ease-in-out",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h3",{className:"font-semibold text-lg",children:""}),y.jsx("button",{id:"sidebarCloseBtn",className:"p-2 text-2xl leading-none",children:""})]}),y.jsx("nav",{id:"sidebarNav",className:"flex flex-col gap-2"}),y.jsxs("div",{className:"mt-auto pt-6 border-t border-white/10",children:[y.jsxs("div",{id:"sidebarUserInfo",className:"hidden flex-col items-start gap-1",children:[y.jsx("span",{id:"sidebarUserNameDisplay",className:"text-sm font-semibold"}),y.jsx("span",{id:"sidebarUserRoleDisplay",className:"text-xs px-2 py-0.5 rounded-full bg-white/10 text-white"}),y.jsx("button",{id:"reportProblemBtn",className:"mt-4 text-left w-full text-sm text-slate-300 hover:text-white",children:""}),y.jsx("button",{id:"sidebarBtnLogout",className:"mt-2 px-4 py-2 rounded-lg bg-red-500/20 text-red-100 hover:bg-red-500/40 transition text-sm w-full",children:""})]}),y.jsxs("div",{id:"sidebarLoginActions",children:[y.jsx("button",{id:"sidebarBtnLogin",className:"w-full px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20 transition",children:""}),y.jsx("button",{id:"sidebarBtnRegister",className:"mt-2 w-full px-4 py-2 rounded-lg bg-white text-slate-900 font-semibold hover:opacity-90 transition",children:""})]})]})]})]}),W9=({isOpen:e,title:t,children:n,onClose:r})=>e?y.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 transition-opacity duration-300",onClick:r,children:y.jsxs("div",{id:"modalContent",className:"bg-white rounded-2xl p-6 text-[var(--text-color-dark)] w-full max-w-2xl max-h-[90vh] overflow-y-auto transform transition-transform duration-300 scale-100 shadow-xl",onClick:i=>i.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-xl font-bold",children:t}),y.jsx("button",{onClick:r,className:"text-2xl leading-none text-gray-400 hover:text-gray-800",children:""})]}),y.jsx("div",{className:"mt-4",children:n})]})}):null,X9=()=>y.jsx("div",{id:"toast",className:"fixed bottom-5 left-1/2 -translate-x-1/2 px-5 py-3 rounded-lg text-white text-sm font-medium shadow-lg hidden transition-all duration-300"}),K9=()=>{const e=qy(),{user:t}=$r(),n=()=>{e(t?"/dashboard":"/login")};return y.jsx("section",{id:"home",className:"fade-in",children:y.jsx("div",{className:"p-8 md:p-12 lg:p-16 rounded-2xl bg-gradient-to-br from-[var(--primary-color)] to-[var(--primary-dark-color)]",children:y.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-5xl sm:text-6xl font-bold leading-tight tracking-tighter text-white",children:" - "}),y.jsx("p",{className:"mt-4 text-lg text-blue-100",children:"  "}),y.jsxs("div",{className:"mt-8 flex flex-wrap gap-4",children:[y.jsx("button",{onClick:n,className:"px-6 py-3 rounded-xl bg-white text-[var(--primary-color)] font-semibold shadow-md hover:shadow-lg hover:bg-gray-100 transition-all",children:""}),y.jsx("button",{onClick:()=>e("/equipment"),className:"px-6 py-3 rounded-xl text-white hover:bg-white/10 transition-colors",children:" ()"})]}),y.jsxs("div",{className:"mt-6 flex items-center gap-3 text-sm text-blue-300",children:[y.jsx("span",{children:"Responsive"}),y.jsx("span",{children:""}),y.jsx("span",{children:"Role-based"}),y.jsx("span",{children:""}),y.jsx("span",{children:"Real-time"})]})]}),y.jsxs("div",{className:"bg-[var(--card-bg-color)] rounded-2xl p-6 shadow-sm",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("p",{className:"font-semibold text-[var(--text-color-dark)]",children:""}),y.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-[var(--primary-color)] font-medium",children:"Demo"})]}),y.jsxs("ol",{className:"mt-4 space-y-2.5 text-sm text-[var(--text-color-dark)] list-decimal list-inside",children:[y.jsxs("li",{children:[y.jsx("strong",{children:":"}),"    "]}),y.jsxs("li",{children:[y.jsx("strong",{children:":"}),"   "]}),y.jsxs("li",{children:[y.jsx("strong",{children:":"}),"  ()"]}),y.jsxs("li",{children:[y.jsx("strong",{children:":"}),"   "]}),y.jsxs("li",{children:[y.jsx("strong",{children:":"}),"   /"]}),y.jsxs("li",{children:[y.jsx("strong",{children:":"}),"          "]})]}),y.jsxs("div",{className:"mt-5 p-4 rounded-lg bg-blue-50 border border-blue-200 text-sm text-blue-900",children:[y.jsx("strong",{children:" (: password)"}),y.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[y.jsx("li",{children:"admin@nrt.web.app ()"}),y.jsx("li",{children:"approver@nrt.web.app ()"}),y.jsx("li",{children:"tech@nrt.web.app ()"}),y.jsx("li",{children:"user@nrt.web.app ()"})]})]})]})]})})})},$C=()=>{const e=qy();Tf();const[t,n]=G.useState(""),[r,i]=G.useState(""),[s,c]=G.useState(""),[u,h]=G.useState(!1),p=async g=>{g.preventDefault(),c(""),h(!0);try{await d9(t,r)}catch(x){console.error("Email login failed:",x),c("")}h(!1)};return y.jsx("section",{className:"fade-in py-12",children:y.jsxs("div",{className:"max-w-md mx-auto bg-[var(--card-bg-color)] rounded-2xl p-8 shadow-sm border border-[var(--border-color)]",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h2",{className:"text-2xl font-bold text-[var(--text-color)]",children:""}),y.jsx("button",{onClick:()=>e("/"),className:"px-3 py-1.5 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm",children:""})]}),y.jsxs("form",{onSubmit:p,className:"mt-6 space-y-4",children:[y.jsx("input",{type:"email",required:!0,placeholder:"",value:t,onChange:g=>n(g.target.value),className:"w-full px-4 py-3 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"}),y.jsx("input",{type:"password",required:!0,placeholder:"",value:r,onChange:g=>i(g.target.value),className:"w-full px-4 py-3 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"}),s&&y.jsx("p",{className:"text-sm text-[var(--danger-color)]",children:s}),y.jsx("button",{type:"submit",disabled:u,className:"w-full px-4 py-3 rounded-lg bg-[var(--primary-color)] text-white font-semibold transition disabled:opacity-50 hover:opacity-90",children:u?"...":""})]}),y.jsxs("p",{className:"mt-6 text-sm text-center text-gray-600",children:["? ",y.jsx("a",{href:"#",onClick:()=>e("/register"),className:"font-medium text-[var(--primary-color)] hover:underline",children:""})]})]})})},Y9=()=>{const e=qy(),[t,n]=G.useState({full_name:"",agency:"",email:"",address:"",phone_number:"",password:""}),r=s=>{n({...t,[s.target.name]:s.target.value})},i=async s=>{if(s.preventDefault(),t.password.length<8){alert(" 8 ");return}if(t.phone_number.length!==10||!/^\d+$/.test(t.phone_number)){alert(" 10 ");return}try{await s3(t.email,t.password,t.full_name,{agency:t.agency,address:t.address,phone_number:t.phone_number}),alert("! "),e("/dashboard")}catch(c){console.error("Registration failed:",c),c.code==="auth/email-already-in-use"?alert(" "):alert(`: ${c.message}`)}};return y.jsx("section",{className:"fade-in py-12",children:y.jsxs("div",{className:"max-w-xl mx-auto bg-[var(--card-bg-color)] rounded-2xl p-8 shadow-sm border border-[var(--border-color)]",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h2",{className:"text-2xl font-bold text-[var(--text-color)]",children:""}),y.jsx("button",{onClick:()=>e("/login"),className:"px-3 py-1.5 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm",children:""})]}),y.jsxs("div",{className:"my-4 flex items-center",children:[y.jsx("div",{className:"flex-grow border-t border-[var(--border-color)]"}),y.jsx("span",{className:"mx-4 text-gray-500 text-sm",children:""}),y.jsx("div",{className:"flex-grow border-t border-[var(--border-color)]"})]}),y.jsxs("form",{onSubmit:i,className:"mt-2 grid sm:grid-cols-2 gap-4",children:[y.jsx("input",{name:"full_name",required:!0,placeholder:"-",value:t.full_name,onChange:r,className:"px-4 py-3 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"}),y.jsx("input",{name:"agency",required:!0,placeholder:"",value:t.agency,onChange:r,className:"px-4 py-3 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"}),y.jsx("input",{name:"email",type:"email",required:!0,placeholder:"",value:t.email,onChange:r,className:"px-4 py-3 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"}),y.jsx("input",{name:"phone_number",type:"tel",required:!0,placeholder:"",value:t.phone_number,onChange:r,className:"px-4 py-3 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"}),y.jsx("textarea",{name:"address",placeholder:"",value:t.address,onChange:r,rows:2,className:"sm:col-span-2 px-4 py-3 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"}),y.jsx("input",{name:"password",type:"password",required:!0,placeholder:" ( 8 )",value:t.password,onChange:r,minLength:8,className:"sm:col-span-2 px-4 py-3 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"}),y.jsx("button",{type:"submit",className:"sm:col-span-2 px-4 py-3 rounded-lg bg-[var(--primary-color)] text-white font-semibold hover:opacity-90 transition",children:""})]})]})})},Hs={available:{text:"",color:"bg-green-100 text-green-800"},borrowed:{text:"",color:"bg-blue-100 text-blue-800"},under_maintenance:{text:"",color:"bg-yellow-100 text-yellow-800"},pending_repair_approval:{text:"",color:"bg-orange-100 text-orange-800"},deleted:{text:"",color:"bg-gray-200 text-gray-600"}},e_={admin:"",approver:"",technician:"",user:""},$9=e=>{switch(e){case"pending_borrow_approval":return{text:"",color:"bg-yellow-100 text-yellow-800"};case"pending_delivery":return{text:"",color:"bg-cyan-100 text-cyan-800"};case"borrowed":return{text:"",color:"bg-blue-100 text-blue-800"};case"rejected":return{text:"",color:"bg-red-100 text-red-800"};case"cancelled":return{text:"",color:"bg-gray-100 text-gray-800"};case"returned_early":return{text:"",color:"bg-blue-100 text-blue-800"};case"returned_late":return{text:"",color:"bg-orange-100 text-orange-800"};case"returned":return{text:"",color:"bg-blue-100 text-blue-800"};case"returned_damaged":return{text:" ()",color:"bg-orange-100 text-orange-800"};default:return{text:"",color:"bg-gray-100 text-gray-800"}}},Q9=e=>{switch(e){case"pending_repair_approval":return{text:"",color:"bg-yellow-100 text-yellow-800"};case"repair_approved":return{text:"",color:"bg-blue-100 text-blue-800"};case"repair_rejected":return{text:"",color:"bg-red-100 text-red-800"};case"completed":return{text:"",color:"bg-green-100 text-green-800"};default:return{text:"",color:"bg-gray-100 text-gray-800"}}},J9=({onSuccess:e})=>{const{hideModal:t}=$r(),[n,r]=G.useState({name:"",serial:"",type:"",department:"",price:"",notes:"",status:"available"}),[i,s]=G.useState(null),[c,u]=G.useState(!1),h=x=>{const{name:b,value:_}=x.target;b==="price"?/^\d*\.?\d*$/.test(_)&&r(S=>({...S,[b]:_})):r(S=>({...S,[b]:_}))},p=x=>{x.target.files&&x.target.files[0]?s(x.target.files[0]):s(null)},g=async x=>{x.preventDefault(),u(!0);try{const b={...n,price:parseFloat(n.price)||0},_=await p9(b);i&&await c3(n.type,i),alert(""),e(),t()}catch(b){console.error("Failed to add equipment:",b),alert("")}u(!1)};return y.jsxs("form",{onSubmit:g,className:"space-y-4",children:[y.jsx("input",{name:"name",value:n.name,onChange:h,placeholder:"",required:!0,className:"w-full px-3 py-2 border rounded-lg"}),y.jsx("input",{name:"serial",value:n.serial,onChange:h,placeholder:"Serial Number",required:!0,className:"w-full px-3 py-2 border rounded-lg"}),y.jsx("input",{name:"type",value:n.type,onChange:h,placeholder:"",required:!0,className:"w-full px-3 py-2 border rounded-lg"}),y.jsx("input",{name:"department",value:n.department,onChange:h,placeholder:"",required:!0,className:"w-full px-3 py-2 border rounded-lg"}),y.jsx("input",{name:"price",type:"number",value:n.price,onChange:h,placeholder:"",required:!0,className:"w-full px-3 py-2 border rounded-lg"}),y.jsxs("select",{name:"status",value:n.status,onChange:h,className:"w-full px-3 py-2 border rounded-lg",children:[y.jsx("option",{value:"available",children:""}),y.jsx("option",{value:"borrowed",children:""}),y.jsx("option",{value:"under_maintenance",children:""}),y.jsx("option",{value:"pending_repair_approval",children:""}),y.jsx("option",{value:"deleted",children:""})]}),y.jsx("textarea",{name:"notes",value:n.notes,onChange:h,placeholder:"",className:"w-full px-3 py-2 border rounded-lg"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" ()"}),y.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"})]}),y.jsxs("div",{className:"flex justify-end gap-3",children:[y.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-slate-200",children:""}),y.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white disabled:opacity-50",children:c?"...":""})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var L_={};L_.version="0.18.5";var u3=1252,Z9=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],QA={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},JA=function(e){Z9.indexOf(e)!=-1&&(u3=QA[0]=e)};function ez(){JA(1252)}var Mo=function(e){JA(e)};function ZA(){Mo(1200),ez()}function QC(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function tz(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function f3(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var kx=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?tz(e.slice(2)):t==254&&n==255?f3(e.slice(2)):t==65279?e.slice(1):e},bw=function(t){return String.fromCharCode(t)},JC=function(t){return String.fromCharCode(t)},wy,lf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function _y(e){for(var t="",n=0,r=0,i=0,s=0,c=0,u=0,h=0,p=0;p<e.length;)n=e.charCodeAt(p++),s=n>>2,r=e.charCodeAt(p++),c=(n&3)<<4|r>>4,i=e.charCodeAt(p++),u=(r&15)<<2|i>>6,h=i&63,isNaN(r)?u=h=64:isNaN(i)&&(h=64),t+=lf.charAt(s)+lf.charAt(c)+lf.charAt(u)+lf.charAt(h);return t}function gs(e){var t="",n=0,r=0,i=0,s=0,c=0,u=0,h=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var p=0;p<e.length;)s=lf.indexOf(e.charAt(p++)),c=lf.indexOf(e.charAt(p++)),n=s<<2|c>>4,t+=String.fromCharCode(n),u=lf.indexOf(e.charAt(p++)),r=(c&15)<<4|u>>2,u!==64&&(t+=String.fromCharCode(r)),h=lf.indexOf(e.charAt(p++)),i=(u&3)<<6|h,h!==64&&(t+=String.fromCharCode(i));return t}var Rt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Kc=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function bf(e){return Rt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function ZC(e){return Rt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var us=function(t){return Rt?Kc(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function WE(e){if(typeof ArrayBuffer>"u")return us(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t}function If(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function nz(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function ek(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return ek(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var Wr=Rt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Kc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function rz(e){for(var t=[],n=0,r=e.length+250,i=bf(e.length+255),s=0;s<e.length;++s){var c=e.charCodeAt(s);if(c<128)i[n++]=c;else if(c<2048)i[n++]=192|c>>6&31,i[n++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var u=e.charCodeAt(++s)&1023;i[n++]=240|c>>8&7,i[n++]=128|c>>2&63,i[n++]=128|u>>6&15|(c&3)<<4,i[n++]=128|u&63}else i[n++]=224|c>>12&15,i[n++]=128|c>>6&63,i[n++]=128|c&63;n>r&&(t.push(i.slice(0,n)),n=0,i=bf(65535),r=65530)}return t.push(i.slice(0,n)),Wr(t)}var da=/\u0000/g,Nx=/[\u0001-\u0006]/g;function fm(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Lo(e,t){var n=""+e;return n.length>=t?n:ar("0",t-n.length)+n}function tk(e,t){var n=""+e;return n.length>=t?n:ar(" ",t-n.length)+n}function j_(e,t){var n=""+e;return n.length>=t?n:n+ar(" ",t-n.length)}function iz(e,t){var n=""+Math.round(e);return n.length>=t?n:ar("0",t-n.length)+n}function az(e,t){var n=""+e;return n.length>=t?n:ar("0",t-n.length)+n}var e4=Math.pow(2,32);function $p(e,t){if(e>e4||e<-e4)return iz(e,t);var n=Math.round(e);return az(n,t)}function P_(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var t4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],JS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function sz(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var ct={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},n4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},oz={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function B_(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,c=1,u=0,h=1,p=0,g=0,x=Math.floor(i);p<t&&(x=Math.floor(i),u=x*c+s,g=x*p+h,!(i-x<5e-8));)i=1/(i-x),s=c,c=u,h=p,p=g;if(g>t&&(p>t?(g=h,u=s):(g=p,u=c)),!n)return[0,r*u,g];var b=Math.floor(r*u/g);return[b,r*u-b*g,g]}function Ed(e,t,n){if(e>2958465||e<0)return null;var r=e|0,i=Math.floor(86400*(e-r)),s=0,c=[],u={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),t&&t.date1904&&(r+=1462),u.u>.9999&&(u.u=0,++i==86400&&(u.T=i=0,++r,++u.D)),r===60)c=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)c=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var h=new Date(1900,0,1);h.setDate(h.getDate()+r-1),c=[h.getFullYear(),h.getMonth()+1,h.getDate()],s=h.getDay(),r<60&&(s=(s+6)%7),n&&(s=dz(h,c))}return u.y=c[0],u.m=c[1],u.d=c[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=s,u}var h3=new Date(1899,11,31,0,0,0),lz=h3.getTime(),cz=new Date(1900,2,1,0,0,0);function d3(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=cz&&(n+=1440*60*1e3),(n-(lz+(e.getTimezoneOffset()-h3.getTimezoneOffset())*6e4))/(1440*60*1e3)}function nk(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function uz(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function fz(e){var t=e<0?12:11,n=nk(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function hz(e){var t=nk(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Ey(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=fz(e):t===10?n=e.toFixed(10).substr(0,12):n=hz(e),nk(uz(n.toUpperCase()))}function Ud(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Ey(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ks(14,d3(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function dz(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function pz(e,t,n,r){var i="",s=0,c=0,u=n.y,h,p=0;switch(e){case 98:u=n.y+543;case 121:switch(t.length){case 1:case 2:h=u%100,p=2;break;default:h=u%1e4,p=4;break}break;case 109:switch(t.length){case 1:case 2:h=n.m,p=t.length;break;case 3:return JS[n.m-1][1];case 5:return JS[n.m-1][0];default:return JS[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:h=n.d,p=t.length;break;case 3:return t4[n.q][0];default:return t4[n.q][1]}break;case 104:switch(t.length){case 1:case 2:h=1+(n.H+11)%12,p=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:h=n.H,p=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:h=n.M,p=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?Lo(n.S,t.length):(r>=2?c=r===3?1e3:100:c=r===1?10:1,s=Math.round(c*(n.S+n.u)),s>=60*c&&(s=0),t==="s"?s===0?"0":""+s/c:(i=Lo(s,2+r),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":h=n.D*24+n.H;break;case"[m]":case"[mm]":h=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":h=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}p=t.length===3?1:2;break;case 101:h=u,p=1;break}var g=p>0?Lo(h,p):"";return g}function cf(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var p3=/%/g;function mz(e,t,n){var r=t.replace(p3,""),i=t.length-r.length;return Bc(e,r,n*Math.pow(10,2*i))+ar("%",i)}function gz(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Bc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function m3(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+m3(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var c=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(c-n.length+s):n+="E+"+(c-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,p,g){return h+p+g.substr(0,(i+s)%i)+"."+g.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var g3=/# (\?+)( ?)\/( ?)(\d+)/;function vz(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),s=Math.floor(i/r),c=i-s*r,u=r;return n+(s===0?"":""+s)+" "+(c===0?ar(" ",e[1].length+1+e[4].length):tk(c,e[1].length)+e[2]+"/"+e[3]+Lo(u,e[4].length))}function xz(e,t,n){return n+(t===0?"":""+t)+ar(" ",e[1].length+2+e[4].length)}var v3=/^#*0*\.([0#]+)/,x3=/\).*[0#]/,y3=/\(###\) ###\\?-####/;function oa(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function r4(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function i4(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function yz(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function bz(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ps(e,t,n){if(e.charCodeAt(0)===40&&!t.match(x3)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ps("n",r,n):"("+Ps("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return gz(e,t,n);if(t.indexOf("%")!==-1)return mz(e,t,n);if(t.indexOf("E")!==-1)return m3(t,n);if(t.charCodeAt(0)===36)return"$"+Ps(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,c,u,h=Math.abs(n),p=n<0?"-":"";if(t.match(/^00+$/))return p+$p(h,t.length);if(t.match(/^[#?]+$/))return i=$p(n,0),i==="0"&&(i=""),i.length>t.length?i:oa(t.substr(0,t.length-i.length))+i;if(s=t.match(g3))return vz(s,h,p);if(t.match(/^#+0+$/))return p+$p(h,t.length-t.indexOf("0"));if(s=t.match(v3))return i=r4(n,s[1].length).replace(/^([^\.]+)$/,"$1."+oa(s[1])).replace(/\.$/,"."+oa(s[1])).replace(/\.(\d*)$/,function(S,E){return"."+E+ar("0",oa(s[1]).length-E.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return p+r4(h,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return p+cf($p(h,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ps(e,t,-n):cf(""+(Math.floor(n)+yz(n,s[1].length)))+"."+Lo(i4(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Ps(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=fm(Ps(e,t.replace(/[\\-]/g,""),n)),c=0,fm(fm(t.replace(/\\/g,"")).replace(/[0#]/g,function(S){return c<i.length?i.charAt(c++):S==="0"?"0":""}));if(t.match(y3))return i=Ps(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var g="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(s[4].length,7),u=B_(h,Math.pow(10,c)-1,!1),i=""+p,g=Bc("n",s[1],u[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),i+=g+s[2]+"/"+s[3],g=j_(u[2],c),g.length<s[4].length&&(g=oa(s[4].substr(s[4].length-g.length))+g),i+=g,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(s[1].length,s[4].length),7),u=B_(h,Math.pow(10,c)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?tk(u[1],c)+s[2]+"/"+s[3]+j_(u[2],c):ar(" ",2*c+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=$p(n,0),t.length<=i.length?i:oa(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),c=i.indexOf(".");var x=t.indexOf(".")-c,b=t.length-i.length-x;return oa(t.substr(0,x)+i+t.substr(t.length-b))}if(s=t.match(/^00,000\.([#0]*0)$/))return c=i4(n,s[1].length),n<0?"-"+Ps(e,t,-n):cf(bz(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Lo(0,3-S.length):"")+S})+"."+Lo(c,s[1].length);switch(t){case"###,##0.00":return Ps(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var _=cf($p(h,0));return _!=="0"?p+_:"";case"###,###.00":return Ps(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ps(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function wz(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Bc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function _z(e,t,n){var r=t.replace(p3,""),i=t.length-r.length;return Bc(e,r,n*Math.pow(10,2*i))+ar("%",i)}function b3(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+b3(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var c=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(c-n.length+s):n+="E+"+(c-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,p,g){return h+p+g.substr(0,(i+s)%i)+"."+g.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Nl(e,t,n){if(e.charCodeAt(0)===40&&!t.match(x3)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Nl("n",r,n):"("+Nl("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return wz(e,t,n);if(t.indexOf("%")!==-1)return _z(e,t,n);if(t.indexOf("E")!==-1)return b3(t,n);if(t.charCodeAt(0)===36)return"$"+Nl(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,c,u,h=Math.abs(n),p=n<0?"-":"";if(t.match(/^00+$/))return p+Lo(h,t.length);if(t.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>t.length?i:oa(t.substr(0,t.length-i.length))+i;if(s=t.match(g3))return xz(s,h,p);if(t.match(/^#+0+$/))return p+Lo(h,t.length-t.indexOf("0"));if(s=t.match(v3))return i=(""+n).replace(/^([^\.]+)$/,"$1."+oa(s[1])).replace(/\.$/,"."+oa(s[1])),i=i.replace(/\.(\d*)$/,function(S,E){return"."+E+ar("0",oa(s[1]).length-E.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return p+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return p+cf(""+h);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Nl(e,t,-n):cf(""+n)+"."+ar("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Nl(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=fm(Nl(e,t.replace(/[\\-]/g,""),n)),c=0,fm(fm(t.replace(/\\/g,"")).replace(/[0#]/g,function(S){return c<i.length?i.charAt(c++):S==="0"?"0":""}));if(t.match(y3))return i=Nl(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var g="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(s[4].length,7),u=B_(h,Math.pow(10,c)-1,!1),i=""+p,g=Bc("n",s[1],u[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),i+=g+s[2]+"/"+s[3],g=j_(u[2],c),g.length<s[4].length&&(g=oa(s[4].substr(s[4].length-g.length))+g),i+=g,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(s[1].length,s[4].length),7),u=B_(h,Math.pow(10,c)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?tk(u[1],c)+s[2]+"/"+s[3]+j_(u[2],c):ar(" ",2*c+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:oa(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),c=i.indexOf(".");var x=t.indexOf(".")-c,b=t.length-i.length-x;return oa(t.substr(0,x)+i+t.substr(t.length-b))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Nl(e,t,-n):cf(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Lo(0,3-S.length):"")+S})+"."+Lo(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var _=cf(""+h);return _!=="0"?p+_:"";default:if(t.match(/\.[0#?]*$/))return Nl(e,t.slice(0,t.lastIndexOf(".")),n)+oa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Bc(e,t,n){return(n|0)===n?Nl(e,t,n):Ps(e,t,n)}function Ez(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var w3=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Zm(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":P_(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(w3))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Sz(e,t,n,r){for(var i=[],s="",c=0,u="",h="t",p,g,x,b="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!P_(e,c))throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"G",v:"General"},c+=7;break;case'"':for(s="";(x=e.charCodeAt(++c))!==34&&c<e.length;)s+=String.fromCharCode(x);i[i.length]={t:"t",v:s},++c;break;case"\\":var _=e.charAt(++c),S=_==="("||_===")"?_:"t";i[i.length]={t:S,v:_},++c;break;case"_":i[i.length]={t:"t",v:" "},c+=2;break;case"@":i[i.length]={t:"T",v:t},++c;break;case"B":case"b":if(e.charAt(c+1)==="1"||e.charAt(c+1)==="2"){if(p==null&&(p=Ed(t,n,e.charAt(c+1)==="2"),p==null))return"";i[i.length]={t:"X",v:e.substr(c,2)},h=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||p==null&&(p=Ed(t,n),p==null))return"";for(s=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)s+=u;u==="m"&&h.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=b),i[i.length]={t:u,v:s},h=u;break;case"A":case"a":case"":var E={t:u,v:u};if(p==null&&(p=Ed(t,n)),e.substr(c,3).toUpperCase()==="A/P"?(p!=null&&(E.v=p.H>=12?"P":"A"),E.t="T",b="h",c+=3):e.substr(c,5).toUpperCase()==="AM/PM"?(p!=null&&(E.v=p.H>=12?"PM":"AM"),E.t="T",c+=5,b="h"):e.substr(c,5).toUpperCase()==="/"?(p!=null&&(E.v=p.H>=12?"":""),E.t="T",c+=5,b="h"):(E.t="t",++c),p==null&&E.t==="T")return"";i[i.length]=E,h=u;break;case"[":for(s=u;e.charAt(c++)!=="]"&&c<e.length;)s+=e.charAt(c);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(w3)){if(p==null&&(p=Ed(t,n),p==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},h=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Zm(e)||(i[i.length]={t:"t",v:s}));break;case".":if(p!=null){for(s=u;++c<e.length&&(u=e.charAt(c))==="0";)s+=u;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)s+=u;i[i.length]={t:"n",v:s};break;case"?":for(s=u;e.charAt(++c)===u;)s+=u;i[i.length]={t:u,v:s},h=u;break;case"*":++c,(e.charAt(c)==" "||e.charAt(c)=="*")&&++c;break;case"(":case")":i[i.length]={t:r===1?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)s+=e.charAt(c);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:u,v:u},++c;break;case"$":i[i.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"t",v:u},++c;break}var T=0,k=0,R;for(c=i.length-1,h="t";c>=0;--c)switch(i[c].t){case"h":case"H":i[c].t=b,h="h",T<1&&(T=1);break;case"s":(R=i[c].v.match(/\.0+$/))&&(k=Math.max(k,R[0].length-1)),T<3&&(T=3);case"d":case"y":case"M":case"e":h=i[c].t;break;case"m":h==="s"&&(i[c].t="M",T<2&&(T=2));break;case"X":break;case"Z":T<1&&i[c].v.match(/[Hh]/)&&(T=1),T<2&&i[c].v.match(/[Mm]/)&&(T=2),T<3&&i[c].v.match(/[Ss]/)&&(T=3)}switch(T){case 0:break;case 1:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M),p.M>=60&&(p.M=0,++p.H);break;case 2:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M);break}var A="",O;for(c=0;c<i.length;++c)switch(i[c].t){case"t":case"T":case" ":case"D":break;case"X":i[c].v="",i[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[c].v=pz(i[c].t.charCodeAt(0),i[c].v,p,k),i[c].t="t";break;case"n":case"?":for(O=c+1;i[O]!=null&&((u=i[O].t)==="?"||u==="D"||(u===" "||u==="t")&&i[O+1]!=null&&(i[O+1].t==="?"||i[O+1].t==="t"&&i[O+1].v==="/")||i[c].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(i[O].v==="/"||i[O].v===" "&&i[O+1]!=null&&i[O+1].t=="?"));)i[c].v+=i[O].v,i[O]={v:"",t:";"},++O;A+=i[c].v,c=O-1;break;case"G":i[c].t="t",i[c].v=Ud(t,n);break}var I="",M,C;if(A.length>0){A.charCodeAt(0)==40?(M=t<0&&A.charCodeAt(0)===45?-t:t,C=Bc("n",A,M)):(M=t<0&&r>1?-t:t,C=Bc("n",A,M),M<0&&i[0]&&i[0].t=="t"&&(C=C.substr(1),i[0].v="-"+i[0].v)),O=C.length-1;var z=i.length;for(c=0;c<i.length;++c)if(i[c]!=null&&i[c].t!="t"&&i[c].v.indexOf(".")>-1){z=c;break}var B=i.length;if(z===i.length&&C.indexOf("E")===-1){for(c=i.length-1;c>=0;--c)i[c]==null||"n?".indexOf(i[c].t)===-1||(O>=i[c].v.length-1?(O-=i[c].v.length,i[c].v=C.substr(O+1,i[c].v.length)):O<0?i[c].v="":(i[c].v=C.substr(0,O+1),O=-1),i[c].t="t",B=c);O>=0&&B<i.length&&(i[B].v=C.substr(0,O+1)+i[B].v)}else if(z!==i.length&&C.indexOf("E")===-1){for(O=C.indexOf(".")-1,c=z;c>=0;--c)if(!(i[c]==null||"n?".indexOf(i[c].t)===-1)){for(g=i[c].v.indexOf(".")>-1&&c===z?i[c].v.indexOf(".")-1:i[c].v.length-1,I=i[c].v.substr(g+1);g>=0;--g)O>=0&&(i[c].v.charAt(g)==="0"||i[c].v.charAt(g)==="#")&&(I=C.charAt(O--)+I);i[c].v=I,i[c].t="t",B=c}for(O>=0&&B<i.length&&(i[B].v=C.substr(0,O+1)+i[B].v),O=C.indexOf(".")+1,c=z;c<i.length;++c)if(!(i[c]==null||"n?(".indexOf(i[c].t)===-1&&c!==z)){for(g=i[c].v.indexOf(".")>-1&&c===z?i[c].v.indexOf(".")+1:0,I=i[c].v.substr(0,g);g<i[c].v.length;++g)O<C.length&&(I+=C.charAt(O++));i[c].v=I,i[c].t="t",B=c}}}for(c=0;c<i.length;++c)i[c]!=null&&"n?".indexOf(i[c].t)>-1&&(M=r>1&&t<0&&c>0&&i[c-1].v==="-"?-t:t,i[c].v=Bc(i[c].t,i[c].v,M),i[c].t="t");var re="";for(c=0;c!==i.length;++c)i[c]!=null&&(re+=i[c].v);return re}var a4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function s4(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function Tz(e,t){var n=Ez(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var c=n[0].match(a4),u=n[1].match(a4);return s4(t,c)?[r,n[0]]:s4(t,u)?[r,n[1]]:[r,n[c!=null&&u!=null?2:1]]}return[r,s]}function Ks(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:ct)[e],r==null&&(r=n.table&&n.table[n4[e]]||ct[n4[e]]),r==null&&(r=oz[e]||"General");break}if(P_(r,0))return Ud(t,n);t instanceof Date&&(t=d3(t,n.date1904));var i=Tz(r,t);if(P_(i[1]))return Ud(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Sz(i[1],t,n,i[0])}function Uc(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(ct[n]==null){t<0&&(t=n);continue}if(ct[n]==e){t=n;break}}t<0&&(t=391)}return ct[t]=e,t}function XE(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Uc(e[t],t)}function eg(){ct=sz()}var Az={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},_3=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function kz(e){var t=typeof e=="number"?ct[e]:e;return t=t.replace(_3,"(\\d+)"),new RegExp("^"+t+"$")}function Nz(e,t,n){var r=-1,i=-1,s=-1,c=-1,u=-1,h=-1;(t.match(_3)||[]).forEach(function(x,b){var _=parseInt(n[b+1],10);switch(x.toLowerCase().charAt(0)){case"y":r=_;break;case"d":s=_;break;case"h":c=_;break;case"s":h=_;break;case"m":c>=0?u=_:i=_;break}}),h>=0&&u==-1&&i>=0&&(u=i,i=-1);var p=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);p.length==7&&(p="0"+p),p.length==8&&(p="20"+p);var g=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return c==-1&&u==-1&&h==-1?p:r==-1&&i==-1&&s==-1?g:p+"T"+g}var Cz=(function(){var e={};e.version="1.2.0";function t(){for(var C=0,z=new Array(256),B=0;B!=256;++B)C=B,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,z[B]=C;return typeof Int32Array<"u"?new Int32Array(z):z}var n=t();function r(C){var z=0,B=0,re=0,te=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(re=0;re!=256;++re)te[re]=C[re];for(re=0;re!=256;++re)for(B=C[re],z=256+re;z<4096;z+=256)B=te[z]=B>>>8^C[B&255];var Z=[];for(re=1;re!=16;++re)Z[re-1]=typeof Int32Array<"u"?te.subarray(re*256,re*256+256):te.slice(re*256,re*256+256);return Z}var i=r(n),s=i[0],c=i[1],u=i[2],h=i[3],p=i[4],g=i[5],x=i[6],b=i[7],_=i[8],S=i[9],E=i[10],T=i[11],k=i[12],R=i[13],A=i[14];function O(C,z){for(var B=z^-1,re=0,te=C.length;re<te;)B=B>>>8^n[(B^C.charCodeAt(re++))&255];return~B}function I(C,z){for(var B=z^-1,re=C.length-15,te=0;te<re;)B=A[C[te++]^B&255]^R[C[te++]^B>>8&255]^k[C[te++]^B>>16&255]^T[C[te++]^B>>>24]^E[C[te++]]^S[C[te++]]^_[C[te++]]^b[C[te++]]^x[C[te++]]^g[C[te++]]^p[C[te++]]^h[C[te++]]^u[C[te++]]^c[C[te++]]^s[C[te++]]^n[C[te++]];for(re+=15;te<re;)B=B>>>8^n[(B^C[te++])&255];return~B}function M(C,z){for(var B=z^-1,re=0,te=C.length,Z=0,xe=0;re<te;)Z=C.charCodeAt(re++),Z<128?B=B>>>8^n[(B^Z)&255]:Z<2048?(B=B>>>8^n[(B^(192|Z>>6&31))&255],B=B>>>8^n[(B^(128|Z&63))&255]):Z>=55296&&Z<57344?(Z=(Z&1023)+64,xe=C.charCodeAt(re++)&1023,B=B>>>8^n[(B^(240|Z>>8&7))&255],B=B>>>8^n[(B^(128|Z>>2&63))&255],B=B>>>8^n[(B^(128|xe>>6&15|(Z&3)<<4))&255],B=B>>>8^n[(B^(128|xe&63))&255]):(B=B>>>8^n[(B^(224|Z>>12&15))&255],B=B>>>8^n[(B^(128|Z>>6&63))&255],B=B>>>8^n[(B^(128|Z&63))&255]);return~B}return e.table=n,e.bstr=O,e.buf=I,e.str=M,e})(),at=(function(){var t={};t.version="1.2.1";function n(L,K){for(var P=L.split("/"),U=K.split("/"),q=0,Y=0,he=Math.min(P.length,U.length);q<he;++q){if(Y=P[q].length-U[q].length)return Y;if(P[q]!=U[q])return P[q]<U[q]?-1:1}return P.length-U.length}function r(L){if(L.charAt(L.length-1)=="/")return L.slice(0,-1).indexOf("/")===-1?L:r(L.slice(0,-1));var K=L.lastIndexOf("/");return K===-1?L:L.slice(0,K+1)}function i(L){if(L.charAt(L.length-1)=="/")return i(L.slice(0,-1));var K=L.lastIndexOf("/");return K===-1?L:L.slice(K+1)}function s(L,K){typeof K=="string"&&(K=new Date(K));var P=K.getHours();P=P<<6|K.getMinutes(),P=P<<5|K.getSeconds()>>>1,L.write_shift(2,P);var U=K.getFullYear()-1980;U=U<<4|K.getMonth()+1,U=U<<5|K.getDate(),L.write_shift(2,U)}function c(L){var K=L.read_shift(2)&65535,P=L.read_shift(2)&65535,U=new Date,q=P&31;P>>>=5;var Y=P&15;P>>>=4,U.setMilliseconds(0),U.setFullYear(P+1980),U.setMonth(Y-1),U.setDate(q);var he=K&31;K>>>=5;var _e=K&63;return K>>>=6,U.setHours(K),U.setMinutes(_e),U.setSeconds(he<<1),U}function u(L){ui(L,0);for(var K={},P=0;L.l<=L.length-4;){var U=L.read_shift(2),q=L.read_shift(2),Y=L.l+q,he={};switch(U){case 21589:P=L.read_shift(1),P&1&&(he.mtime=L.read_shift(4)),q>5&&(P&2&&(he.atime=L.read_shift(4)),P&4&&(he.ctime=L.read_shift(4))),he.mtime&&(he.mt=new Date(he.mtime*1e3));break}L.l=Y,K[U]=he}return K}var h;function p(){return h||(h={})}function g(L,K){if(L[0]==80&&L[1]==75)return xs(L,K);if((L[0]|32)==109&&(L[1]|32)==105)return Zn(L,K);if(L.length<512)throw new Error("CFB file size "+L.length+" < 512");var P=3,U=512,q=0,Y=0,he=0,_e=0,ce=0,de=[],pe=L.slice(0,512);ui(pe,0);var Fe=x(pe);switch(P=Fe[0],P){case 3:U=512;break;case 4:U=4096;break;case 0:if(Fe[1]==0)return xs(L,K);default:throw new Error("Major Version: Expected 3 or 4 saw "+P)}U!==512&&(pe=L.slice(0,U),ui(pe,28));var Me=L.slice(0,U);b(pe,P);var qe=pe.read_shift(4,"i");if(P===3&&qe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+qe);pe.l+=4,he=pe.read_shift(4,"i"),pe.l+=4,pe.chk("00100000","Mini Stream Cutoff Size: "),_e=pe.read_shift(4,"i"),q=pe.read_shift(4,"i"),ce=pe.read_shift(4,"i"),Y=pe.read_shift(4,"i");for(var Le=-1,Ve=0;Ve<109&&(Le=pe.read_shift(4,"i"),!(Le<0));++Ve)de[Ve]=Le;var $e=_(L,U);T(ce,Y,$e,U,de);var sn=R($e,he,de,U);sn[he].name="!Directory",q>0&&_e!==xe&&(sn[_e].name="!MiniFAT"),sn[de[0]].name="!FAT",sn.fat_addrs=de,sn.ssz=U;var Zt={},gn=[],vi=[],Zs=[];A(he,sn,$e,gn,q,Zt,vi,_e),S(vi,Zs,gn),gn.shift();var qo={FileIndex:vi,FullPaths:Zs};return K&&K.raw&&(qo.raw={header:Me,sectors:$e}),qo}function x(L){if(L[L.l]==80&&L[L.l+1]==75)return[0,0];L.chk(De,"Header Signature: "),L.l+=16;var K=L.read_shift(2,"u");return[L.read_shift(2,"u"),K]}function b(L,K){var P=9;switch(L.l+=2,P=L.read_shift(2)){case 9:if(K!=3)throw new Error("Sector Shift: Expected 9 saw "+P);break;case 12:if(K!=4)throw new Error("Sector Shift: Expected 12 saw "+P);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+P)}L.chk("0600","Mini Sector Shift: "),L.chk("000000000000","Reserved: ")}function _(L,K){for(var P=Math.ceil(L.length/K)-1,U=[],q=1;q<P;++q)U[q-1]=L.slice(q*K,(q+1)*K);return U[P-1]=L.slice(P*K),U}function S(L,K,P){for(var U=0,q=0,Y=0,he=0,_e=0,ce=P.length,de=[],pe=[];U<ce;++U)de[U]=pe[U]=U,K[U]=P[U];for(;_e<pe.length;++_e)U=pe[_e],q=L[U].L,Y=L[U].R,he=L[U].C,de[U]===U&&(q!==-1&&de[q]!==q&&(de[U]=de[q]),Y!==-1&&de[Y]!==Y&&(de[U]=de[Y])),he!==-1&&(de[he]=U),q!==-1&&U!=de[U]&&(de[q]=de[U],pe.lastIndexOf(q)<_e&&pe.push(q)),Y!==-1&&U!=de[U]&&(de[Y]=de[U],pe.lastIndexOf(Y)<_e&&pe.push(Y));for(U=1;U<ce;++U)de[U]===U&&(Y!==-1&&de[Y]!==Y?de[U]=de[Y]:q!==-1&&de[q]!==q&&(de[U]=de[q]));for(U=1;U<ce;++U)if(L[U].type!==0){if(_e=U,_e!=de[_e])do _e=de[_e],K[U]=K[_e]+"/"+K[U];while(_e!==0&&de[_e]!==-1&&_e!=de[_e]);de[U]=-1}for(K[0]+="/",U=1;U<ce;++U)L[U].type!==2&&(K[U]+="/")}function E(L,K,P){for(var U=L.start,q=L.size,Y=[],he=U;P&&q>0&&he>=0;)Y.push(K.slice(he*Z,he*Z+Z)),q-=Z,he=xd(P,he*4);return Y.length===0?be(0):Wr(Y).slice(0,L.size)}function T(L,K,P,U,q){var Y=xe;if(L===xe){if(K!==0)throw new Error("DIFAT chain shorter than expected")}else if(L!==-1){var he=P[L],_e=(U>>>2)-1;if(!he)return;for(var ce=0;ce<_e&&(Y=xd(he,ce*4))!==xe;++ce)q.push(Y);T(xd(he,U-4),K-1,P,U,q)}}function k(L,K,P,U,q){var Y=[],he=[];q||(q=[]);var _e=U-1,ce=0,de=0;for(ce=K;ce>=0;){q[ce]=!0,Y[Y.length]=ce,he.push(L[ce]);var pe=P[Math.floor(ce*4/U)];if(de=ce*4&_e,U<4+de)throw new Error("FAT boundary crossed: "+ce+" 4 "+U);if(!L[pe])break;ce=xd(L[pe],de)}return{nodes:Y,data:x4([he])}}function R(L,K,P,U){var q=L.length,Y=[],he=[],_e=[],ce=[],de=U-1,pe=0,Fe=0,Me=0,qe=0;for(pe=0;pe<q;++pe)if(_e=[],Me=pe+K,Me>=q&&(Me-=q),!he[Me]){ce=[];var Le=[];for(Fe=Me;Fe>=0;){Le[Fe]=!0,he[Fe]=!0,_e[_e.length]=Fe,ce.push(L[Fe]);var Ve=P[Math.floor(Fe*4/U)];if(qe=Fe*4&de,U<4+qe)throw new Error("FAT boundary crossed: "+Fe+" 4 "+U);if(!L[Ve]||(Fe=xd(L[Ve],qe),Le[Fe]))break}Y[Me]={nodes:_e,data:x4([ce])}}return Y}function A(L,K,P,U,q,Y,he,_e){for(var ce=0,de=U.length?2:0,pe=K[L].data,Fe=0,Me=0,qe;Fe<pe.length;Fe+=128){var Le=pe.slice(Fe,Fe+128);ui(Le,64),Me=Le.read_shift(2),qe=ck(Le,0,Me-de),U.push(qe);var Ve={name:qe,type:Le.read_shift(1),color:Le.read_shift(1),L:Le.read_shift(4,"i"),R:Le.read_shift(4,"i"),C:Le.read_shift(4,"i"),clsid:Le.read_shift(16),state:Le.read_shift(4,"i"),start:0,size:0},$e=Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2);$e!==0&&(Ve.ct=O(Le,Le.l-8));var sn=Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2);sn!==0&&(Ve.mt=O(Le,Le.l-8)),Ve.start=Le.read_shift(4,"i"),Ve.size=Le.read_shift(4,"i"),Ve.size<0&&Ve.start<0&&(Ve.size=Ve.type=0,Ve.start=xe,Ve.name=""),Ve.type===5?(ce=Ve.start,q>0&&ce!==xe&&(K[ce].name="!StreamData")):Ve.size>=4096?(Ve.storage="fat",K[Ve.start]===void 0&&(K[Ve.start]=k(P,Ve.start,K.fat_addrs,K.ssz)),K[Ve.start].name=Ve.name,Ve.content=K[Ve.start].data.slice(0,Ve.size)):(Ve.storage="minifat",Ve.size<0?Ve.size=0:ce!==xe&&Ve.start!==xe&&K[ce]&&(Ve.content=E(Ve,K[ce].data,(K[_e]||{}).data))),Ve.content&&ui(Ve.content,0),Y[qe]=Ve,he.push(Ve)}}function O(L,K){return new Date((ls(L,K+4)/1e7*Math.pow(2,32)+ls(L,K)/1e7-11644473600)*1e3)}function I(L,K){return p(),g(h.readFileSync(L),K)}function M(L,K){var P=K&&K.type;switch(P||Rt&&Buffer.isBuffer(L)&&(P="buffer"),P||"base64"){case"file":return I(L,K);case"base64":return g(us(gs(L)),K);case"binary":return g(us(L),K)}return g(L,K)}function C(L,K){var P=K||{},U=P.root||"Root Entry";if(L.FullPaths||(L.FullPaths=[]),L.FileIndex||(L.FileIndex=[]),L.FullPaths.length!==L.FileIndex.length)throw new Error("inconsistent CFB structure");L.FullPaths.length===0&&(L.FullPaths[0]=U+"/",L.FileIndex[0]={name:U,type:5}),P.CLSID&&(L.FileIndex[0].clsid=P.CLSID),z(L)}function z(L){var K="Sh33tJ5";if(!at.find(L,"/"+K)){var P=be(4);P[0]=55,P[1]=P[3]=50,P[2]=54,L.FileIndex.push({name:K,type:2,content:P,size:4,L:69,R:69,C:69}),L.FullPaths.push(L.FullPaths[0]+K),B(L)}}function B(L,K){C(L);for(var P=!1,U=!1,q=L.FullPaths.length-1;q>=0;--q){var Y=L.FileIndex[q];switch(Y.type){case 0:U?P=!0:(L.FileIndex.pop(),L.FullPaths.pop());break;case 1:case 2:case 5:U=!0,isNaN(Y.R*Y.L*Y.C)&&(P=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(P=!0);break;default:P=!0;break}}if(!(!P&&!K)){var he=new Date(1987,1,19),_e=0,ce=Object.create?Object.create(null):{},de=[];for(q=0;q<L.FullPaths.length;++q)ce[L.FullPaths[q]]=!0,L.FileIndex[q].type!==0&&de.push([L.FullPaths[q],L.FileIndex[q]]);for(q=0;q<de.length;++q){var pe=r(de[q][0]);U=ce[pe],U||(de.push([pe,{name:i(pe).replace("/",""),type:1,clsid:ee,ct:he,mt:he,content:null}]),ce[pe]=!0)}for(de.sort(function(qe,Le){return n(qe[0],Le[0])}),L.FullPaths=[],L.FileIndex=[],q=0;q<de.length;++q)L.FullPaths[q]=de[q][0],L.FileIndex[q]=de[q][1];for(q=0;q<de.length;++q){var Fe=L.FileIndex[q],Me=L.FullPaths[q];if(Fe.name=i(Me).replace("/",""),Fe.L=Fe.R=Fe.C=-(Fe.color=1),Fe.size=Fe.content?Fe.content.length:0,Fe.start=0,Fe.clsid=Fe.clsid||ee,q===0)Fe.C=de.length>1?1:-1,Fe.size=0,Fe.type=5;else if(Me.slice(-1)=="/"){for(_e=q+1;_e<de.length&&r(L.FullPaths[_e])!=Me;++_e);for(Fe.C=_e>=de.length?-1:_e,_e=q+1;_e<de.length&&r(L.FullPaths[_e])!=r(Me);++_e);Fe.R=_e>=de.length?-1:_e,Fe.type=1}else r(L.FullPaths[q+1]||"")==r(Me)&&(Fe.R=q+1),Fe.type=2}}}function re(L,K){var P=K||{};if(P.fileType=="mad")return Jc(L,P);switch(B(L),P.fileType){case"zip":return za(L,P)}var U=(function(qe){for(var Le=0,Ve=0,$e=0;$e<qe.FileIndex.length;++$e){var sn=qe.FileIndex[$e];if(sn.content){var Zt=sn.content.length;Zt>0&&(Zt<4096?Le+=Zt+63>>6:Ve+=Zt+511>>9)}}for(var gn=qe.FullPaths.length+3>>2,vi=Le+7>>3,Zs=Le+127>>7,qo=vi+Ve+gn+Zs,Va=qo+127>>7,Xl=Va<=109?0:Math.ceil((Va-109)/127);qo+Va+Xl+127>>7>Va;)Xl=++Va<=109?0:Math.ceil((Va-109)/127);var Qr=[1,Xl,Va,Zs,gn,Ve,Le,0];return qe.FileIndex[0].size=Le<<6,Qr[7]=(qe.FileIndex[0].start=Qr[0]+Qr[1]+Qr[2]+Qr[3]+Qr[4]+Qr[5])+(Qr[6]+7>>3),Qr})(L),q=be(U[7]<<9),Y=0,he=0;{for(Y=0;Y<8;++Y)q.write_shift(1,ve[Y]);for(Y=0;Y<8;++Y)q.write_shift(2,0);for(q.write_shift(2,62),q.write_shift(2,3),q.write_shift(2,65534),q.write_shift(2,9),q.write_shift(2,6),Y=0;Y<3;++Y)q.write_shift(2,0);for(q.write_shift(4,0),q.write_shift(4,U[2]),q.write_shift(4,U[0]+U[1]+U[2]+U[3]-1),q.write_shift(4,0),q.write_shift(4,4096),q.write_shift(4,U[3]?U[0]+U[1]+U[2]-1:xe),q.write_shift(4,U[3]),q.write_shift(-4,U[1]?U[0]-1:xe),q.write_shift(4,U[1]),Y=0;Y<109;++Y)q.write_shift(-4,Y<U[2]?U[1]+Y:-1)}if(U[1])for(he=0;he<U[1];++he){for(;Y<236+he*127;++Y)q.write_shift(-4,Y<U[2]?U[1]+Y:-1);q.write_shift(-4,he===U[1]-1?xe:he+1)}var _e=function(qe){for(he+=qe;Y<he-1;++Y)q.write_shift(-4,Y+1);qe&&(++Y,q.write_shift(-4,xe))};for(he=Y=0,he+=U[1];Y<he;++Y)q.write_shift(-4,J.DIFSECT);for(he+=U[2];Y<he;++Y)q.write_shift(-4,J.FATSECT);_e(U[3]),_e(U[4]);for(var ce=0,de=0,pe=L.FileIndex[0];ce<L.FileIndex.length;++ce)pe=L.FileIndex[ce],pe.content&&(de=pe.content.length,!(de<4096)&&(pe.start=he,_e(de+511>>9)));for(_e(U[6]+7>>3);q.l&511;)q.write_shift(-4,J.ENDOFCHAIN);for(he=Y=0,ce=0;ce<L.FileIndex.length;++ce)pe=L.FileIndex[ce],pe.content&&(de=pe.content.length,!(!de||de>=4096)&&(pe.start=he,_e(de+63>>6)));for(;q.l&511;)q.write_shift(-4,J.ENDOFCHAIN);for(Y=0;Y<U[4]<<2;++Y){var Fe=L.FullPaths[Y];if(!Fe||Fe.length===0){for(ce=0;ce<17;++ce)q.write_shift(4,0);for(ce=0;ce<3;++ce)q.write_shift(4,-1);for(ce=0;ce<12;++ce)q.write_shift(4,0);continue}pe=L.FileIndex[Y],Y===0&&(pe.start=pe.size?pe.start-1:xe);var Me=Y===0&&P.root||pe.name;if(de=2*(Me.length+1),q.write_shift(64,Me,"utf16le"),q.write_shift(2,de),q.write_shift(1,pe.type),q.write_shift(1,pe.color),q.write_shift(-4,pe.L),q.write_shift(-4,pe.R),q.write_shift(-4,pe.C),pe.clsid)q.write_shift(16,pe.clsid,"hex");else for(ce=0;ce<4;++ce)q.write_shift(4,0);q.write_shift(4,pe.state||0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,pe.start),q.write_shift(4,pe.size),q.write_shift(4,0)}for(Y=1;Y<L.FileIndex.length;++Y)if(pe=L.FileIndex[Y],pe.size>=4096)if(q.l=pe.start+1<<9,Rt&&Buffer.isBuffer(pe.content))pe.content.copy(q,q.l,0,pe.size),q.l+=pe.size+511&-512;else{for(ce=0;ce<pe.size;++ce)q.write_shift(1,pe.content[ce]);for(;ce&511;++ce)q.write_shift(1,0)}for(Y=1;Y<L.FileIndex.length;++Y)if(pe=L.FileIndex[Y],pe.size>0&&pe.size<4096)if(Rt&&Buffer.isBuffer(pe.content))pe.content.copy(q,q.l,0,pe.size),q.l+=pe.size+63&-64;else{for(ce=0;ce<pe.size;++ce)q.write_shift(1,pe.content[ce]);for(;ce&63;++ce)q.write_shift(1,0)}if(Rt)q.l=q.length;else for(;q.l<q.length;)q.write_shift(1,0);return q}function te(L,K){var P=L.FullPaths.map(function(ce){return ce.toUpperCase()}),U=P.map(function(ce){var de=ce.split("/");return de[de.length-(ce.slice(-1)=="/"?2:1)]}),q=!1;K.charCodeAt(0)===47?(q=!0,K=P[0].slice(0,-1)+K):q=K.indexOf("/")!==-1;var Y=K.toUpperCase(),he=q===!0?P.indexOf(Y):U.indexOf(Y);if(he!==-1)return L.FileIndex[he];var _e=!Y.match(Nx);for(Y=Y.replace(da,""),_e&&(Y=Y.replace(Nx,"!")),he=0;he<P.length;++he)if((_e?P[he].replace(Nx,"!"):P[he]).replace(da,"")==Y||(_e?U[he].replace(Nx,"!"):U[he]).replace(da,"")==Y)return L.FileIndex[he];return null}var Z=64,xe=-2,De="d0cf11e0a1b11ae1",ve=[208,207,17,224,161,177,26,225],ee="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:xe,FREESECT:-1,HEADER_SIGNATURE:De,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ee,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ee(L,K,P){p();var U=re(L,P);h.writeFileSync(K,U)}function ne(L){for(var K=new Array(L.length),P=0;P<L.length;++P)K[P]=String.fromCharCode(L[P]);return K.join("")}function Ie(L,K){var P=re(L,K);switch(K&&K.type||"buffer"){case"file":return p(),h.writeFileSync(K.filename,P),P;case"binary":return typeof P=="string"?P:ne(P);case"base64":return _y(typeof P=="string"?P:ne(P));case"buffer":if(Rt)return Buffer.isBuffer(P)?P:Kc(P);case"array":return typeof P=="string"?us(P):P}return P}var j;function F(L){try{var K=L.InflateRaw,P=new K;if(P._processChunk(new Uint8Array([3,0]),P._finishFlushFlag),P.bytesRead)j=L;else throw new Error("zlib does not expose bytesRead")}catch(U){console.error("cannot use native zlib: "+(U.message||U))}}function V(L,K){if(!j)return Lf(L,K);var P=j.InflateRaw,U=new P,q=U._processChunk(L.slice(L.l),U._finishFlushFlag);return L.l+=U.bytesRead,q}function H(L){return j?j.deflateRawSync(L):vt(L)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],we=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ne(L){var K=(L<<1|L<<11)&139536|(L<<5|L<<15)&558144;return(K>>16|K>>8|K)&255}for(var Te=typeof Uint8Array<"u",Re=Te?new Uint8Array(256):[],rt=0;rt<256;++rt)Re[rt]=Ne(rt);function Q(L,K){var P=Re[L&255];return K<=8?P>>>8-K:(P=P<<8|Re[L>>8&255],K<=16?P>>>16-K:(P=P<<8|Re[L>>16&255],P>>>24-K))}function St(L,K){var P=K&7,U=K>>>3;return(L[U]|(P<=6?0:L[U+1]<<8))>>>P&3}function pt(L,K){var P=K&7,U=K>>>3;return(L[U]|(P<=5?0:L[U+1]<<8))>>>P&7}function At(L,K){var P=K&7,U=K>>>3;return(L[U]|(P<=4?0:L[U+1]<<8))>>>P&15}function gt(L,K){var P=K&7,U=K>>>3;return(L[U]|(P<=3?0:L[U+1]<<8))>>>P&31}function He(L,K){var P=K&7,U=K>>>3;return(L[U]|(P<=1?0:L[U+1]<<8))>>>P&127}function En(L,K,P){var U=K&7,q=K>>>3,Y=(1<<P)-1,he=L[q]>>>U;return P<8-U||(he|=L[q+1]<<8-U,P<16-U)||(he|=L[q+2]<<16-U,P<24-U)||(he|=L[q+3]<<24-U),he&Y}function Br(L,K,P){var U=K&7,q=K>>>3;return U<=5?L[q]|=(P&7)<<U:(L[q]|=P<<U&255,L[q+1]=(P&7)>>8-U),K+3}function gi(L,K,P){var U=K&7,q=K>>>3;return P=(P&1)<<U,L[q]|=P,K+1}function Ki(L,K,P){var U=K&7,q=K>>>3;return P<<=U,L[q]|=P&255,P>>>=8,L[q+1]=P,K+8}function Hl(L,K,P){var U=K&7,q=K>>>3;return P<<=U,L[q]|=P&255,P>>>=8,L[q+1]=P&255,L[q+2]=P>>>8,K+16}function vs(L,K){var P=L.length,U=2*P>K?2*P:K+5,q=0;if(P>=K)return L;if(Rt){var Y=ZC(U);if(L.copy)L.copy(Y);else for(;q<L.length;++q)Y[q]=L[q];return Y}else if(Te){var he=new Uint8Array(U);if(he.set)he.set(L);else for(;q<P;++q)he[q]=L[q];return he}return L.length=U,L}function st(L){for(var K=new Array(L),P=0;P<L;++P)K[P]=0;return K}function Yi(L,K,P){var U=1,q=0,Y=0,he=0,_e=0,ce=L.length,de=Te?new Uint16Array(32):st(32);for(Y=0;Y<32;++Y)de[Y]=0;for(Y=ce;Y<P;++Y)L[Y]=0;ce=L.length;var pe=Te?new Uint16Array(ce):st(ce);for(Y=0;Y<ce;++Y)de[q=L[Y]]++,U<q&&(U=q),pe[Y]=0;for(de[0]=0,Y=1;Y<=U;++Y)de[Y+16]=_e=_e+de[Y-1]<<1;for(Y=0;Y<ce;++Y)_e=L[Y],_e!=0&&(pe[Y]=de[_e+16]++);var Fe=0;for(Y=0;Y<ce;++Y)if(Fe=L[Y],Fe!=0)for(_e=Q(pe[Y],U)>>U-Fe,he=(1<<U+4-Fe)-1;he>=0;--he)K[_e|he<<Fe]=Fe&15|Y<<4;return U}var Ur=Te?new Uint16Array(512):st(512),Js=Te?new Uint16Array(32):st(32);if(!Te){for(var Vn=0;Vn<512;++Vn)Ur[Vn]=0;for(Vn=0;Vn<32;++Vn)Js[Vn]=0}(function(){for(var L=[],K=0;K<32;K++)L.push(5);Yi(L,Js,32);var P=[];for(K=0;K<=143;K++)P.push(8);for(;K<=255;K++)P.push(9);for(;K<=279;K++)P.push(7);for(;K<=287;K++)P.push(8);Yi(P,Ur,288)})();var Gt=(function(){for(var K=Te?new Uint8Array(32768):[],P=0,U=0;P<we.length-1;++P)for(;U<we[P+1];++U)K[U]=P;for(;U<32768;++U)K[U]=29;var q=Te?new Uint8Array(259):[];for(P=0,U=0;P<se.length-1;++P)for(;U<se[P+1];++U)q[U]=P;function Y(_e,ce){for(var de=0;de<_e.length;){var pe=Math.min(65535,_e.length-de),Fe=de+pe==_e.length;for(ce.write_shift(1,+Fe),ce.write_shift(2,pe),ce.write_shift(2,~pe&65535);pe-- >0;)ce[ce.l++]=_e[de++]}return ce.l}function he(_e,ce){for(var de=0,pe=0,Fe=Te?new Uint16Array(32768):[];pe<_e.length;){var Me=Math.min(65535,_e.length-pe);if(Me<10){for(de=Br(ce,de,+(pe+Me==_e.length)),de&7&&(de+=8-(de&7)),ce.l=de/8|0,ce.write_shift(2,Me),ce.write_shift(2,~Me&65535);Me-- >0;)ce[ce.l++]=_e[pe++];de=ce.l*8;continue}de=Br(ce,de,+(pe+Me==_e.length)+2);for(var qe=0;Me-- >0;){var Le=_e[pe];qe=(qe<<5^Le)&32767;var Ve=-1,$e=0;if((Ve=Fe[qe])&&(Ve|=pe&-32768,Ve>pe&&(Ve-=32768),Ve<pe))for(;_e[Ve+$e]==_e[pe+$e]&&$e<250;)++$e;if($e>2){Le=q[$e],Le<=22?de=Ki(ce,de,Re[Le+1]>>1)-1:(Ki(ce,de,3),de+=5,Ki(ce,de,Re[Le-23]>>5),de+=3);var sn=Le<8?0:Le-4>>2;sn>0&&(Hl(ce,de,$e-se[Le]),de+=sn),Le=K[pe-Ve],de=Ki(ce,de,Re[Le]>>3),de-=3;var Zt=Le<4?0:Le-2>>1;Zt>0&&(Hl(ce,de,pe-Ve-we[Le]),de+=Zt);for(var gn=0;gn<$e;++gn)Fe[qe]=pe&32767,qe=(qe<<5^_e[pe])&32767,++pe;Me-=$e-1}else Le<=143?Le=Le+48:de=gi(ce,de,1),de=Ki(ce,de,Re[Le]),Fe[qe]=pe&32767,++pe}de=Ki(ce,de,0)-1}return ce.l=(de+7)/8|0,ce.l}return function(ce,de){return ce.length<8?Y(ce,de):he(ce,de)}})();function vt(L){var K=be(50+Math.floor(L.length*1.1)),P=Gt(L,K);return K.slice(0,P)}var Jt=Te?new Uint16Array(32768):st(32768),Hn=Te?new Uint16Array(32768):st(32768),mn=Te?new Uint16Array(128):st(128),Mt=1,pa=1;function Sn(L,K){var P=gt(L,K)+257;K+=5;var U=gt(L,K)+1;K+=5;var q=At(L,K)+4;K+=4;for(var Y=0,he=Te?new Uint8Array(19):st(19),_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ce=1,de=Te?new Uint8Array(8):st(8),pe=Te?new Uint8Array(8):st(8),Fe=he.length,Me=0;Me<q;++Me)he[W[Me]]=Y=pt(L,K),ce<Y&&(ce=Y),de[Y]++,K+=3;var qe=0;for(de[0]=0,Me=1;Me<=ce;++Me)pe[Me]=qe=qe+de[Me-1]<<1;for(Me=0;Me<Fe;++Me)(qe=he[Me])!=0&&(_e[Me]=pe[qe]++);var Le=0;for(Me=0;Me<Fe;++Me)if(Le=he[Me],Le!=0){qe=Re[_e[Me]]>>8-Le;for(var Ve=(1<<7-Le)-1;Ve>=0;--Ve)mn[qe|Ve<<Le]=Le&7|Me<<3}var $e=[];for(ce=1;$e.length<P+U;)switch(qe=mn[He(L,K)],K+=qe&7,qe>>>=3){case 16:for(Y=3+St(L,K),K+=2,qe=$e[$e.length-1];Y-- >0;)$e.push(qe);break;case 17:for(Y=3+pt(L,K),K+=3;Y-- >0;)$e.push(0);break;case 18:for(Y=11+He(L,K),K+=7;Y-- >0;)$e.push(0);break;default:$e.push(qe),ce<qe&&(ce=qe);break}var sn=$e.slice(0,P),Zt=$e.slice(P);for(Me=P;Me<286;++Me)sn[Me]=0;for(Me=U;Me<30;++Me)Zt[Me]=0;return Mt=Yi(sn,Jt,286),pa=Yi(Zt,Hn,30),K}function Mf(L,K){if(L[0]==3&&!(L[1]&3))return[bf(K),2];for(var P=0,U=0,q=ZC(K||1<<18),Y=0,he=q.length>>>0,_e=0,ce=0;(U&1)==0;){if(U=pt(L,P),P+=3,U>>>1)U>>1==1?(_e=9,ce=5):(P=Sn(L,P),_e=Mt,ce=pa);else{P&7&&(P+=8-(P&7));var de=L[P>>>3]|L[(P>>>3)+1]<<8;if(P+=32,de>0)for(!K&&he<Y+de&&(q=vs(q,Y+de),he=q.length);de-- >0;)q[Y++]=L[P>>>3],P+=8;continue}for(;;){!K&&he<Y+32767&&(q=vs(q,Y+32767),he=q.length);var pe=En(L,P,_e),Fe=U>>>1==1?Ur[pe]:Jt[pe];if(P+=Fe&15,Fe>>>=4,(Fe>>>8&255)===0)q[Y++]=Fe;else{if(Fe==256)break;Fe-=257;var Me=Fe<8?0:Fe-4>>2;Me>5&&(Me=0);var qe=Y+se[Fe];Me>0&&(qe+=En(L,P,Me),P+=Me),pe=En(L,P,ce),Fe=U>>>1==1?Js[pe]:Hn[pe],P+=Fe&15,Fe>>>=4;var Le=Fe<4?0:Fe-2>>1,Ve=we[Fe];for(Le>0&&(Ve+=En(L,P,Le),P+=Le),!K&&he<qe&&(q=vs(q,qe+100),he=q.length);Y<qe;)q[Y]=q[Y-Ve],++Y}}}return K?[q,P+7>>>3]:[q.slice(0,Y),P+7>>>3]}function Lf(L,K){var P=L.slice(L.l||0),U=Mf(P,K);return L.l+=U[1],U[0]}function ql(L,K){if(L)typeof console<"u"&&console.error(K);else throw new Error(K)}function xs(L,K){var P=L;ui(P,0);var U=[],q=[],Y={FileIndex:U,FullPaths:q};C(Y,{root:K.root});for(var he=P.length-4;(P[he]!=80||P[he+1]!=75||P[he+2]!=5||P[he+3]!=6)&&he>=0;)--he;P.l=he+4,P.l+=4;var _e=P.read_shift(2);P.l+=6;var ce=P.read_shift(4);for(P.l=ce,he=0;he<_e;++he){P.l+=20;var de=P.read_shift(4),pe=P.read_shift(4),Fe=P.read_shift(2),Me=P.read_shift(2),qe=P.read_shift(2);P.l+=8;var Le=P.read_shift(4),Ve=u(P.slice(P.l+Fe,P.l+Fe+Me));P.l+=Fe+Me+qe;var $e=P.l;P.l=Le+4,Gl(P,de,pe,Y,Ve),P.l=$e}return Y}function Gl(L,K,P,U,q){L.l+=2;var Y=L.read_shift(2),he=L.read_shift(2),_e=c(L);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var ce=L.read_shift(4),de=L.read_shift(4),pe=L.read_shift(4),Fe=L.read_shift(2),Me=L.read_shift(2),qe="",Le=0;Le<Fe;++Le)qe+=String.fromCharCode(L[L.l++]);if(Me){var Ve=u(L.slice(L.l,L.l+Me));(Ve[21589]||{}).mt&&(_e=Ve[21589].mt),((q||{})[21589]||{}).mt&&(_e=q[21589].mt)}L.l+=Me;var $e=L.slice(L.l,L.l+de);switch(he){case 8:$e=V(L,pe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+he)}var sn=!1;Y&8&&(ce=L.read_shift(4),ce==134695760&&(ce=L.read_shift(4),sn=!0),de=L.read_shift(4),pe=L.read_shift(4)),de!=K&&ql(sn,"Bad compressed size: "+K+" != "+de),pe!=P&&ql(sn,"Bad uncompressed size: "+P+" != "+pe),Zc(U,qe,$e,{unsafe:!0,mt:_e})}function za(L,K){var P=K||{},U=[],q=[],Y=be(1),he=P.compression?8:0,_e=0,ce=0,de=0,pe=0,Fe=0,Me=L.FullPaths[0],qe=Me,Le=L.FileIndex[0],Ve=[],$e=0;for(ce=1;ce<L.FullPaths.length;++ce)if(qe=L.FullPaths[ce].slice(Me.length),Le=L.FileIndex[ce],!(!Le.size||!Le.content||qe=="Sh33tJ5")){var sn=pe,Zt=be(qe.length);for(de=0;de<qe.length;++de)Zt.write_shift(1,qe.charCodeAt(de)&127);Zt=Zt.slice(0,Zt.l),Ve[Fe]=Cz.buf(Le.content,0);var gn=Le.content;he==8&&(gn=H(gn)),Y=be(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,_e),Y.write_shift(2,he),Le.mt?s(Y,Le.mt):Y.write_shift(4,0),Y.write_shift(-4,Ve[Fe]),Y.write_shift(4,gn.length),Y.write_shift(4,Le.content.length),Y.write_shift(2,Zt.length),Y.write_shift(2,0),pe+=Y.length,U.push(Y),pe+=Zt.length,U.push(Zt),pe+=gn.length,U.push(gn),Y=be(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,_e),Y.write_shift(2,he),Y.write_shift(4,0),Y.write_shift(-4,Ve[Fe]),Y.write_shift(4,gn.length),Y.write_shift(4,Le.content.length),Y.write_shift(2,Zt.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,sn),$e+=Y.l,q.push(Y),$e+=Zt.length,q.push(Zt),++Fe}return Y=be(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Fe),Y.write_shift(2,Fe),Y.write_shift(4,$e),Y.write_shift(4,pe),Y.write_shift(2,0),Wr([Wr(U),Wr(q),Y])}var $i={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ho(L,K){if(L.ctype)return L.ctype;var P=L.name||"",U=P.match(/\.([^\.]+)$/);return U&&$i[U[1]]||K&&(U=(P=K).match(/[\.\\]([^\.\\])+$/),U&&$i[U[1]])?$i[U[1]]:"application/octet-stream"}function Wl(L){for(var K=_y(L),P=[],U=0;U<K.length;U+=76)P.push(K.slice(U,U+76));return P.join(`\r
`)+`\r
`}function ig(L){var K=L.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var pe=de.charCodeAt(0).toString(16).toUpperCase();return"="+(pe.length==1?"0"+pe:pe)});K=K.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),K.charAt(0)==`
`&&(K="=0D"+K.slice(1)),K=K.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var P=[],U=K.split(`\r
`),q=0;q<U.length;++q){var Y=U[q];if(Y.length==0){P.push("");continue}for(var he=0;he<Y.length;){var _e=76,ce=Y.slice(he,he+_e);ce.charAt(_e-1)=="="?_e--:ce.charAt(_e-2)=="="?_e-=2:ce.charAt(_e-3)=="="&&(_e-=3),ce=Y.slice(he,he+_e),he+=_e,he<Y.length&&(ce+="="),P.push(ce)}}return P.join(`\r
`)}function jf(L){for(var K=[],P=0;P<L.length;++P){for(var U=L[P];P<=L.length&&U.charAt(U.length-1)=="=";)U=U.slice(0,U.length-1)+L[++P];K.push(U)}for(var q=0;q<K.length;++q)K[q]=K[q].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return us(K.join(`\r
`))}function Pf(L,K,P){for(var U="",q="",Y="",he,_e=0;_e<10;++_e){var ce=K[_e];if(!ce||ce.match(/^\s*$/))break;var de=ce.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":U=de[2].trim();break;case"content-type":Y=de[2].trim();break;case"content-transfer-encoding":q=de[2].trim();break}}switch(++_e,q.toLowerCase()){case"base64":he=us(gs(K.slice(_e).join("")));break;case"quoted-printable":he=jf(K.slice(_e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+q)}var pe=Zc(L,U.slice(P.length),he,{unsafe:!0});Y&&(pe.ctype=Y)}function Zn(L,K){if(ne(L.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var P=K&&K.root||"",U=(Rt&&Buffer.isBuffer(L)?L.toString("binary"):ne(L)).split(`\r
`),q=0,Y="";for(q=0;q<U.length;++q)if(Y=U[q],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),P||(P=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,P.length)!=P))for(;P.length>0&&(P=P.slice(0,P.length-1),P=P.slice(0,P.lastIndexOf("/")+1),Y.slice(0,P.length)!=P););var he=(U[1]||"").match(/boundary="(.*?)"/);if(!he)throw new Error("MAD cannot find boundary");var _e="--"+(he[1]||""),ce=[],de=[],pe={FileIndex:ce,FullPaths:de};C(pe);var Fe,Me=0;for(q=0;q<U.length;++q){var qe=U[q];qe!==_e&&qe!==_e+"--"||(Me++&&Pf(pe,U.slice(Fe,q),P),Fe=q)}return pe}function Jc(L,K){var P=K||{},U=P.boundary||"SheetJS";U="------="+U;for(var q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+U.slice(2)+'"',"","",""],Y=L.FullPaths[0],he=Y,_e=L.FileIndex[0],ce=1;ce<L.FullPaths.length;++ce)if(he=L.FullPaths[ce].slice(Y.length),_e=L.FileIndex[ce],!(!_e.size||!_e.content||he=="Sh33tJ5")){he=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($e){return"_x"+$e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($e){return"_u"+$e.charCodeAt(0).toString(16)+"_"});for(var de=_e.content,pe=Rt&&Buffer.isBuffer(de)?de.toString("binary"):ne(de),Fe=0,Me=Math.min(1024,pe.length),qe=0,Le=0;Le<=Me;++Le)(qe=pe.charCodeAt(Le))>=32&&qe<128&&++Fe;var Ve=Fe>=Me*4/5;q.push(U),q.push("Content-Location: "+(P.root||"file:///C:/SheetJS/")+he),q.push("Content-Transfer-Encoding: "+(Ve?"quoted-printable":"base64")),q.push("Content-Type: "+Ho(_e,he)),q.push(""),q.push(Ve?ig(pe):Wl(pe))}return q.push(U+`--\r
`),q.join(`\r
`)}function l0(L){var K={};return C(K,L),K}function Zc(L,K,P,U){var q=U&&U.unsafe;q||C(L);var Y=!q&&at.find(L,K);if(!Y){var he=L.FullPaths[0];K.slice(0,he.length)==he?he=K:(he.slice(-1)!="/"&&(he+="/"),he=(he+K).replace("//","/")),Y={name:i(K),type:2},L.FileIndex.push(Y),L.FullPaths.push(he),q||at.utils.cfb_gc(L)}return Y.content=P,Y.size=P?P.length:0,U&&(U.CLSID&&(Y.clsid=U.CLSID),U.mt&&(Y.mt=U.mt),U.ct&&(Y.ct=U.ct)),Y}function Bf(L,K){C(L);var P=at.find(L,K);if(P){for(var U=0;U<L.FileIndex.length;++U)if(L.FileIndex[U]==P)return L.FileIndex.splice(U,1),L.FullPaths.splice(U,1),!0}return!1}function eu(L,K,P){C(L);var U=at.find(L,K);if(U){for(var q=0;q<L.FileIndex.length;++q)if(L.FileIndex[q]==U)return L.FileIndex[q].name=i(P),L.FullPaths[q]=P,!0}return!1}function tu(L){B(L,!0)}return t.find=te,t.read=M,t.parse=g,t.write=Ie,t.writeFile=Ee,t.utils={cfb_new:l0,cfb_add:Zc,cfb_del:Bf,cfb_mov:eu,cfb_gc:tu,ReadShift:Hx,CheckField:q3,prep_blob:ui,bconcat:Wr,use_zlib:F,_deflateRaw:vt,_inflateRaw:Lf,consts:J},t})();function Rz(e){return typeof e=="string"?WE(e):Array.isArray(e)?nz(e):e}function u1(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=WE(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r=n=="utf8"?Fl(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var i=new Blob([Rz(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var c=document.createElement("a");if(c.download!=null)return c.download=e,c.href=s,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(e);return u.open("w"),u.encoding="binary",Array.isArray(t)&&(t=If(t)),u.write(t),u.close(),t}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+e)}function Dz(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function lr(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function o4(e,t){for(var n=[],r=lr(e),i=0;i!==r.length;++i)n[e[r[i]][t]]==null&&(n[e[r[i]][t]]=r[i]);return n}function KE(e){for(var t=[],n=lr(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function YE(e){for(var t=[],n=lr(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function Iz(e){for(var t=[],n=lr(e),r=0;r!==n.length;++r)t[e[n[r]]]==null&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var U_=new Date(1899,11,30,0,0,0);function Pr(e,t){var n=e.getTime(),r=U_.getTime()+(e.getTimezoneOffset()-U_.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var E3=new Date,Oz=U_.getTime()+(E3.getTimezoneOffset()-U_.getTimezoneOffset())*6e4,l4=E3.getTimezoneOffset();function $E(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Oz),t.getTimezoneOffset()!==l4&&t.setTime(t.getTime()+(t.getTimezoneOffset()-l4)*6e4),t}function Fz(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(i[s],10)}return t}var c4=new Date("2017-02-19T19:06:09.000Z"),S3=isNaN(c4.getFullYear())?new Date("2/19/17"):c4,Mz=S3.getFullYear()==2017;function Fn(e,t){var n=new Date(e);if(Mz)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(S3.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function zd(e,t){if(Rt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Fl(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Fl(f3(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Fl(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Fl(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function Mn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Mn(e[n]));return t}function ar(e,t){for(var n="";n.length<t;)n+=e;return n}function Uo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(t=Number(r)))?t/n:t}var Lz=["january","february","march","april","may","june","july","august","september","october","november","december"];function Lm(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var c=e.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&Lz.indexOf(c)==-1)return n}else if(c.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var jz=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(e||typeof r=="string")return n.split(r);for(var s=n.split(r),c=[s[0]],u=1;u<s.length;++u)c.push(i),c.push(s[u]);return c}})();function T3(e){return e?e.content&&e.type?zd(e.content,!0):e.data?kx(e.data):e.asNodeBuffer&&Rt?kx(e.asNodeBuffer().toString("binary")):e.asBinary?kx(e.asBinary()):e._data&&e._data.getContent?kx(zd(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function A3(e){if(!e)return null;if(e.data)return QC(e.data);if(e.asNodeBuffer&&Rt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?QC(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Pz(e){return e&&e.name.slice(-4)===".bin"?A3(e):T3(e)}function zs(e,t){for(var n=e.FullPaths||lr(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var c=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==c||i==c)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function rk(e,t){var n=zs(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function _r(e,t,n){if(!n)return Pz(rk(e,t));if(!t)return null;try{return _r(e,t)}catch{return null}}function fs(e,t,n){if(!n)return T3(rk(e,t));if(!t)return null;try{return fs(e,t)}catch{return null}}function Bz(e,t,n){return A3(rk(e,t))}function u4(e){for(var t=e.FullPaths||lr(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function Et(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return Rt?r=Kc(n):r=rz(n),at.utils.cfb_add(e,t,r)}at.utils.cfb_add(e,t,n)}else e.file(t,n)}function ik(){return at.utils.cfb_new()}function k3(e,t){switch(t.type){case"base64":return at.read(e,{type:"base64"});case"binary":return at.read(e,{type:"binary"});case"buffer":case"array":return at.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Cx(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var gr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Uz=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,f4=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,zz=/<[^>]*>/g,Xi=gr.match(f4)?f4:zz,Vz=/<\w*:/,Hz=/<(\/?)\w+:/;function ht(e,t,n){for(var r={},i=0,s=0;i!==e.length&&!((s=e.charCodeAt(i))===32||s===10||s===13);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var c=e.match(Uz),u=0,h="",p=0,g="",x="",b=1;if(c)for(p=0;p!=c.length;++p){for(x=c[p],s=0;s!=x.length&&x.charCodeAt(s)!==61;++s);for(g=x.slice(0,s).trim();x.charCodeAt(s+1)==32;)++s;for(b=(i=x.charCodeAt(s+1))==34||i==39?1:0,h=x.slice(s+1+b,x.length-b),u=0;u!=g.length&&g.charCodeAt(u)!==58;++u);if(u===g.length)g.indexOf("_")>0&&(g=g.slice(0,g.indexOf("_"))),r[g]=h,r[g.toLowerCase()]=h;else{var _=(u===5&&g.slice(0,5)==="xmlns"?"xmlns":"")+g.slice(u+1);if(r[_]&&g.slice(u-3,u)=="ext")continue;r[_]=h,r[_.toLowerCase()]=h}}return r}function zl(e){return e.replace(Hz,"<$1")}var N3={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},ak=KE(N3),Vt=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(e,function(u,h){return N3[u]||String.fromCharCode(parseInt(h,u.indexOf("x")>-1?16:10))||u}).replace(t,function(u,h){return String.fromCharCode(parseInt(h,16))});var c=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,c)+n(i.slice(c+3))}})(),sk=/[&<>'"]/g,qz=/[\u0000-\u0008\u000b-\u001f]/g;function pn(e){var t=e+"";return t.replace(sk,function(n){return ak[n]}).replace(qz,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function h4(e){return pn(e).replace(/ /g,"_x0020_")}var C3=/[\u0000-\u001f]/g;function ok(e){var t=e+"";return t.replace(sk,function(n){return ak[n]}).replace(/\n/g,"<br/>").replace(C3,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function Gz(e){var t=e+"";return t.replace(sk,function(n){return ak[n]}).replace(C3,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var d4=(function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}})();function Wz(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function On(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ZS(e){for(var t="",n=0,r=0,i=0,s=0,c=0,u=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){c=(r&31)<<6,c|=i&63,t+=String.fromCharCode(c);continue}if(s=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}c=e.charCodeAt(n++),u=((r&7)<<18|(i&63)<<12|(s&63)<<6|c&63)-65536,t+=String.fromCharCode(55296+(u>>>10&1023)),t+=String.fromCharCode(56320+(u&1023))}return t}function p4(e){var t=bf(2*e.length),n,r,i=1,s=0,c=0,u;for(r=0;r<e.length;r+=i)i=1,(u=e.charCodeAt(r))<128?n=u:u<224?(n=(u&31)*64+(e.charCodeAt(r+1)&63),i=2):u<240?(n=(u&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(u&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,c=55296+(n>>>10&1023),n=56320+(n&1023)),c!==0&&(t[s++]=c&255,t[s++]=c>>>8,c=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function m4(e){return Kc(e,"binary").toString("utf8")}var ww="foo bar baz",yn=Rt&&(m4(ww)==ZS(ww)&&m4||p4(ww)==ZS(ww)&&p4)||ZS,Fl=Rt?function(e){return Kc(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},Sy=(function(){var e={};return function(n,r){var i=n+"|"+(r||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),R3=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}})(),Xz=(function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),Kz=/<\/?(?:vt:)?variant>/g,Yz=/<(?:vt:)([^>]*)>([\s\S]*)</;function g4(e,t){var n=ht(e),r=e.match(Xz(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var c=s.replace(Kz,"").match(Yz);c&&i.push({v:yn(c[2]),t:c[1]})}),i}var D3=/(^\s|\s$|\n)/;function fi(e,t){return"<"+e+(t.match(D3)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Ty(e){return lr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Be(e,t,n){return"<"+e+(n!=null?Ty(n):"")+(t!=null?(t.match(D3)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function n2(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function $z(e,t){switch(typeof e){case"string":var n=Be("vt:lpwstr",pn(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Be((e|0)==e?"vt:i4":"vt:r8",pn(String(e)));case"boolean":return Be("vt:bool",e?"true":"false")}if(e instanceof Date)return Be("vt:filetime",n2(e));throw new Error("Unable to serialize "+e)}function lk(e){if(Rt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return yn(If(ek(e)));throw new Error("Bad input format: expected Buffer or string")}var Ay=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Fr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},t0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],os={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Qz(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function Jz(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,c=r?-t:t;isFinite(c)?c==0?i=s=0:(i=Math.floor(Math.log(c)/Math.LN2),s=c*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var u=0;u<=5;++u,s/=256)e[n+u]=s&255;e[n+6]=(i&15)<<4|s&15,e[n+7]=i>>4|r}var v4=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,s=e[0][r].length;i<s;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},x4=Rt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Kc(t)})):v4(e)}:v4,y4=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(Oc(e,i)));return r.join("").replace(da,"")},ck=Rt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(da,""):y4(e,t,n)}:y4,b4=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},I3=Rt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):b4(e,t,n)}:b4,w4=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(am(e,i)));return r.join("")},f1=Rt?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):w4(t,n,r)}:w4,O3=function(e,t){var n=ls(e,t);return n>0?f1(e,t+4,t+4+n-1):""},F3=O3,M3=function(e,t){var n=ls(e,t);return n>0?f1(e,t+4,t+4+n-1):""},L3=M3,j3=function(e,t){var n=2*ls(e,t);return n>0?f1(e,t+4,t+4+n-1):""},P3=j3,B3=function(t,n){var r=ls(t,n);return r>0?ck(t,n+4,n+4+r):""},U3=B3,z3=function(e,t){var n=ls(e,t);return n>0?f1(e,t+4,t+4+n):""},V3=z3,H3=function(e,t){return Qz(e,t)},z_=H3,uk=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Rt&&(F3=function(t,n){if(!Buffer.isBuffer(t))return O3(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},L3=function(t,n){if(!Buffer.isBuffer(t))return M3(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},P3=function(t,n){if(!Buffer.isBuffer(t))return j3(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},U3=function(t,n){if(!Buffer.isBuffer(t))return B3(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},V3=function(t,n){if(!Buffer.isBuffer(t))return z3(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},z_=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):H3(t,n)},uk=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var am=function(e,t){return e[t]},Oc=function(e,t){return e[t+1]*256+e[t]},Zz=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},ls=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},xd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},eV=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Hx(e,t){var n="",r,i,s=[],c,u,h,p;switch(t){case"dbcs":if(p=this.l,Rt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(h=0;h<e;++h)n+=String.fromCharCode(Oc(this,p)),p+=2;e*=2;break;case"utf8":n=f1(this,this.l,this.l+e);break;case"utf16le":e*=2,n=ck(this,this.l,this.l+e);break;case"wstr":return Hx.call(this,e,"dbcs");case"lpstr-ansi":n=F3(this,this.l),e=4+ls(this,this.l);break;case"lpstr-cp":n=L3(this,this.l),e=4+ls(this,this.l);break;case"lpwstr":n=P3(this,this.l),e=4+2*ls(this,this.l);break;case"lpp4":e=4+ls(this,this.l),n=U3(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ls(this,this.l),n=V3(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(c=am(this,this.l+e++))!==0;)s.push(bw(c));n=s.join("");break;case"_wstr":for(e=0,n="";(c=Oc(this,this.l+e))!==0;)s.push(bw(c)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",p=this.l,h=0;h<e;++h){if(this.lens&&this.lens.indexOf(p)!==-1)return c=am(this,p),this.l=p+1,u=Hx.call(this,e-h,c?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(bw(Oc(this,p))),p+=2}n=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",p=this.l,h=0;h!=e;++h){if(this.lens&&this.lens.indexOf(p)!==-1)return c=am(this,p),this.l=p+1,u=Hx.call(this,e-h,c?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(bw(am(this,p))),p+=1}n=s.join("");break;default:switch(e){case 1:return r=am(this,this.l),this.l++,r;case 2:return r=(t==="i"?Zz:Oc)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?xd:eV)(this,this.l),this.l+=4,r):(i=ls(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=z_(this,this.l):i=z_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=I3(this,this.l,e);break}}return this.l+=e,n}var tV=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},nV=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},rV=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function iV(e,t,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=t.length;++i)rV(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var c=t.charCodeAt(i);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,tV(this,t,this.l);break;case 8:if(r=8,n==="f"){Jz(this,t,this.l);break}case 16:break;case-4:r=4,nV(this,t,this.l);break}return this.l+=r,this}function q3(e,t){var n=I3(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function ui(e,t){e.l=t,e.read_shift=Hx,e.chk=q3,e.write_shift=iV}function Gi(e,t){e.l+=t}function be(e){var t=bf(e);return ui(t,0),t}function Yc(e,t,n){if(e){var r,i,s;ui(e,e.l||0);for(var c=e.length,u=0,h=0;e.l<c;){u=e.read_shift(1),u&128&&(u=(u&127)+((e.read_shift(1)&127)<<7));var p=Iy[u]||Iy[65535];for(r=e.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=e.read_shift(1))&127)<<7*i;h=e.l+s;var g=p.f&&p.f(e,s,n);if(e.l=h,t(g,p,u))return}}}function La(){var e=[],t=Rt?256:2048,n=function(p){var g=be(p);return ui(g,0),g},r=n(t),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},s=function(p){return r&&p<r.length-r.l?r:(i(),r=n(Math.max(p+1,t)))},c=function(){return i(),Wr(e)},u=function(p){i(),r=p,r.l==null&&(r.l=r.length),s(t)};return{next:s,push:u,end:c,_bufs:e}}function Ce(e,t,n,r){var i=+t,s;if(!isNaN(i)){r||(r=Iy[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var c=e.next(s);i<=127?c.write_shift(1,i):(c.write_shift(1,(i&127)+128),c.write_shift(1,i>>7));for(var u=0;u!=4;++u)if(r>=128)c.write_shift(1,(r&127)+128),r>>=7;else{c.write_shift(1,r);break}r>0&&uk(n)&&e.push(n)}}function qx(e,t,n){var r=Mn(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function _4(e,t,n){var r=Mn(e);return r.s=qx(r.s,t.s,n),r.e=qx(r.e,t.s,n),r}function Gx(e,t){if(e.cRel&&e.c<0)for(e=Mn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Mn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=ut(e);return!e.cRel&&e.cRel!=null&&(n=oV(n)),!e.rRel&&e.rRel!=null&&(n=aV(n)),n}function eT(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+$n(e.s.c)+":"+(e.e.cRel?"":"$")+$n(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+mr(e.s.r)+":"+(e.e.rRel?"":"$")+mr(e.e.r):Gx(e.s,t.biff)+":"+Gx(e.e,t.biff)}function fk(e){return parseInt(sV(e),10)-1}function mr(e){return""+(e+1)}function aV(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function sV(e){return e.replace(/\$(\d+)$/,"$1")}function hk(e){for(var t=lV(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function $n(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function oV(e){return e.replace(/^([A-Z])/,"$$$1")}function lV(e){return e.replace(/^\$([A-Z])/,"$1")}function cV(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Qn(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function ut(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Ba(e){var t=e.indexOf(":");return t==-1?{s:Qn(e),e:Qn(e)}:{s:Qn(e.slice(0,t)),e:Qn(e.slice(t+1))}}function bt(e,t){return typeof t>"u"||typeof t=="number"?bt(e.s,e.e):(typeof e!="string"&&(e=ut(e)),typeof t!="string"&&(t=ut(t)),e==t?e:e+":"+t)}function qt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function E4(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ks(e.z,n?Pr(t):t)}catch{}try{return e.w=Ks((e.XF||{}).numFmtId||(n?14:0),n?Pr(t):t)}catch{return""+t}}function qc(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?$c[e.v]||e.v:t==null?E4(e,e.v):E4(e,t))}function Of(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function G3(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,s=e||(i?[]:{}),c=0,u=0;if(s&&r.origin!=null){if(typeof r.origin=="number")c=r.origin;else{var h=typeof r.origin=="string"?Qn(r.origin):r.origin;c=h.r,u=h.c}s["!ref"]||(s["!ref"]="A1:A1")}var p={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var g=qt(s["!ref"]);p.s.c=g.s.c,p.s.r=g.s.r,p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),c==-1&&(p.e.r=c=g.e.r+1)}for(var x=0;x!=t.length;++x)if(t[x]){if(!Array.isArray(t[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var b=0;b!=t[x].length;++b)if(!(typeof t[x][b]>"u")){var _={v:t[x][b]},S=c+x,E=u+b;if(p.s.r>S&&(p.s.r=S),p.s.c>E&&(p.s.c=E),p.e.r<S&&(p.e.r=S),p.e.c<E&&(p.e.c=E),t[x][b]&&typeof t[x][b]=="object"&&!Array.isArray(t[x][b])&&!(t[x][b]instanceof Date))_=t[x][b];else if(Array.isArray(_.v)&&(_.f=t[x][b][1],_.v=_.v[0]),_.v===null)if(_.f)_.t="n";else if(r.nullError)_.t="e",_.v=0;else if(r.sheetStubs)_.t="z";else continue;else typeof _.v=="number"?_.t="n":typeof _.v=="boolean"?_.t="b":_.v instanceof Date?(_.z=r.dateNF||ct[14],r.cellDates?(_.t="d",_.w=Ks(_.z,Pr(_.v))):(_.t="n",_.v=Pr(_.v),_.w=Ks(_.z,_.v))):_.t="s";if(i)s[S]||(s[S]=[]),s[S][E]&&s[S][E].z&&(_.z=s[S][E].z),s[S][E]=_;else{var T=ut({c:E,r:S});s[T]&&s[T].z&&(_.z=s[T].z),s[T]=_}}}return p.s.c<1e7&&(s["!ref"]=bt(p)),s}function tg(e,t){return G3(null,e,t)}function uV(e){return e.read_shift(4,"i")}function zo(e,t){return t||(t=be(4)),t.write_shift(4,e),t}function Hi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Kr(e,t){var n=!1;return t==null&&(n=!0,t=be(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function fV(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function hV(e,t){return t||(t=be(4)),t.write_shift(2,0),t.write_shift(2,0),t}function dk(e,t){var n=e.l,r=e.read_shift(1),i=Hi(e),s=[],c={t:i,h:i};if((r&1)!==0){for(var u=e.read_shift(4),h=0;h!=u;++h)s.push(fV(e));c.r=s}else c.r=[{ich:0,ifnt:0}];return e.l=n+t,c}function dV(e,t){var n=!1;return t==null&&(n=!0,t=be(15+4*e.t.length)),t.write_shift(1,0),Kr(e.t,t),n?t.slice(0,t.l):t}var pV=dk;function mV(e,t){var n=!1;return t==null&&(n=!0,t=be(23+4*e.t.length)),t.write_shift(1,1),Kr(e.t,t),t.write_shift(4,1),hV({},t),n?t.slice(0,t.l):t}function Qs(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function n0(e,t){return t==null&&(t=be(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function r0(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function i0(e,t){return t==null&&(t=be(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var gV=Hi,W3=Kr;function pk(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function V_(e,t){var n=!1;return t==null&&(n=!0,t=be(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var vV=Hi,r2=pk,mk=V_;function gk(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?z_([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):xd(t,0)>>2;return n?i/100:i}function X3(e,t){t==null&&(t=be(4));var n=0,r=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)t.write_shift(-4,((n?i:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function K3(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function xV(e,t){return t||(t=be(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var a0=K3,ng=xV;function Bi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Vd(e,t){return(t||be(8)).write_shift(8,e,"f")}function yV(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),c=e.read_shift(1),u=e.read_shift(1),h=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var p=Nd[i];p&&(t.rgb=Ny(p));break;case 2:t.rgb=Ny([c,u,h]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function H_(e,t){if(t||(t=be(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function bV(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function wV(e,t){t||(t=be(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}function Y3(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function _V(e){return Y3(e,1)}function EV(e){return Y3(e,2)}var vk=2,Da=3,_w=11,S4=12,q_=19,Ew=64,SV=65,TV=71,AV=4108,kV=4126,Gr=80,$3=81,NV=[Gr,$3],i2={1:{n:"CodePage",t:vk},2:{n:"Category",t:Gr},3:{n:"PresentationFormat",t:Gr},4:{n:"ByteCount",t:Da},5:{n:"LineCount",t:Da},6:{n:"ParagraphCount",t:Da},7:{n:"SlideCount",t:Da},8:{n:"NoteCount",t:Da},9:{n:"HiddenCount",t:Da},10:{n:"MultimediaClipCount",t:Da},11:{n:"ScaleCrop",t:_w},12:{n:"HeadingPairs",t:AV},13:{n:"TitlesOfParts",t:kV},14:{n:"Manager",t:Gr},15:{n:"Company",t:Gr},16:{n:"LinksUpToDate",t:_w},17:{n:"CharacterCount",t:Da},19:{n:"SharedDoc",t:_w},22:{n:"HyperlinksChanged",t:_w},23:{n:"AppVersion",t:Da,p:"version"},24:{n:"DigSig",t:SV},26:{n:"ContentType",t:Gr},27:{n:"ContentStatus",t:Gr},28:{n:"Language",t:Gr},29:{n:"Version",t:Gr},255:{},2147483648:{n:"Locale",t:q_},2147483651:{n:"Behavior",t:q_},1919054434:{}},a2={1:{n:"CodePage",t:vk},2:{n:"Title",t:Gr},3:{n:"Subject",t:Gr},4:{n:"Author",t:Gr},5:{n:"Keywords",t:Gr},6:{n:"Comments",t:Gr},7:{n:"Template",t:Gr},8:{n:"LastAuthor",t:Gr},9:{n:"RevNumber",t:Gr},10:{n:"EditTime",t:Ew},11:{n:"LastPrinted",t:Ew},12:{n:"CreatedDate",t:Ew},13:{n:"ModifiedDate",t:Ew},14:{n:"PageCount",t:Da},15:{n:"WordCount",t:Da},16:{n:"CharCount",t:Da},17:{n:"Thumbnail",t:TV},18:{n:"Application",t:Gr},19:{n:"DocSecurity",t:Da},255:{},2147483648:{n:"Locale",t:q_},2147483651:{n:"Behavior",t:q_},1919054434:{}},T4={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},CV=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function RV(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var DV=RV([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Nd=Mn(DV),$c={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Q3={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},s2={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Sw={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function xk(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function IV(e){var t=xk();if(!e||!e.match)return t;var n={};if((e.match(Xi)||[]).forEach(function(r){var i=ht(r);switch(i[0].replace(Vz,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":t[s2[i.ContentType]]!==void 0&&t[s2[i.ContentType]].push(i.PartName);break}}),t.xmlns!==Fr.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}function J3(e,t){var n=Iz(s2),r=[],i;r[r.length]=gr,r[r.length]=Be("Types",null,{xmlns:Fr.CT,"xmlns:xsd":Fr.xsd,"xmlns:xsi":Fr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return Be("Default",null,{Extension:h[0],ContentType:h[1]})}));var s=function(h){e[h]&&e[h].length>0&&(i=e[h][0],r[r.length]=Be("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Sw[h][t.bookType]||Sw[h].xlsx}))},c=function(h){(e[h]||[]).forEach(function(p){r[r.length]=Be("Override",null,{PartName:(p[0]=="/"?"":"/")+p,ContentType:Sw[h][t.bookType]||Sw[h].xlsx})})},u=function(h){(e[h]||[]).forEach(function(p){r[r.length]=Be("Override",null,{PartName:(p[0]=="/"?"":"/")+p,ContentType:n[h][0]})})};return s("workbooks"),c("sheets"),c("charts"),u("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),c("metadata"),u("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Ot={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ky(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Wx(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(Xi)||[]).forEach(function(i){var s=ht(i);if(s[0]==="<Relationship"){var c={};c.Type=s.Type,c.Target=s.Target,c.Id=s.Id,s.TargetMode&&(c.TargetMode=s.TargetMode);var u=s.TargetMode==="External"?s.Target:Cx(s.Target,t);n[u]=c,r[s.Id]=c}}),n["!id"]=r,n}function hm(e){var t=[gr,Be("Relationships",null,{xmlns:Fr.RELS})];return lr(e["!id"]).forEach(function(n){t[t.length]=Be("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function fn(e,t,n,r,i,s){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=n,[Ot.HLINK,Ot.XPATH,Ot.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}var OV="application/vnd.oasis.opendocument.spreadsheet";function FV(e,t){for(var n=lk(e),r,i;r=Ay.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=ht(r[0],!1),i.path=="/"&&i.type!==OV)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}function MV(e){var t=[gr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function A4(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function LV(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function jV(e){var t=[gr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(A4(e[n][0],e[n][1])),t.push(LV("",e[n][0]));return t.push(A4("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Z3(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+L_.version+"</meta:generator></office:meta></office:document-meta>"}var Xs=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],PV=(function(){for(var e=new Array(Xs.length),t=0;t<Xs.length;++t){var n=Xs[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e})();function eM(e){var t={};e=yn(e);for(var n=0;n<Xs.length;++n){var r=Xs[n],i=e.match(PV[n]);i!=null&&i.length>0&&(t[r[1]]=Vt(i[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=Fn(t[r[1]]))}return t}function tT(e,t,n,r,i){i[e]!=null||t==null||t===""||(i[e]=t,t=pn(t),r[r.length]=n?Be(e,t,n):fi(e,t))}function tM(e,t){var n=t||{},r=[gr,Be("cp:coreProperties",null,{"xmlns:cp":Fr.CORE_PROPS,"xmlns:dc":Fr.dc,"xmlns:dcterms":Fr.dcterms,"xmlns:dcmitype":Fr.dcmitype,"xmlns:xsi":Fr.xsi})],i={};if(!e&&!n.Props)return r.join("");e&&(e.CreatedDate!=null&&tT("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:n2(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),e.ModifiedDate!=null&&tT("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:n2(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=Xs.length;++s){var c=Xs[s],u=n.Props&&n.Props[c[1]]!=null?n.Props[c[1]]:e?e[c[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&tT(c[0],u,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Cd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],nM=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function rM(e,t,n,r){var i=[];if(typeof e=="string")i=g4(e,r);else for(var s=0;s<e.length;++s)i=i.concat(e[s].map(function(g){return{v:g}}));var c=typeof t=="string"?g4(t,r).map(function(g){return g.v}):t,u=0,h=0;if(c.length>0)for(var p=0;p!==i.length;p+=2){switch(h=+i[p+1].v,i[p].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=h,n.SheetNames=c.slice(u,u+h);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=h,n.DefinedNames=c.slice(u,u+h);break;case"Charts":case"Diagramme":n.Chartsheets=h,n.ChartNames=c.slice(u,u+h);break}u+=h}}function BV(e,t,n){var r={};return t||(t={}),e=yn(e),Cd.forEach(function(i){var s=(e.match(Sy(i[0]))||[])[1];switch(i[2]){case"string":s&&(t[i[1]]=Vt(s));break;case"bool":t[i[1]]=s==="true";break;case"raw":var c=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));c&&c.length>0&&(r[i[1]]=c[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&rM(r.HeadingPairs,r.TitlesOfParts,t,n),t}function iM(e){var t=[],n=Be;return e||(e={}),e.Application="SheetJS",t[t.length]=gr,t[t.length]=Be("Properties",null,{xmlns:Fr.EXT_PROPS,"xmlns:vt":Fr.vt}),Cd.forEach(function(r){if(e[r[1]]!==void 0){var i;switch(r[2]){case"string":i=pn(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false";break}i!==void 0&&(t[t.length]=n(r[0],i))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+pn(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var UV=/<[^>]+>[^<]*/g;function zV(e,t){var n={},r="",i=e.match(UV);if(i)for(var s=0;s!=i.length;++s){var c=i[s],u=ht(c);switch(u[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Vt(u.name);break;case"</property>":r=null;break;default:if(c.indexOf("<vt:")===0){var h=c.split(">"),p=h[0].slice(4),g=h[1];switch(p){case"lpstr":case"bstr":case"lpwstr":n[r]=Vt(g);break;case"bool":n[r]=On(g);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(g,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(g);break;case"filetime":case"date":n[r]=Fn(g);break;case"cy":case"error":n[r]=Vt(g);break;default:if(p.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",c,p,h)}}else if(c.slice(0,2)!=="</"){if(t.WTF)throw new Error(c)}}}return n}function aM(e){var t=[gr,Be("Properties",null,{xmlns:Fr.CUST_PROPS,"xmlns:vt":Fr.vt})];if(!e)return t.join("");var n=1;return lr(e).forEach(function(i){++n,t[t.length]=Be("property",$z(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:pn(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var o2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},nT;function VV(e,t,n){nT||(nT=KE(o2)),t=nT[t]||t,e[t]=n}function HV(e,t){var n=[];return lr(o2).map(function(r){for(var i=0;i<Xs.length;++i)if(Xs[i][1]==r)return Xs[i];for(i=0;i<Cd.length;++i)if(Cd[i][1]==r)return Cd[i];throw r}).forEach(function(r){if(e[r[1]]!=null){var i=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(fi(o2[r[1]]||r[1],i))}}),Be("DocumentProperties",n.join(""),{xmlns:os.o})}function qV(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&lr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var c=0;c<Xs.length;++c)if(s==Xs[c][1])return;for(c=0;c<Cd.length;++c)if(s==Cd[c][1])return;for(c=0;c<n.length;++c)if(s==n[c])return;var u=e[s],h="string";typeof u=="number"?(h="float",u=String(u)):u===!0||u===!1?(h="boolean",u=u?"1":"0"):u=String(u),i.push(Be(h4(s),u,{"dt:dt":h}))}}),t&&lr(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var c=t[s],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c instanceof Date?(u="dateTime.tz",c=c.toISOString()):c=String(c),i.push(Be(h4(s),c,{"dt:dt":u}))}}),"<"+r+' xmlns="'+os.o+'">'+i.join("")+"</"+r+">"}function yk(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function GV(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var c=be(8);return c.write_shift(4,r),c.write_shift(4,i),c}function sM(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function oM(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function lM(e,t,n){return t===31?oM(e):sM(e,t,n)}function l2(e,t,n){return lM(e,t,n===!1?0:4)}function WV(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return lM(e,t,0)}function XV(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace(da,""),e.l-i&2&&(e.l+=2)}return n}function KV(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(da,"");return n}function YV(e){var t=e.l,n=G_(e,$3);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=G_(e,Da);return[n,r]}function $V(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(YV(e));return n}function k4(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var s=e.read_shift(4),c=e.read_shift(4);r[s]=e.read_shift(c,t===1200?"utf16le":"utf8").replace(da,"").replace(Nx,"!"),t===1200&&c%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function cM(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function QV(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function G_(e,t,n){var r=e.read_shift(2),i,s=n||{};if(e.l+=2,t!==S4&&r!==t&&NV.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===S4?r:t){case 2:return i=e.read_shift(2,"i"),s.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return sM(e,r,4).replace(da,"");case 31:return oM(e);case 64:return yk(e);case 65:return cM(e);case 71:return QV(e);case 80:return l2(e,r,!s.raw).replace(da,"");case 81:return WV(e,r).replace(da,"");case 4108:return $V(e);case 4126:case 4127:return r==4127?XV(e):KV(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function N4(e,t){var n=be(4),r=be(4);switch(n.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=be(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=GV(t);break;case 31:case 80:for(r=be(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Wr([n,r])}function C4(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),s=[],c=0,u=0,h=-1,p={};for(c=0;c!=i;++c){var g=e.read_shift(4),x=e.read_shift(4);s[c]=[g,x+n]}s.sort(function(R,A){return R[1]-A[1]});var b={};for(c=0;c!=i;++c){if(e.l!==s[c][1]){var _=!0;if(c>0&&t)switch(t[s[c-1][0]].t){case 2:e.l+2===s[c][1]&&(e.l+=2,_=!1);break;case 80:e.l<=s[c][1]&&(e.l=s[c][1],_=!1);break;case 4108:e.l<=s[c][1]&&(e.l=s[c][1],_=!1);break}if((!t||c==0)&&e.l<=s[c][1]&&(_=!1,e.l=s[c][1]),_)throw new Error("Read Error: Expected address "+s[c][1]+" at "+e.l+" :"+c)}if(t){var S=t[s[c][0]];if(b[S.n]=G_(e,S.t,{raw:!0}),S.p==="version"&&(b[S.n]=String(b[S.n]>>16)+"."+("0000"+String(b[S.n]&65535)).slice(-4)),S.n=="CodePage")switch(b[S.n]){case 0:b[S.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Mo(u=b[S.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+b[S.n])}}else if(s[c][0]===1){if(u=b.CodePage=G_(e,vk),Mo(u),h!==-1){var E=e.l;e.l=s[h][1],p=k4(e,u),e.l=E}}else if(s[c][0]===0){if(u===0){h=c,e.l=s[c+1][1];continue}p=k4(e,u)}else{var T=p[s[c][0]],k;switch(e[e.l]){case 65:e.l+=4,k=cM(e);break;case 30:e.l+=4,k=l2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,k=l2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,k=e.read_shift(4,"i");break;case 19:e.l+=4,k=e.read_shift(4);break;case 5:e.l+=4,k=e.read_shift(8,"f");break;case 11:e.l+=4,k=dr(e,4);break;case 64:e.l+=4,k=Fn(yk(e));break;default:throw new Error("unparsed value: "+e[e.l])}b[T]=k}}return e.l=n+r,b}var uM=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function JV(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function R4(e,t,n){var r=be(8),i=[],s=[],c=8,u=0,h=be(8),p=be(8);if(h.write_shift(4,2),h.write_shift(4,1200),p.write_shift(4,1),s.push(h),i.push(p),c+=8+h.length,!t){p=be(8),p.write_shift(4,0),i.unshift(p);var g=[be(4)];for(g[0].write_shift(4,e.length),u=0;u<e.length;++u){var x=e[u][0];for(h=be(8+2*(x.length+1)+(x.length%2?0:2)),h.write_shift(4,u+2),h.write_shift(4,x.length+1),h.write_shift(0,x,"dbcs");h.l!=h.length;)h.write_shift(1,0);g.push(h)}h=Wr(g),s.unshift(h),c+=8+h.length}for(u=0;u<e.length;++u)if(!(t&&!t[e[u][0]])&&!(uM.indexOf(e[u][0])>-1||nM.indexOf(e[u][0])>-1)&&e[u][1]!=null){var b=e[u][1],_=0;if(t){_=+t[e[u][0]];var S=n[_];if(S.p=="version"&&typeof b=="string"){var E=b.split(".");b=(+E[0]<<16)+(+E[1]||0)}h=N4(S.t,b)}else{var T=JV(b);T==-1&&(T=31,b=String(b)),h=N4(T,b)}s.push(h),p=be(8),p.write_shift(4,t?_:2+u),i.push(p),c+=8+h.length}var k=8*(s.length+1);for(u=0;u<s.length;++u)i[u].write_shift(4,k),k+=s[u].length;return r.write_shift(4,c),r.write_shift(4,s.length),Wr([r].concat(i).concat(s))}function D4(e,t,n){var r=e.content;if(!r)return{};ui(r,0);var i,s,c,u,h=0;r.chk("feff","Byte Order: "),r.read_shift(2);var p=r.read_shift(4),g=r.read_shift(16);if(g!==at.utils.consts.HEADER_CLSID&&g!==n)throw new Error("Bad PropertySet CLSID "+g);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),u=r.read_shift(4),i===1&&u!==r.l)throw new Error("Length mismatch: "+u+" !== "+r.l);i===2&&(c=r.read_shift(16),h=r.read_shift(4));var x=C4(r,t),b={SystemIdentifier:p};for(var _ in x)b[_]=x[_];if(b.FMTID=s,i===1)return b;if(h-r.l==2&&(r.l+=2),r.l!==h)throw new Error("Length mismatch 2: "+r.l+" !== "+h);var S;try{S=C4(r,null)}catch{}for(_ in S)b[_]=S[_];return b.FMTID=[s,c],b}function I4(e,t,n,r,i,s){var c=be(i?68:48),u=[c];c.write_shift(2,65534),c.write_shift(2,0),c.write_shift(4,842412599),c.write_shift(16,at.utils.consts.HEADER_CLSID,"hex"),c.write_shift(4,i?2:1),c.write_shift(16,t,"hex"),c.write_shift(4,i?68:48);var h=R4(e,n,r);if(u.push(h),i){var p=R4(i,null,null);c.write_shift(16,s,"hex"),c.write_shift(4,68+h.length),u.push(p)}return Wr(u)}function ef(e,t){return e.read_shift(t),null}function ZV(e,t){t||(t=be(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function eH(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function dr(e,t){return e.read_shift(t)===1}function la(e,t){return t||(t=be(2)),t.write_shift(2,+!!e),t}function Er(e){return e.read_shift(2,"u")}function Vs(e,t){return t||(t=be(2)),t.write_shift(2,e),t}function fM(e,t){return eH(e,t,Er)}function tH(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function hM(e,t,n){return n||(n=be(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function h1(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=e.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var c=r?e.read_shift(r,i):"";return c}function nH(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,i=n&8,s=1+(n&1),c=0,u,h={};i&&(c=e.read_shift(2)),r&&(u=e.read_shift(4));var p=s==2?"dbcs-cont":"sbcs-cont",g=t===0?"":e.read_shift(t,p);return i&&(e.l+=4*c),r&&(e.l+=u),h.t=g,i||(h.raw="<t>"+h.t+"</t>",h.r=h.t),h}function rH(e){var t=e.t||"",n=be(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=be(2*t.length);r.write_shift(2*t.length,t,"utf16le");var i=[n,r];return Wr(i)}function Hd(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function d1(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):Hd(e,r,n)}function s0(e,t,n){if(n.biff>5)return d1(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function dM(e,t,n){return n||(n=be(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function iH(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function aH(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(da,"");return r&&(e.l+=24),i}function sH(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var c=e.read_shift(s>>1,"utf16le").replace(da,"");return n+c}function oH(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return aH(e);case"0303000000000000c000000000000046":return sH(e);default:throw new Error("Unsupported Moniker "+n)}}function Tw(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(da,""):"";return n}function O4(e,t){t||(t=be(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function lH(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var s,c,u,h,p="",g,x;i&16&&(s=Tw(e,n-e.l)),i&128&&(c=Tw(e,n-e.l)),(i&257)===257&&(u=Tw(e,n-e.l)),(i&257)===1&&(h=oH(e,n-e.l)),i&8&&(p=Tw(e,n-e.l)),i&32&&(g=e.read_shift(16)),i&64&&(x=yk(e)),e.l=n;var b=c||u||h||"";b&&p&&(b+="#"+p),b||(b="#"+p),i&2&&b.charAt(0)=="/"&&b.charAt(1)!="/"&&(b="file://"+b);var _={Target:b};return g&&(_.guid=g),x&&(_.time=x),s&&(_.Tooltip=s),_}function cH(e){var t=be(512),n=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var c=[8,6815827,6619237,4849780,83];for(n=0;n<c.length;++n)t.write_shift(4,c[n]);if(s==28)r=r.slice(1),O4(r,t);else if(s&2){for(c="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<c.length;++n)t.write_shift(1,parseInt(c[n],16));var u=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(u.length+1)),n=0;n<u.length;++n)t.write_shift(2,u.charCodeAt(n));t.write_shift(2,0),s&8&&O4(i>-1?r.slice(i+1):"",t)}else{for(c="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<c.length;++n)t.write_shift(1,parseInt(c[n],16));for(var h=0;r.slice(h*3,h*3+3)=="../"||r.slice(h*3,h*3+3)=="..\\";)++h;for(t.write_shift(2,h),t.write_shift(4,r.length-3*h+1),n=0;n<r.length-3*h;++n)t.write_shift(1,r.charCodeAt(n+3*h)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function pM(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,n,r,i]}function mM(e,t){var n=pM(e);return n[3]=0,n}function Vl(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function qd(e,t,n,r){return r||(r=be(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function uH(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function fH(e,t,n){return t===0?"":s0(e,t,n)}function hH(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),s=e.read_shift(r,"i"),c=e.read_shift(r,"i");return[i,s,c]}function gM(e){var t=e.read_shift(2),n=gk(e);return[t,n]}function dH(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=h1(e,t,n),s=e.read_shift(2);if(r-=e.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,i}function QE(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function vM(e,t){return t||(t=be(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function xM(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var pH=xM;function yM(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function mH(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function gH(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ii(e){e.l+=2,e.l+=e.read_shift(2)}var vH={0:Ii,4:Ii,5:Ii,6:Ii,7:gH,8:Ii,9:Ii,10:Ii,11:Ii,12:Ii,13:mH,14:Ii,15:Ii,16:Ii,17:Ii,18:Ii,19:Ii,20:Ii,21:yM};function xH(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r.push(vH[i](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function Aw(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function bk(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=be(i);return s.write_shift(2,r),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function yH(e,t){return t===0||e.read_shift(2),1200}function bH(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=s0(e,0,n);return e.read_shift(t+r-e.l),i}function wH(e,t){var n=!t||t.biff==8,r=be(n?112:54);for(r.write_shift(t.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function _H(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function EH(e,t,n){var r=e.read_shift(4),i=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var c=h1(e,0,n);return c.length===0&&(c="Sheet1"),{pos:r,hs:i,dt:s,name:c}}function SH(e,t){var n=!t||t.biff>=8?2:1,r=be(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function TH(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),s=[],c=0;c!=i&&e.l<n;++c)s.push(nH(e));return s.Count=r,s.Unique=i,s}function AH(e,t){var n=be(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],i=0;i<e.length;++i)r[i]=rH(e[i]);var s=Wr([n].concat(r));return s.parts=[n.length].concat(r.map(function(c){return c.length})),s}function kH(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function NH(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function CH(e){var t=uH(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function RH(e){return e.read_shift(2),e.read_shift(4)}function F4(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var i=e.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function DH(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2),h=e.read_shift(2),p=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:s,CurTab:c,FirstTab:u,Selected:h,TabRatio:p}}function IH(){var e=be(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function OH(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function FH(e){var t=be(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function MH(){}function LH(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=h1(e,0,n),r}function jH(e,t){var n=e.name||"Arial",r=t&&t.biff==5,i=r?15+n.length:16+2*n.length,s=be(i);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function PH(e){var t=Vl(e);return t.isst=e.read_shift(4),t}function BH(e,t,n,r){var i=be(10);return qd(e,t,r,i),i.write_shift(4,n),i}function UH(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,i=Vl(e);n.biff==2&&e.l++;var s=d1(e,r-e.l,n);return i.val=s,i}function zH(e,t,n,r,i){var s=!i||i.biff==8,c=be(8+ +s+(1+s)*n.length);return qd(e,t,r,c),c.write_shift(2,n.length),s&&c.write_shift(1,1),c.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),c}function VH(e,t,n){var r=e.read_shift(2),i=s0(e,0,n);return[r,i]}function HH(e,t,n,r){var i=n&&n.biff==5;r||(r=be(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var qH=s0;function M4(e,t,n){var r=e.l+t,i=n.biff==8||!n.biff?4:2,s=e.read_shift(i),c=e.read_shift(i),u=e.read_shift(2),h=e.read_shift(2);return e.l=r,{s:{r:s,c:u},e:{r:c,c:h}}}function GH(e,t){var n=t.biff==8||!t.biff?4:2,r=be(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function WH(e){var t=e.read_shift(2),n=e.read_shift(2),r=gM(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function XH(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(gM(e));if(e.l!==n)throw new Error("MulRK read error");var c=e.read_shift(2);if(s.length!=c-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:c,rkrec:s}}function KH(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var c=e.read_shift(2);if(s.length!=c-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:c,ixfe:s}}function YH(e,t,n,r){var i={},s=e.read_shift(4),c=e.read_shift(4),u=e.read_shift(4),h=e.read_shift(2);return i.patternType=CV[u>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=c&15,i.dgRight=c>>4&15,i.dgTop=c>>8&15,i.dgBottom=c>>12&15,i.icvLeft=c>>16&127,i.icvRight=c>>23&127,i.grbitDiag=c>>30&3,i.icvTop=u&127,i.icvBottom=u>>7&127,i.icvDiag=u>>14&127,i.dgDiag=u>>21&15,i.icvFore=h&127,i.icvBack=h>>7&127,i.fsxButton=h>>14&1),i}function $H(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=YH(e,t,r.fStyle,n),r}function L4(e,t,n,r){var i=n&&n.biff==5;r||(r=be(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function QH(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function JH(e){var t=be(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function j4(e,t,n){var r=Vl(e);(n.biff==2||t==9)&&++e.l;var i=tH(e);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function ZH(e,t,n,r,i,s){var c=be(8);return qd(e,t,r,c),hM(n,s,c),c}function eq(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Vl(e),i=Bi(e);return r.val=i,r}function tq(e,t,n,r){var i=be(14);return qd(e,t,r,i),Vd(n,i),i}var P4=fH;function nq(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var c=Hd(e,s),u=[];r>e.l;)u.push(d1(e));return[s,i,c,u]}function B4(e,t,n){var r=e.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=dH(e,t-2,n)),s.body=i||e.read_shift(t-2),typeof i=="string"&&(s.Name=i),s}var rq=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function U4(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(1),c=e.read_shift(1),u=e.read_shift(n&&n.biff==2?1:2),h=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),h=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var p=Hd(e,c,n);i&32&&(p=rq[p.charCodeAt(0)]);var g=r-e.l;n&&n.biff==2&&--g;var x=r==e.l||u===0||!(g>0)?[]:xK(e,g,n,u);return{chKey:s,Name:p,itab:h,rgce:x}}function bM(e,t,n){if(n.biff<8)return iq(e,t,n);for(var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);s--!==0;)r.push(hH(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function iq(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=h1(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function aq(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),i=e.read_shift(2),s=Hd(e,r,n),c=Hd(e,i,n);return[s,c]}function sq(e,t,n){var r=xM(e);e.l++;var i=e.read_shift(1);return t-=8,[yK(e,t,n),i,r]}function z4(e,t,n){var r=pH(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,gK(e,t,n)]}function oq(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function lq(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),c=e.read_shift(2),u=s0(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:i},u,c,s]}}function cq(e,t,n){return lq(e,t,n)}function uq(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(QE(e));return n}function fq(e){var t=be(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)vM(e[n],t);return t}function hq(e,t,n){if(n&&n.biff<8)return pq(e,t,n);var r=yM(e),i=xH(e,t-22,r[1]);return{cmo:r,ft:i}}var dq={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function pq(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var c=[];return c.push((dq[r]||Gi)(e,t,n)),{cmo:[i,r,s],ft:c}}function mq(e,t,n){var r=e.l,i="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],c;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:c=iH(e,6,n);var u=e.read_shift(2);e.read_shift(2),Er(e,2);var h=e.read_shift(2);e.l+=h;for(var p=1;p<e.lens.length-1;++p){if(e.l-r!=e.lens[p])throw new Error("TxO: bad continue record");var g=e[e.l],x=Hd(e,e.lens[p+1]-e.lens[p]-1);if(i+=x,i.length>=(g?u:2*u))break}if(i.length!==u&&i.length!==u*2)throw new Error("cchText: "+u+" != "+i.length);return e.l=r+t,{t:i}}catch{return e.l=r+t,{t:i}}}function gq(e,t){var n=QE(e);e.l+=16;var r=lH(e,t-24);return[n,r]}function vq(e){var t=be(24),n=Qn(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return Wr([t,cH(e[1])])}function xq(e,t){e.read_shift(2);var n=QE(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(da,""),[n,r]}function yq(e){var t=e[1].Tooltip,n=be(10+2*(t.length+1));n.write_shift(2,2048);var r=Qn(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}function bq(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=T4[n]||n,n=e.read_shift(2),t[1]=T4[n]||n,t}function wq(e){return e||(e=be(4)),e.write_shift(2,1),e.write_shift(2,1),e}function _q(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(mM(e));return n}function Eq(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(mM(e));return n}function Sq(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function wM(e,t,n){if(!n.cellStyles)return Gi(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),c=e.read_shift(r),u=e.read_shift(r),h=e.read_shift(2);r==2&&(e.l+=2);var p={s:i,e:s,w:c,ixfe:u,flags:h};return(n.biff>=5||!n.biff)&&(p.level=h>>8&7),p}function Tq(e,t){var n=be(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function Aq(e,t){var n={};return t<32||(e.l+=16,n.header=Bi(e),n.footer=Bi(e),e.l+=2),n}function kq(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,i&16&&(r.area=!0),r}function Nq(e){for(var t=be(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}var Cq=Vl,Rq=fM,Dq=d1;function Iq(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function Oq(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Vl(e);++e.l;var i=s0(e,t-7,n);return r.t="str",r.val=i,r}function Fq(e){var t=Vl(e);++e.l;var n=Bi(e);return t.t="n",t.val=n,t}function Mq(e,t,n){var r=be(15);return v1(r,e,t),r.write_shift(8,n,"f"),r}function Lq(e){var t=Vl(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function jq(e,t,n){var r=be(9);return v1(r,e,t),r.write_shift(2,n),r}function Pq(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Bq(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Uq(e,t,n){var r=e.l+t,i=Vl(e),s=e.read_shift(2),c=Hd(e,s,n);return e.l=r,i.t="str",i.val=c,i}var zq=[2,3,48,49,131,139,140,245],c2=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=KE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(u,h){var p=[],g=bf(1);switch(h.type){case"base64":g=us(gs(u));break;case"binary":g=us(u);break;case"buffer":case"array":g=u;break}ui(g,0);var x=g.read_shift(1),b=!!(x&136),_=!1,S=!1;switch(x){case 2:break;case 3:break;case 48:_=!0,b=!0;break;case 49:_=!0,b=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var E=0,T=521;x==2&&(E=g.read_shift(2)),g.l+=3,x!=2&&(E=g.read_shift(4)),E>1048576&&(E=1e6),x!=2&&(T=g.read_shift(2));var k=g.read_shift(2),R=h.codepage||1252;x!=2&&(g.l+=16,g.read_shift(1),g[g.l]!==0&&(R=e[g[g.l]]),g.l+=1,g.l+=2),S&&(g.l+=36);for(var A=[],O={},I=Math.min(g.length,x==2?521:T-10-(_?264:0)),M=S?32:11;g.l<I&&g[g.l]!=13;)switch(O={},O.name=wy.utils.decode(R,g.slice(g.l,g.l+M)).replace(/[\u0000\r\n].*$/g,""),g.l+=M,O.type=String.fromCharCode(g.read_shift(1)),x!=2&&!S&&(O.offset=g.read_shift(4)),O.len=g.read_shift(1),x==2&&(O.offset=g.read_shift(2)),O.dec=g.read_shift(1),O.name.length&&A.push(O),x!=2&&(g.l+=S?13:14),O.type){case"B":(!_||O.len!=8)&&h.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(g[g.l]!==13&&(g.l=T-1),g.read_shift(1)!==13)throw new Error("DBF Terminator not found "+g.l+" "+g[g.l]);g.l=T;var C=0,z=0;for(p[0]=[],z=0;z!=A.length;++z)p[0][z]=A[z].name;for(;E-- >0;){if(g[g.l]===42){g.l+=k;continue}for(++g.l,p[++C]=[],z=0,z=0;z!=A.length;++z){var B=g.slice(g.l,g.l+A[z].len);g.l+=A[z].len,ui(B,0);var re=wy.utils.decode(R,B);switch(A[z].type){case"C":re.trim().length&&(p[C][z]=re.replace(/\s+$/,""));break;case"D":re.length===8?p[C][z]=new Date(+re.slice(0,4),+re.slice(4,6)-1,+re.slice(6,8)):p[C][z]=re;break;case"F":p[C][z]=parseFloat(re.trim());break;case"+":case"I":p[C][z]=S?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(re.trim().toUpperCase()){case"Y":case"T":p[C][z]=!0;break;case"N":case"F":p[C][z]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+re+"|")}break;case"M":if(!b)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));p[C][z]="##MEMO##"+(S?parseInt(re.trim(),10):B.read_shift(4));break;case"N":re=re.replace(/\u0000/g,"").trim(),re&&re!="."&&(p[C][z]=+re||0);break;case"@":p[C][z]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":p[C][z]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":p[C][z]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":p[C][z]=-B.read_shift(-8,"f");break;case"B":if(_&&A[z].len==8){p[C][z]=B.read_shift(8,"f");break}case"G":case"P":B.l+=A[z].len;break;case"0":if(A[z].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[z].type)}}}if(x!=2&&g.l<g.length&&g[g.l++]!=26)throw new Error("DBF EOF Marker missing "+(g.l-1)+" of "+g.length+" "+g[g.l-1].toString(16));return h&&h.sheetRows&&(p=p.slice(0,h.sheetRows)),h.DBF=A,p}function r(u,h){var p=h||{};p.dateNF||(p.dateNF="yyyymmdd");var g=tg(n(u,p),p);return g["!cols"]=p.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete p.DBF,g}function i(u,h){try{return Of(r(u,h),h)}catch(p){if(h&&h.WTF)throw p}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function c(u,h){var p=h||{};if(+p.codepage>=0&&Mo(+p.codepage),p.type=="string")throw new Error("Cannot write DBF to JS string");var g=La(),x=K_(u,{header:1,raw:!0,cellDates:!0}),b=x[0],_=x.slice(1),S=u["!cols"]||[],E=0,T=0,k=0,R=1;for(E=0;E<b.length;++E){if(((S[E]||{}).DBF||{}).name){b[E]=S[E].DBF.name,++k;continue}if(b[E]!=null){if(++k,typeof b[E]=="number"&&(b[E]=b[E].toString(10)),typeof b[E]!="string")throw new Error("DBF Invalid column name "+b[E]+" |"+typeof b[E]+"|");if(b.indexOf(b[E])!==E){for(T=0;T<1024;++T)if(b.indexOf(b[E]+"_"+T)==-1){b[E]+="_"+T;break}}}}var A=qt(u["!ref"]),O=[],I=[],M=[];for(E=0;E<=A.e.c-A.s.c;++E){var C="",z="",B=0,re=[];for(T=0;T<_.length;++T)_[T][E]!=null&&re.push(_[T][E]);if(re.length==0||b[E]==null){O[E]="?";continue}for(T=0;T<re.length;++T){switch(typeof re[T]){case"number":z="B";break;case"string":z="C";break;case"boolean":z="L";break;case"object":z=re[T]instanceof Date?"D":"C";break;default:z="C"}B=Math.max(B,String(re[T]).length),C=C&&C!=z?"C":z}B>250&&(B=250),z=((S[E]||{}).DBF||{}).type,z=="C"&&S[E].DBF.len>B&&(B=S[E].DBF.len),C=="B"&&z=="N"&&(C="N",M[E]=S[E].DBF.dec,B=S[E].DBF.len),I[E]=C=="C"||z=="N"?B:s[C]||0,R+=I[E],O[E]=C}var te=g.next(32);for(te.write_shift(4,318902576),te.write_shift(4,_.length),te.write_shift(2,296+32*k),te.write_shift(2,R),E=0;E<4;++E)te.write_shift(4,0);for(te.write_shift(4,0|(+t[u3]||3)<<8),E=0,T=0;E<b.length;++E)if(b[E]!=null){var Z=g.next(32),xe=(b[E].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Z.write_shift(1,xe,"sbcs"),Z.write_shift(1,O[E]=="?"?"C":O[E],"sbcs"),Z.write_shift(4,T),Z.write_shift(1,I[E]||s[O[E]]||0),Z.write_shift(1,M[E]||0),Z.write_shift(1,2),Z.write_shift(4,0),Z.write_shift(1,0),Z.write_shift(4,0),Z.write_shift(4,0),T+=I[E]||s[O[E]]||0}var De=g.next(264);for(De.write_shift(4,13),E=0;E<65;++E)De.write_shift(4,0);for(E=0;E<_.length;++E){var ve=g.next(R);for(ve.write_shift(1,0),T=0;T<b.length;++T)if(b[T]!=null)switch(O[T]){case"L":ve.write_shift(1,_[E][T]==null?63:_[E][T]?84:70);break;case"B":ve.write_shift(8,_[E][T]||0,"f");break;case"N":var ee="0";for(typeof _[E][T]=="number"&&(ee=_[E][T].toFixed(M[T]||0)),k=0;k<I[T]-ee.length;++k)ve.write_shift(1,32);ve.write_shift(1,ee,"sbcs");break;case"D":_[E][T]?(ve.write_shift(4,("0000"+_[E][T].getFullYear()).slice(-4),"sbcs"),ve.write_shift(2,("00"+(_[E][T].getMonth()+1)).slice(-2),"sbcs"),ve.write_shift(2,("00"+_[E][T].getDate()).slice(-2),"sbcs")):ve.write_shift(8,"00000000","sbcs");break;case"C":var J=String(_[E][T]!=null?_[E][T]:"").slice(0,I[T]);for(ve.write_shift(1,J,"sbcs"),k=0;k<I[T]-J.length;++k)ve.write_shift(1,32);break}}return g.next(1).write_shift(1,26),g.end()}return{to_workbook:i,to_sheet:r,from_sheet:c}})(),_M=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+lr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(b,_){var S=e[_];return typeof S=="number"?JC(S):S},r=function(b,_,S){var E=_.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return E==59?b:JC(E)};e["|"]=254;function i(b,_){switch(_.type){case"base64":return s(gs(b),_);case"binary":return s(b,_);case"buffer":return s(Rt&&Buffer.isBuffer(b)?b.toString("binary"):If(b),_);case"array":return s(zd(b),_)}throw new Error("Unrecognized type "+_.type)}function s(b,_){var S=b.split(/[\n\r]+/),E=-1,T=-1,k=0,R=0,A=[],O=[],I=null,M={},C=[],z=[],B=[],re=0,te;for(+_.codepage>=0&&Mo(+_.codepage);k!==S.length;++k){re=0;var Z=S[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),xe=Z.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),De=xe[0],ve;if(Z.length>0)switch(De){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":xe[1].charAt(0)=="P"&&O.push(Z.slice(3).replace(/;;/g,";"));break;case"C":var ee=!1,J=!1,Ee=!1,ne=!1,Ie=-1,j=-1;for(R=1;R<xe.length;++R)switch(xe[R].charAt(0)){case"A":break;case"X":T=parseInt(xe[R].slice(1))-1,J=!0;break;case"Y":for(E=parseInt(xe[R].slice(1))-1,J||(T=0),te=A.length;te<=E;++te)A[te]=[];break;case"K":ve=xe[R].slice(1),ve.charAt(0)==='"'?ve=ve.slice(1,ve.length-1):ve==="TRUE"?ve=!0:ve==="FALSE"?ve=!1:isNaN(Uo(ve))?isNaN(Lm(ve).getDate())||(ve=Fn(ve)):(ve=Uo(ve),I!==null&&Zm(I)&&(ve=$E(ve))),ee=!0;break;case"E":ne=!0;var F=dm(xe[R].slice(1),{r:E,c:T});A[E][T]=[A[E][T],F];break;case"S":Ee=!0,A[E][T]=[A[E][T],"S5S"];break;case"G":break;case"R":Ie=parseInt(xe[R].slice(1))-1;break;case"C":j=parseInt(xe[R].slice(1))-1;break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+Z)}if(ee&&(A[E][T]&&A[E][T].length==2?A[E][T][0]=ve:A[E][T]=ve,I=null),Ee){if(ne)throw new Error("SYLK shared formula cannot have own formula");var V=Ie>-1&&A[Ie][j];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");A[E][T][1]=UM(V[1],{r:E-Ie,c:T-j})}break;case"F":var H=0;for(R=1;R<xe.length;++R)switch(xe[R].charAt(0)){case"X":T=parseInt(xe[R].slice(1))-1,++H;break;case"Y":for(E=parseInt(xe[R].slice(1))-1,te=A.length;te<=E;++te)A[te]=[];break;case"M":re=parseInt(xe[R].slice(1))/20;break;case"F":break;case"G":break;case"P":I=O[parseInt(xe[R].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=xe[R].slice(1).split(" "),te=parseInt(B[0],10);te<=parseInt(B[1],10);++te)re=parseInt(B[2],10),z[te-1]=re===0?{hidden:!0}:{wch:re},wf(z[te-1]);break;case"C":T=parseInt(xe[R].slice(1))-1,z[T]||(z[T]={});break;case"R":E=parseInt(xe[R].slice(1))-1,C[E]||(C[E]={}),re>0?(C[E].hpt=re,C[E].hpx=Pm(re)):re===0&&(C[E].hidden=!0);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+Z)}H<1&&(I=null);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+Z)}}return C.length>0&&(M["!rows"]=C),z.length>0&&(M["!cols"]=z),_&&_.sheetRows&&(A=A.slice(0,_.sheetRows)),[A,M]}function c(b,_){var S=i(b,_),E=S[0],T=S[1],k=tg(E,_);return lr(T).forEach(function(R){k[R]=T[R]}),k}function u(b,_){return Of(c(b,_),_)}function h(b,_,S,E){var T="C;Y"+(S+1)+";X"+(E+1)+";K";switch(b.t){case"n":T+=b.v||0,b.f&&!b.F&&(T+=";E"+Ak(b.f,{r:S,c:E}));break;case"b":T+=b.v?"TRUE":"FALSE";break;case"e":T+=b.w||b.v;break;case"d":T+='"'+(b.w||b.v)+'"';break;case"s":T+='"'+b.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return T}function p(b,_){_.forEach(function(S,E){var T="F;W"+(E+1)+" "+(E+1)+" ";S.hidden?T+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=Cy(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=Ry(S.wpx)),typeof S.wch=="number"&&(T+=Math.round(S.wch))),T.charAt(T.length-1)!=" "&&b.push(T)})}function g(b,_){_.forEach(function(S,E){var T="F;";S.hidden?T+="M0;":S.hpt?T+="M"+20*S.hpt+";":S.hpx&&(T+="M"+20*Dy(S.hpx)+";"),T.length>2&&b.push(T+"R"+(E+1))})}function x(b,_){var S=["ID;PWXL;N;E"],E=[],T=qt(b["!ref"]),k,R=Array.isArray(b),A=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),b["!cols"]&&p(S,b["!cols"]),b["!rows"]&&g(S,b["!rows"]),S.push("B;Y"+(T.e.r-T.s.r+1)+";X"+(T.e.c-T.s.c+1)+";D"+[T.s.c,T.s.r,T.e.c,T.e.r].join(" "));for(var O=T.s.r;O<=T.e.r;++O)for(var I=T.s.c;I<=T.e.c;++I){var M=ut({r:O,c:I});k=R?(b[O]||[])[I]:b[M],!(!k||k.v==null&&(!k.f||k.F))&&E.push(h(k,b,O,I))}return S.join(A)+A+E.join(A)+A+"E"+A}return{to_workbook:u,to_sheet:c,from_sheet:x}})(),EM=(function(){function e(s,c){switch(c.type){case"base64":return t(gs(s),c);case"binary":return t(s,c);case"buffer":return t(Rt&&Buffer.isBuffer(s)?s.toString("binary"):If(s),c);case"array":return t(zd(s),c)}throw new Error("Unrecognized type "+c.type)}function t(s,c){for(var u=s.split(`
`),h=-1,p=-1,g=0,x=[];g!==u.length;++g){if(u[g].trim()==="BOT"){x[++h]=[],p=0;continue}if(!(h<0)){var b=u[g].trim().split(","),_=b[0],S=b[1];++g;for(var E=u[g]||"";(E.match(/["]/g)||[]).length&1&&g<u.length-1;)E+=`
`+u[++g];switch(E=E.trim(),+_){case-1:if(E==="BOT"){x[++h]=[],p=0;continue}else if(E!=="EOD")throw new Error("Unrecognized DIF special command "+E);break;case 0:E==="TRUE"?x[h][p]=!0:E==="FALSE"?x[h][p]=!1:isNaN(Uo(S))?isNaN(Lm(S).getDate())?x[h][p]=S:x[h][p]=Fn(S):x[h][p]=Uo(S),++p;break;case 1:E=E.slice(1,E.length-1),E=E.replace(/""/g,'"'),E&&E.match(/^=".*"$/)&&(E=E.slice(2,-1)),x[h][p++]=E!==""?E:null;break}if(E==="EOD")break}}return c&&c.sheetRows&&(x=x.slice(0,c.sheetRows)),x}function n(s,c){return tg(e(s,c),c)}function r(s,c){return Of(n(s,c),c)}var i=(function(){var s=function(h,p,g,x,b){h.push(p),h.push(g+","+x),h.push('"'+b.replace(/"/g,'""')+'"')},c=function(h,p,g,x){h.push(p+","+g),h.push(p==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(h){var p=[],g=qt(h["!ref"]),x,b=Array.isArray(h);s(p,"TABLE",0,1,"sheetjs"),s(p,"VECTORS",0,g.e.r-g.s.r+1,""),s(p,"TUPLES",0,g.e.c-g.s.c+1,""),s(p,"DATA",0,0,"");for(var _=g.s.r;_<=g.e.r;++_){c(p,-1,0,"BOT");for(var S=g.s.c;S<=g.e.c;++S){var E=ut({r:_,c:S});if(x=b?(h[_]||[])[S]:h[E],!x){c(p,1,0,"");continue}switch(x.t){case"n":var T=x.w;!T&&x.v!=null&&(T=x.v),T==null?x.f&&!x.F?c(p,1,0,"="+x.f):c(p,1,0,""):c(p,0,T,"V");break;case"b":c(p,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":c(p,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=Ks(x.z||ct[14],Pr(Fn(x.v)))),c(p,0,x.w,"V");break;default:c(p,1,0,"")}}}c(p,-1,0,"EOD");var k=`\r
`,R=p.join(k);return R}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),SM=(function(){function e(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(x,b){for(var _=x.split(`
`),S=-1,E=-1,T=0,k=[];T!==_.length;++T){var R=_[T].trim().split(":");if(R[0]==="cell"){var A=Qn(R[1]);if(k.length<=A.r)for(S=k.length;S<=A.r;++S)k[S]||(k[S]=[]);switch(S=A.r,E=A.c,R[2]){case"t":k[S][E]=e(R[3]);break;case"v":k[S][E]=+R[3];break;case"vtf":var O=R[R.length-1];case"vtc":switch(R[3]){case"nl":k[S][E]=!!+R[4];break;default:k[S][E]=+R[4];break}R[2]=="vtf"&&(k[S][E]=[k[S][E],O])}}}return b&&b.sheetRows&&(k=k.slice(0,b.sheetRows)),k}function r(x,b){return tg(n(x,b),b)}function i(x,b){return Of(r(x,b),b)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function p(x){if(!x||!x["!ref"])return"";for(var b=[],_=[],S,E="",T=Ba(x["!ref"]),k=Array.isArray(x),R=T.s.r;R<=T.e.r;++R)for(var A=T.s.c;A<=T.e.c;++A)if(E=ut({r:R,c:A}),S=k?(x[R]||[])[A]:x[E],!(!S||S.v==null||S.t==="z")){switch(_=["cell",E,"t"],S.t){case"s":case"str":_.push(t(S.v));break;case"n":S.f?(_[2]="vtf",_[3]="n",_[4]=S.v,_[5]=t(S.f)):(_[2]="v",_[3]=S.v);break;case"b":_[2]="vt"+(S.f?"f":"c"),_[3]="nl",_[4]=S.v?"1":"0",_[5]=t(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var O=Pr(Fn(S.v));_[2]="vtc",_[3]="nd",_[4]=""+O,_[5]=S.w||Ks(S.z||ct[14],O);break;case"e":continue}b.push(_.join(":"))}return b.push("sheet:c:"+(T.e.c-T.s.c+1)+":r:"+(T.e.r-T.s.r+1)+":tvf:1"),b.push("valueformat:1:text-wiki"),b.join(`
`)}function g(x){return[s,c,u,c,p(x),h].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:g}})(),jm=(function(){function e(g,x,b,_,S){S.raw?x[b][_]=g:g===""||(g==="TRUE"?x[b][_]=!0:g==="FALSE"?x[b][_]=!1:isNaN(Uo(g))?isNaN(Lm(g).getDate())?x[b][_]=g:x[b][_]=Fn(g):x[b][_]=Uo(g))}function t(g,x){var b=x||{},_=[];if(!g||g.length===0)return _;for(var S=g.split(/[\r\n]/),E=S.length-1;E>=0&&S[E].length===0;)--E;for(var T=10,k=0,R=0;R<=E;++R)k=S[R].indexOf(" "),k==-1?k=S[R].length:k++,T=Math.max(T,k);for(R=0;R<=E;++R){_[R]=[];var A=0;for(e(S[R].slice(0,T).trim(),_,R,A,b),A=1;A<=(S[R].length-T)/10+1;++A)e(S[R].slice(T+(A-1)*10,T+A*10).trim(),_,R,A,b)}return b.sheetRows&&(_=_.slice(0,b.sheetRows)),_}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(g){for(var x={},b=!1,_=0,S=0;_<g.length;++_)(S=g.charCodeAt(_))==34?b=!b:!b&&S in n&&(x[S]=(x[S]||0)+1);S=[];for(_ in x)Object.prototype.hasOwnProperty.call(x,_)&&S.push([x[_],_]);if(!S.length){x=r;for(_ in x)Object.prototype.hasOwnProperty.call(x,_)&&S.push([x[_],_])}return S.sort(function(E,T){return E[0]-T[0]||r[E[1]]-r[T[1]]}),n[S.pop()[1]]||44}function s(g,x){var b=x||{},_="",S=b.dense?[]:{},E={s:{c:0,r:0},e:{c:0,r:0}};g.slice(0,4)=="sep="?g.charCodeAt(5)==13&&g.charCodeAt(6)==10?(_=g.charAt(4),g=g.slice(7)):g.charCodeAt(5)==13||g.charCodeAt(5)==10?(_=g.charAt(4),g=g.slice(6)):_=i(g.slice(0,1024)):b&&b.FS?_=b.FS:_=i(g.slice(0,1024));var T=0,k=0,R=0,A=0,O=0,I=_.charCodeAt(0),M=!1,C=0,z=g.charCodeAt(0);g=g.replace(/\r\n/mg,`
`);var B=b.dateNF!=null?kz(b.dateNF):null;function re(){var te=g.slice(A,O),Z={};if(te.charAt(0)=='"'&&te.charAt(te.length-1)=='"'&&(te=te.slice(1,-1).replace(/""/g,'"')),te.length===0)Z.t="z";else if(b.raw)Z.t="s",Z.v=te;else if(te.trim().length===0)Z.t="s",Z.v=te;else if(te.charCodeAt(0)==61)te.charCodeAt(1)==34&&te.charCodeAt(te.length-1)==34?(Z.t="s",Z.v=te.slice(2,-1).replace(/""/g,'"')):nX(te)?(Z.t="n",Z.f=te.slice(1)):(Z.t="s",Z.v=te);else if(te=="TRUE")Z.t="b",Z.v=!0;else if(te=="FALSE")Z.t="b",Z.v=!1;else if(!isNaN(R=Uo(te)))Z.t="n",b.cellText!==!1&&(Z.w=te),Z.v=R;else if(!isNaN(Lm(te).getDate())||B&&te.match(B)){Z.z=b.dateNF||ct[14];var xe=0;B&&te.match(B)&&(te=Nz(te,b.dateNF,te.match(B)||[]),xe=1),b.cellDates?(Z.t="d",Z.v=Fn(te,xe)):(Z.t="n",Z.v=Pr(Fn(te,xe))),b.cellText!==!1&&(Z.w=Ks(Z.z,Z.v instanceof Date?Pr(Z.v):Z.v)),b.cellNF||delete Z.z}else Z.t="s",Z.v=te;if(Z.t=="z"||(b.dense?(S[T]||(S[T]=[]),S[T][k]=Z):S[ut({c:k,r:T})]=Z),A=O+1,z=g.charCodeAt(A),E.e.c<k&&(E.e.c=k),E.e.r<T&&(E.e.r=T),C==I)++k;else if(k=0,++T,b.sheetRows&&b.sheetRows<=T)return!0}e:for(;O<g.length;++O)switch(C=g.charCodeAt(O)){case 34:z===34&&(M=!M);break;case I:case 10:case 13:if(!M&&re())break e;break}return O-A>0&&re(),S["!ref"]=bt(E),S}function c(g,x){return!(x&&x.PRN)||x.FS||g.slice(0,4)=="sep="||g.indexOf("	")>=0||g.indexOf(",")>=0||g.indexOf(";")>=0?s(g,x):tg(t(g,x),x)}function u(g,x){var b="",_=x.type=="string"?[0,0,0,0]:Fk(g,x);switch(x.type){case"base64":b=gs(g);break;case"binary":b=g;break;case"buffer":x.codepage==65001?b=g.toString("utf8"):x.codepage&&typeof wy<"u"||(b=Rt&&Buffer.isBuffer(g)?g.toString("binary"):If(g));break;case"array":b=zd(g);break;case"string":b=g;break;default:throw new Error("Unrecognized type "+x.type)}return _[0]==239&&_[1]==187&&_[2]==191?b=yn(b.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?b=yn(b):x.type=="binary"&&typeof wy<"u",b.slice(0,19)=="socialcalc:version:"?SM.to_sheet(x.type=="string"?b:yn(b),x):c(b,x)}function h(g,x){return Of(u(g,x),x)}function p(g){for(var x=[],b=qt(g["!ref"]),_,S=Array.isArray(g),E=b.s.r;E<=b.e.r;++E){for(var T=[],k=b.s.c;k<=b.e.c;++k){var R=ut({r:E,c:k});if(_=S?(g[E]||[])[k]:g[R],!_||_.v==null){T.push("          ");continue}for(var A=(_.w||(qc(_),_.w)||"").slice(0,10);A.length<10;)A+=" ";T.push(A+(k===0?" ":""))}x.push(T.join(""))}return x.join(`
`)}return{to_workbook:h,to_sheet:u,from_sheet:p}})();function Vq(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=_M.to_workbook(e,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return jm.to_workbook(e,t)}}var Rd=(function(){function e(F,V,H){if(F){ui(F,F.l||0);for(var W=H.Enum||Ie;F.l<F.length;){var se=F.read_shift(2),we=W[se]||W[65535],Ne=F.read_shift(2),Te=F.l+Ne,Re=we.f&&we.f(F,Ne,H);if(F.l=Te,V(Re,we,se))return}}}function t(F,V){switch(V.type){case"base64":return n(us(gs(F)),V);case"binary":return n(us(F),V);case"buffer":case"array":return n(F,V)}throw"Unsupported type "+V.type}function n(F,V){if(!F)return F;var H=V||{},W=H.dense?[]:{},se="Sheet1",we="",Ne=0,Te={},Re=[],rt=[],Q={s:{r:0,c:0},e:{r:0,c:0}},St=H.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)H.Enum=Ie,e(F,function(He,En,Br){switch(Br){case 0:H.vers=He,He>=4096&&(H.qpro=!0);break;case 6:Q=He;break;case 204:He&&(we=He);break;case 222:we=He;break;case 15:case 51:H.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:Br==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=H.dateNF||ct[14],H.cellDates&&(He[1].t="d",He[1].v=$E(He[1].v))),H.qpro&&He[3]>Ne&&(W["!ref"]=bt(Q),Te[se]=W,Re.push(se),W=H.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},Ne=He[3],se=we||"Sheet"+(Ne+1),we="");var gi=H.dense?(W[He[0].r]||[])[He[0].c]:W[ut(He[0])];if(gi){gi.t=He[1].t,gi.v=He[1].v,He[1].z!=null&&(gi.z=He[1].z),He[1].f!=null&&(gi.f=He[1].f);break}H.dense?(W[He[0].r]||(W[He[0].r]=[]),W[He[0].r][He[0].c]=He[1]):W[ut(He[0])]=He[1];break}},H);else if(F[2]==26||F[2]==14)H.Enum=j,F[2]==14&&(H.qpro=!0,F.l=0),e(F,function(He,En,Br){switch(Br){case 204:se=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>Ne&&(W["!ref"]=bt(Q),Te[se]=W,Re.push(se),W=H.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},Ne=He[3],se="Sheet"+(Ne+1)),St>0&&He[0].r>=St)break;H.dense?(W[He[0].r]||(W[He[0].r]=[]),W[He[0].r][He[0].c]=He[1]):W[ut(He[0])]=He[1],Q.e.c<He[0].c&&(Q.e.c=He[0].c),Q.e.r<He[0].r&&(Q.e.r=He[0].r);break;case 27:He[14e3]&&(rt[He[14e3][0]]=He[14e3][1]);break;case 1537:rt[He[0]]=He[1],He[0]==Ne&&(se=He[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(W["!ref"]=bt(Q),Te[we||se]=W,Re.push(we||se),!rt.length)return{SheetNames:Re,Sheets:Te};for(var pt={},At=[],gt=0;gt<rt.length;++gt)Te[Re[gt]]?(At.push(rt[gt]||Re[gt]),pt[rt[gt]]=Te[rt[gt]]||Te[Re[gt]]):(At.push(rt[gt]),pt[rt[gt]]={"!ref":"A1"});return{SheetNames:At,Sheets:pt}}function r(F,V){var H=V||{};if(+H.codepage>=0&&Mo(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var W=La(),se=qt(F["!ref"]),we=Array.isArray(F),Ne=[];Ue(W,0,s(1030)),Ue(W,6,h(se));for(var Te=Math.min(se.e.r,8191),Re=se.s.r;Re<=Te;++Re)for(var rt=mr(Re),Q=se.s.c;Q<=se.e.c;++Q){Re===se.s.r&&(Ne[Q]=$n(Q));var St=Ne[Q]+rt,pt=we?(F[Re]||[])[Q]:F[St];if(!(!pt||pt.t=="z"))if(pt.t=="n")(pt.v|0)==pt.v&&pt.v>=-32768&&pt.v<=32767?Ue(W,13,_(Re,Q,pt.v)):Ue(W,14,E(Re,Q,pt.v));else{var At=qc(pt);Ue(W,15,x(Re,Q,At.slice(0,239)))}}return Ue(W,1),W.end()}function i(F,V){var H=V||{};if(+H.codepage>=0&&Mo(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var W=La();Ue(W,0,c(F));for(var se=0,we=0;se<F.SheetNames.length;++se)(F.Sheets[F.SheetNames[se]]||{})["!ref"]&&Ue(W,27,ne(F.SheetNames[se],we++));var Ne=0;for(se=0;se<F.SheetNames.length;++se){var Te=F.Sheets[F.SheetNames[se]];if(!(!Te||!Te["!ref"])){for(var Re=qt(Te["!ref"]),rt=Array.isArray(Te),Q=[],St=Math.min(Re.e.r,8191),pt=Re.s.r;pt<=St;++pt)for(var At=mr(pt),gt=Re.s.c;gt<=Re.e.c;++gt){pt===Re.s.r&&(Q[gt]=$n(gt));var He=Q[gt]+At,En=rt?(Te[pt]||[])[gt]:Te[He];if(!(!En||En.t=="z"))if(En.t=="n")Ue(W,23,re(pt,gt,Ne,En.v));else{var Br=qc(En);Ue(W,22,C(pt,gt,Ne,Br.slice(0,239)))}}++Ne}}return Ue(W,1),W.end()}function s(F){var V=be(2);return V.write_shift(2,F),V}function c(F){var V=be(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var H=0,W=0,se=0,we=0;we<F.SheetNames.length;++we){var Ne=F.SheetNames[we],Te=F.Sheets[Ne];if(!(!Te||!Te["!ref"])){++se;var Re=Ba(Te["!ref"]);H<Re.e.r&&(H=Re.e.r),W<Re.e.c&&(W=Re.e.c)}}return H>8191&&(H=8191),V.write_shift(2,H),V.write_shift(1,se),V.write_shift(1,W),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function u(F,V,H){var W={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&H.qpro?(W.s.c=F.read_shift(1),F.l++,W.s.r=F.read_shift(2),W.e.c=F.read_shift(1),F.l++,W.e.r=F.read_shift(2),W):(W.s.c=F.read_shift(2),W.s.r=F.read_shift(2),V==12&&H.qpro&&(F.l+=2),W.e.c=F.read_shift(2),W.e.r=F.read_shift(2),V==12&&H.qpro&&(F.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function h(F){var V=be(8);return V.write_shift(2,F.s.c),V.write_shift(2,F.s.r),V.write_shift(2,F.e.c),V.write_shift(2,F.e.r),V}function p(F,V,H){var W=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(W[0].c=F.read_shift(1),W[3]=F.read_shift(1),W[0].r=F.read_shift(2),F.l+=2):(W[2]=F.read_shift(1),W[0].c=F.read_shift(2),W[0].r=F.read_shift(2)),W}function g(F,V,H){var W=F.l+V,se=p(F,V,H);if(se[1].t="s",H.vers==20768){F.l++;var we=F.read_shift(1);return se[1].v=F.read_shift(we,"utf8"),se}return H.qpro&&F.l++,se[1].v=F.read_shift(W-F.l,"cstr"),se}function x(F,V,H){var W=be(7+H.length);W.write_shift(1,255),W.write_shift(2,V),W.write_shift(2,F),W.write_shift(1,39);for(var se=0;se<W.length;++se){var we=H.charCodeAt(se);W.write_shift(1,we>=128?95:we)}return W.write_shift(1,0),W}function b(F,V,H){var W=p(F,V,H);return W[1].v=F.read_shift(2,"i"),W}function _(F,V,H){var W=be(7);return W.write_shift(1,255),W.write_shift(2,V),W.write_shift(2,F),W.write_shift(2,H,"i"),W}function S(F,V,H){var W=p(F,V,H);return W[1].v=F.read_shift(8,"f"),W}function E(F,V,H){var W=be(13);return W.write_shift(1,255),W.write_shift(2,V),W.write_shift(2,F),W.write_shift(8,H,"f"),W}function T(F,V,H){var W=F.l+V,se=p(F,V,H);if(se[1].v=F.read_shift(8,"f"),H.qpro)F.l=W;else{var we=F.read_shift(2);O(F.slice(F.l,F.l+we),se),F.l+=we}return se}function k(F,V,H){var W=V&32768;return V&=-32769,V=(W?F:0)+(V>=8192?V-16384:V),(W?"":"$")+(H?$n(V):mr(V))}var R={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(F,V){ui(F,0);for(var H=[],W=0,se="",we="",Ne="",Te="";F.l<F.length;){var Re=F[F.l++];switch(Re){case 0:H.push(F.read_shift(8,"f"));break;case 1:we=k(V[0].c,F.read_shift(2),!0),se=k(V[0].r,F.read_shift(2),!1),H.push(we+se);break;case 2:{var rt=k(V[0].c,F.read_shift(2),!0),Q=k(V[0].r,F.read_shift(2),!1);we=k(V[0].c,F.read_shift(2),!0),se=k(V[0].r,F.read_shift(2),!1),H.push(rt+Q+":"+we+se)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(F.read_shift(2));break;case 6:{for(var St="";Re=F[F.l++];)St+=String.fromCharCode(Re);H.push('"'+St.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:Te=H.pop(),Ne=H.pop(),H.push(["AND","OR"][Re-20]+"("+Ne+","+Te+")");break;default:if(Re<32&&A[Re])Te=H.pop(),Ne=H.pop(),H.push(Ne+A[Re]+Te);else if(R[Re]){if(W=R[Re][1],W==69&&(W=F[F.l++]),W>H.length){console.error("WK1 bad formula parse 0x"+Re.toString(16)+":|"+H.join("|")+"|");return}var pt=H.slice(-W);H.length-=W,H.push(R[Re][0]+"("+pt.join(",")+")")}else return Re<=7?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=24?console.error("WK1 unsupported op "+Re.toString(16)):Re<=30?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=115?console.error("WK1 unsupported function opcode "+Re.toString(16)):console.error("WK1 unrecognized opcode "+Re.toString(16))}}H.length==1?V[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function I(F){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=F.read_shift(2),V[3]=F[F.l++],V[0].c=F[F.l++],V}function M(F,V){var H=I(F);return H[1].t="s",H[1].v=F.read_shift(V-4,"cstr"),H}function C(F,V,H,W){var se=be(6+W.length);se.write_shift(2,F),se.write_shift(1,H),se.write_shift(1,V),se.write_shift(1,39);for(var we=0;we<W.length;++we){var Ne=W.charCodeAt(we);se.write_shift(1,Ne>=128?95:Ne)}return se.write_shift(1,0),se}function z(F,V){var H=I(F);H[1].v=F.read_shift(2);var W=H[1].v>>1;if(H[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return H[1].v=W,H}function B(F,V){var H=I(F),W=F.read_shift(4),se=F.read_shift(4),we=F.read_shift(2);if(we==65535)return W===0&&se===3221225472?(H[1].t="e",H[1].v=15):W===0&&se===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var Ne=we&32768;return we=(we&32767)-16446,H[1].v=(1-Ne*2)*(se*Math.pow(2,we+32)+W*Math.pow(2,we)),H}function re(F,V,H,W){var se=be(14);if(se.write_shift(2,F),se.write_shift(1,H),se.write_shift(1,V),W==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var we=0,Ne=0,Te=0,Re=0;return W<0&&(we=1,W=-W),Ne=Math.log2(W)|0,W/=Math.pow(2,Ne-31),Re=W>>>0,(Re&2147483648)==0&&(W/=2,++Ne,Re=W>>>0),W-=Re,Re|=2147483648,Re>>>=0,W*=Math.pow(2,32),Te=W>>>0,se.write_shift(4,Te),se.write_shift(4,Re),Ne+=16383+(we?32768:0),se.write_shift(2,Ne),se}function te(F,V){var H=B(F);return F.l+=V-14,H}function Z(F,V){var H=I(F),W=F.read_shift(4);return H[1].v=W>>6,H}function xe(F,V){var H=I(F),W=F.read_shift(8,"f");return H[1].v=W,H}function De(F,V){var H=xe(F);return F.l+=V-10,H}function ve(F,V){return F[F.l+V-1]==0?F.read_shift(V,"cstr"):""}function ee(F,V){var H=F[F.l++];H>V-1&&(H=V-1);for(var W="";W.length<H;)W+=String.fromCharCode(F[F.l++]);return W}function J(F,V,H){if(!(!H.qpro||V<21)){var W=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var se=F.read_shift(V-21,"cstr");return[W,se]}}function Ee(F,V){for(var H={},W=F.l+V;F.l<W;){var se=F.read_shift(2);if(se==14e3){for(H[se]=[0,""],H[se][0]=F.read_shift(2);F[F.l];)H[se][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return H}function ne(F,V){var H=be(5+F.length);H.write_shift(2,14e3),H.write_shift(2,V);for(var W=0;W<F.length;++W){var se=F.charCodeAt(W);H[H.l++]=se>127?95:se}return H[H.l++]=0,H}var Ie={0:{n:"BOF",f:Er},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:b},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:g},16:{n:"FORMULA",f:T},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:g},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ve},222:{n:"SHEETNAMELP",f:ee},65535:{n:""}},j={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:M},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:z},25:{n:"FORMULA19",f:te},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ee},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Z},38:{n:"??"},39:{n:"NUMBER27",f:xe},40:{n:"FORMULA28",f:De},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ve},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:t}})();function Hq(e){var t={},n=e.match(Xi),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=ht(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=QA[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}var qq=(function(){var e=Sy("t"),t=Sy("rPr");function n(s){var c=s.match(e);if(!c)return{t:"s",v:""};var u={t:"s",v:Vt(c[1])},h=s.match(t);return h&&(u.s=Hq(h[1])),u}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(c){return c.replace(r,"").split(i).map(n).filter(function(u){return u.v})}})(),Gq=(function(){var t=/(\r\n|\n)/g;function n(i,s,c){var u=[];i.u&&u.push("text-decoration: underline;"),i.uval&&u.push("text-underline-style:"+i.uval+";"),i.sz&&u.push("font-size:"+i.sz+"pt;"),i.outline&&u.push("text-effect: outline;"),i.shadow&&u.push("text-shadow: auto;"),s.push('<span style="'+u.join("")+'">'),i.b&&(s.push("<b>"),c.push("</b>")),i.i&&(s.push("<i>"),c.push("</i>")),i.strike&&(s.push("<s>"),c.push("</s>"));var h=i.valign||"";return h=="superscript"||h=="super"?h="sup":h=="subscript"&&(h="sub"),h!=""&&(s.push("<"+h+">"),c.push("</"+h+">")),c.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),Wq=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Xq=/<(?:\w+:)?r>/,Kq=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function wk(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Vt(yn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=yn(e),n&&(r.h=ok(r.t))):e.match(Xq)&&(r.r=yn(e),r.t=Vt(yn((e.replace(Kq,"").match(Wq)||[]).join("").replace(Xi,""))),n&&(r.h=Gq(qq(r.r)))),r):{t:""}}var Yq=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,$q=/<(?:\w+:)?(?:si|sstItem)>/g,Qq=/<\/(?:\w+:)?(?:si|sstItem)>/;function Jq(e,t){var n=[],r="";if(!e)return n;var i=e.match(Yq);if(i){r=i[2].replace($q,"").split(Qq);for(var s=0;s!=r.length;++s){var c=wk(r[s].trim(),t);c!=null&&(n[n.length]=c)}i=ht(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var Zq=/^\s|\s$|[\t\n\r]/;function TM(e,t){if(!t.bookSST)return"";var n=[gr];n[n.length]=Be("sst",null,{xmlns:t0[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var i=e[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(Zq)&&(s+=' xml:space="preserve"'),s+=">"+pn(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function eG(e){return[e.read_shift(4),e.read_shift(4)]}function tG(e,t){var n=[],r=!1;return Yc(e,function(s,c,u){switch(u){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(c.T,!r||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function nG(e,t){return t||(t=be(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var rG=dV;function iG(e){var t=La();Ce(t,159,nG(e));for(var n=0;n<e.length;++n)Ce(t,19,rG(e[n]));return Ce(t,160),t.end()}function AM(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function zc(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function aG(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=zc(e,4),t.U=zc(e,4),t.W=zc(e,4),t}function sG(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),s=[];i-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function oG(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(sG(e));return t}function lG(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function cG(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=zc(e,4),t.U=zc(e,4),t.W=zc(e,4),t}function uG(e){var t=cG(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function kM(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function NM(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function fG(e){var t=zc(e);switch(t.Minor){case 2:return[t.Minor,hG(e)];case 3:return[t.Minor,dG()];case 4:return[t.Minor,pG(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function hG(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=kM(e,n),i=NM(e,e.length-e.l);return{t:"Std",h:r,v:i}}function dG(){throw new Error("File is password-protected: ECMA-376 Extensible")}function pG(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(Xi,function(s){var c=ht(s);switch(zl(c[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(u){r[u]=c[u]});break;case"<dataIntegrity":r.encryptedHmacKey=c.encryptedHmacKey,r.encryptedHmacValue=c.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=c.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(c);break;default:throw c[0]}}),r}function mG(e,t){var n={},r=n.EncryptionVersionInfo=zc(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=kM(e,i),t-=i,n.EncryptionVerifier=NM(e,t),n}function gG(e){var t={},n=t.EncryptionVersionInfo=zc(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function _k(e){var t=0,n,r=AM(e),i=r.length+1,s,c,u,h,p;for(n=bf(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)c=n[s],u=(t&16384)===0?0:1,h=t<<1&32767,p=u|h,t=p^c;return t^52811}var CM=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(c){return(c/2|c*128)&255},i=function(c,u){return r(c^u)},s=function(c){for(var u=t[c.length-1],h=104,p=c.length-1;p>=0;--p)for(var g=c[p],x=0;x!=7;++x)g&64&&(u^=n[h]),g*=2,--h;return u};return function(c){for(var u=AM(c),h=s(u),p=u.length,g=bf(16),x=0;x!=16;++x)g[x]=0;var b,_,S;for((p&1)===1&&(b=h>>8,g[p]=i(e[0],b),--p,b=h&255,_=u[u.length-1],g[p]=i(_,b));p>0;)--p,b=h>>8,g[p]=i(u[p],b),--p,b=h&255,g[p]=i(u[p],b);for(p=15,S=15-u.length;S>0;)b=h>>8,g[p]=i(e[S],b),--p,--S,b=h&255,g[p]=i(u[p],b),--p,--S;return g}})(),vG=function(e,t,n,r,i){i||(i=t),r||(r=CM(e));var s,c;for(s=0;s!=t.length;++s)c=t[s],c^=r[n],c=(c>>5|c<<3)&255,i[s]=c,++n;return[i,n,r]},xG=function(e){var t=0,n=CM(e);return function(r){var i=vG("",r,t,n);return t=i[1],i[0]}};function yG(e,t,n,r){var i={key:Er(e),verificationBytes:Er(e)};return n.password&&(i.verifier=_k(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=xG(n.password)),i}function bG(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=gG(e):r.Data=mG(e,t),r}function wG(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?bG(e,t-2,r):yG(e,n.biff>=8?t:t-2,n,r),r}var RM=(function(){function e(i,s){switch(s.type){case"base64":return t(gs(i),s);case"binary":return t(i,s);case"buffer":return t(Rt&&Buffer.isBuffer(i)?i.toString("binary"):If(i),s);case"array":return t(zd(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var c=s||{},u=c.dense?[]:{},h=i.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var p={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(g,x){Array.isArray(u)&&(u[x]=[]);for(var b=/\\\w+\b/g,_=0,S,E=-1;S=b.exec(g);){switch(S[0]){case"\\cell":var T=g.slice(_,b.lastIndex-S[0].length);if(T[0]==" "&&(T=T.slice(1)),++E,T.length){var k={v:T,t:"s"};Array.isArray(u)?u[x][E]=k:u[ut({r:x,c:E})]=k}break}_=b.lastIndex}E>p.e.c&&(p.e.c=E)}),u["!ref"]=bt(p),u}function n(i,s){return Of(e(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],c=qt(i["!ref"]),u,h=Array.isArray(i),p=c.s.r;p<=c.e.r;++p){s.push("\\trowd\\trautofit1");for(var g=c.s.c;g<=c.e.c;++g)s.push("\\cellx"+(g+1));for(s.push("\\pard\\intbl"),g=c.s.c;g<=c.e.c;++g){var x=ut({r:p,c:g});u=h?(i[p]||[])[g]:i[x],!(!u||u.v==null&&(!u.f||u.F))&&(s.push(" "+(u.w||(qc(u),u.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}})();function _G(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Ny(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function EG(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),c=i-s;if(c===0)return[0,0,t];var u=0,h=0,p=i+s;switch(h=c/(p>1?2-p:p),i){case t:u=((n-r)/c+6)%6;break;case n:u=(r-t)/c+2;break;case r:u=(t-n)/c+4;break}return[u/6,h,p/2]}function SG(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),s=r-i/2,c=[s,s,s],u=6*t,h;if(n!==0)switch(u|0){case 0:case 6:h=i*u,c[0]+=i,c[1]+=h;break;case 1:h=i*(2-u),c[0]+=h,c[1]+=i;break;case 2:h=i*(u-2),c[1]+=i,c[2]+=h;break;case 3:h=i*(4-u),c[1]+=h,c[2]+=i;break;case 4:h=i*(u-4),c[2]+=i,c[0]+=h;break;case 5:h=i*(6-u),c[2]+=h,c[0]+=i;break}for(var p=0;p!=3;++p)c[p]=Math.round(c[p]*255);return c}function W_(e,t){if(t===0)return e;var n=EG(_G(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),Ny(SG(n))}var DM=6,TG=15,AG=1,Pi=DM;function Cy(e){return Math.floor((e+Math.round(128/Pi)/256)*Pi)}function Ry(e){return Math.floor((e-5)/Pi*100+.5)/100}function X_(e){return Math.round((e*Pi+5)/Pi*256)/256}function rT(e){return X_(Ry(Cy(e)))}function Ek(e){var t=Math.abs(e-rT(e)),n=Pi;if(t>.005)for(Pi=AG;Pi<TG;++Pi)Math.abs(e-rT(e))<=t&&(t=Math.abs(e-rT(e)),n=Pi);Pi=n}function wf(e){e.width?(e.wpx=Cy(e.width),e.wch=Ry(e.wpx),e.MDW=Pi):e.wpx?(e.wch=Ry(e.wpx),e.width=X_(e.wch),e.MDW=Pi):typeof e.wch=="number"&&(e.width=X_(e.wch),e.wpx=Cy(e.width),e.MDW=Pi),e.customWidth&&delete e.customWidth}var kG=96,IM=kG;function Dy(e){return e*96/IM}function Pm(e){return e*IM/96}var NG={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function CG(e,t,n,r){t.Borders=[];var i={},s=!1;(e[0].match(Xi)||[]).forEach(function(c){var u=ht(c);switch(zl(u[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},u.diagonalUp&&(i.diagonalUp=On(u.diagonalUp)),u.diagonalDown&&(i.diagonalDown=On(u.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+u[0]+" in borders")}})}function RG(e,t,n,r){t.Fills=[];var i={},s=!1;(e[0].match(Xi)||[]).forEach(function(c){var u=ht(c);switch(zl(u[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":u.patternType&&(i.patternType=u.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),u.indexed&&(i.bgColor.indexed=parseInt(u.indexed,10)),u.theme&&(i.bgColor.theme=parseInt(u.theme,10)),u.tint&&(i.bgColor.tint=parseFloat(u.tint)),u.rgb&&(i.bgColor.rgb=u.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),u.theme&&(i.fgColor.theme=parseInt(u.theme,10)),u.tint&&(i.fgColor.tint=parseFloat(u.tint)),u.rgb!=null&&(i.fgColor.rgb=u.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+u[0]+" in fills")}})}function DG(e,t,n,r){t.Fonts=[];var i={},s=!1;(e[0].match(Xi)||[]).forEach(function(c){var u=ht(c);switch(zl(u[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":u.val&&(i.name=yn(u.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=u.val?On(u.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=u.val?On(u.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(u.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=u.val?On(u.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=u.val?On(u.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=u.val?On(u.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=u.val?On(u.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=u.val?On(u.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":u.val&&(i.sz=+u.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":u.val&&(i.vertAlign=u.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":u.val&&(i.family=parseInt(u.val,10));break;case"<family/>":case"</family>":break;case"<scheme":u.val&&(i.scheme=u.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(u.val=="1")break;u.codepage=QA[parseInt(u.val,10)];break;case"<color":if(i.color||(i.color={}),u.auto&&(i.color.auto=On(u.auto)),u.rgb)i.color.rgb=u.rgb.slice(-6);else if(u.indexed){i.color.index=parseInt(u.indexed,10);var h=Nd[i.color.index];i.color.index==81&&(h=Nd[1]),h||(h=Nd[1]),i.color.rgb=h[0].toString(16)+h[1].toString(16)+h[2].toString(16)}else u.theme&&(i.color.theme=parseInt(u.theme,10),u.tint&&(i.color.tint=parseFloat(u.tint)),u.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=W_(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+u[0]+" in fonts")}})}function IG(e,t,n){t.NumberFmt=[];for(var r=lr(ct),i=0;i<r.length;++i)t.NumberFmt[r[i]]=ct[r[i]];var s=e[0].match(Xi);if(s)for(i=0;i<s.length;++i){var c=ht(s[i]);switch(zl(c[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var u=Vt(yn(c.formatCode)),h=parseInt(c.numFmtId,10);if(t.NumberFmt[h]=u,h>0){if(h>392){for(h=392;h>60&&t.NumberFmt[h]!=null;--h);t.NumberFmt[h]=u}Uc(u,h)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+c[0]+" in numFmts")}}}function OG(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&(t[t.length]=Be("numFmt",null,{numFmtId:r,formatCode:pn(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Be("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var kw=["numFmtId","fillId","fontId","borderId","xfId"],Nw=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function FG(e,t,n){t.CellXf=[];var r,i=!1;(e[0].match(Xi)||[]).forEach(function(s){var c=ht(s),u=0;switch(zl(c[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=c,delete r[0],u=0;u<kw.length;++u)r[kw[u]]&&(r[kw[u]]=parseInt(r[kw[u]],10));for(u=0;u<Nw.length;++u)r[Nw[u]]&&(r[Nw[u]]=On(r[Nw[u]]));if(t.NumberFmt&&r.numFmtId>392){for(u=392;u>60;--u)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[u]){r.numFmtId=u;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var h={};c.vertical&&(h.vertical=c.vertical),c.horizontal&&(h.horizontal=c.horizontal),c.textRotation!=null&&(h.textRotation=c.textRotation),c.indent&&(h.indent=c.indent),c.wrapText&&(h.wrapText=On(c.wrapText)),r.alignment=h;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+c[0]+" in cellXfs")}})}function MG(e){var t=[];return t[t.length]=Be("cellXfs",null),e.forEach(function(n){t[t.length]=Be("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Be("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var LG=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(u,h,p){var g={};if(!u)return g;u=u.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var x;return(x=u.match(t))&&IG(x,g,p),(x=u.match(i))&&DG(x,g,h,p),(x=u.match(r))&&RG(x,g,h,p),(x=u.match(s))&&CG(x,g,h,p),(x=u.match(n))&&FG(x,g,p),g}})();function OM(e,t){var n=[gr,Be("styleSheet",null,{xmlns:t0[0],"xmlns:vt":Fr.vt})],r;return e.SSF&&(r=OG(e.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=MG(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function jG(e,t){var n=e.read_shift(2),r=Hi(e);return[n,r]}function PG(e,t,n){n||(n=be(6+4*t.length)),n.write_shift(2,e),Kr(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function BG(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=bV(e);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=e.read_shift(2);switch(s===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var c=e.read_shift(1);c!=0&&(r.underline=c);var u=e.read_shift(1);u>0&&(r.family=u);var h=e.read_shift(1);switch(h>0&&(r.charset=h),e.l++,r.color=yV(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Hi(e),r}function UG(e,t){t||(t=be(153)),t.write_shift(2,e.sz*20),wV(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),H_(e.color,t);var r=0;return r=2,t.write_shift(1,r),Kr(e.name,t),t.length>t.l?t.slice(0,t.l):t}var zG=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],iT,VG=Gi;function V4(e,t){t||(t=be(84)),iT||(iT=KE(zG));var n=iT[e.patternType];n==null&&(n=40),t.write_shift(4,n);var r=0;if(n!=40)for(H_({auto:1},t),H_({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function HG(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}function FM(e,t,n){n||(n=be(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function yx(e,t){return t||(t=be(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var qG=Gi;function GG(e,t){return t||(t=be(51)),t.write_shift(1,0),yx(null,t),yx(null,t),yx(null,t),yx(null,t),yx(null,t),t.length>t.l?t.slice(0,t.l):t}function WG(e,t){return t||(t=be(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),V_(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function XG(e,t,n){var r=be(2052);return r.write_shift(4,e),V_(t,r),V_(n,r),r.length>r.l?r.slice(0,r.l):r}function KG(e,t,n){var r={};r.NumberFmt=[];for(var i in ct)r.NumberFmt[i]=ct[i];r.CellXf=[],r.Fonts=[];var s=[],c=!1;return Yc(e,function(h,p,g){switch(g){case 44:r.NumberFmt[h[0]]=h[1],Uc(h[1],h[0]);break;case 43:r.Fonts.push(h),h.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(h.color.rgb=W_(t.themeElements.clrScheme[h.color.theme].rgb,h.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(h);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:c=!0;break;case 36:c=!1;break;case 37:s.push(g),c=!0;break;case 38:s.pop(),c=!1;break;default:if(p.T>0)s.push(g);else if(p.T<0)s.pop();else if(!c||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+g.toString(16))}}),r}function YG(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&++n}),n!=0&&(Ce(e,615,zo(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&Ce(e,44,PG(i,t[i]))}),Ce(e,616))}}function $G(e){var t=1;Ce(e,611,zo(t)),Ce(e,43,UG({sz:12,color:{theme:1},name:"Calibri",family:2})),Ce(e,612)}function QG(e){var t=2;Ce(e,603,zo(t)),Ce(e,45,V4({patternType:"none"})),Ce(e,45,V4({patternType:"gray125"})),Ce(e,604)}function JG(e){var t=1;Ce(e,613,zo(t)),Ce(e,46,GG()),Ce(e,614)}function ZG(e){var t=1;Ce(e,626,zo(t)),Ce(e,47,FM({numFmtId:0},65535)),Ce(e,627)}function eW(e,t){Ce(e,617,zo(t.length)),t.forEach(function(n){Ce(e,47,FM(n,0))}),Ce(e,618)}function tW(e){var t=1;Ce(e,619,zo(t)),Ce(e,48,WG({xfId:0,name:"Normal"})),Ce(e,620)}function nW(e){var t=0;Ce(e,505,zo(t)),Ce(e,506)}function rW(e){var t=0;Ce(e,508,XG(t,"TableStyleMedium9","PivotStyleMedium4")),Ce(e,509)}function iW(e,t){var n=La();return Ce(n,278),YG(n,e.SSF),$G(n),QG(n),JG(n),ZG(n),eW(n,t.cellXfs),tW(n),nW(n),rW(n),Ce(n,279),n.end()}var aW=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function sW(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(Xi)||[]).forEach(function(i){var s=ht(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[aW.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function oW(){}function lW(){}var cW=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,uW=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,fW=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function hW(e,t,n){t.themeElements={};var r;[["clrScheme",cW,sW],["fontScheme",uW,oW],["fmtScheme",fW,lW]].forEach(function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,n)})}var dW=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function MM(e,t){(!e||e.length===0)&&(e=Sk());var n,r={};if(!(n=e.match(dW)))throw new Error("themeElements not found in theme");return hW(n[0],r,t),r.raw=e,r}function Sk(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[gr];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function pW(e,t,n){var r=e.l+t,i=e.read_shift(4);if(i!==124226){if(!n.cellStyles){e.l=r;return}var s=e.slice(e.l);e.l=r;var c;try{c=k3(s,{type:"array"})}catch{return}var u=fs(c,"theme/theme/theme1.xml",!0);if(u)return MM(u,n)}}function mW(e){return e.read_shift(4)}function gW(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=vW(e,4);break;case 2:t.xclrValue=pM(e);break;case 3:t.xclrValue=mW(e);break;case 4:e.l+=4;break}return e.l+=8,t}function vW(e,t){return Gi(e,t)}function xW(e,t){return Gi(e,t)}function yW(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=gW(e);break;case 6:r[1]=xW(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function bW(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),s=[];i-- >0;)s.push(yW(e,n-e.l));return{ixfe:r,ext:s}}function wW(e,t){t.forEach(function(n){n[0]})}function _W(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Hi(e)}}function EW(e){var t=be(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Kr(e.name,t),t.slice(0,t.l)}function SW(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function TW(e){var t=be(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function AW(e,t){var n=be(8+2*t.length);return n.write_shift(4,e),Kr(t,n),n.slice(0,n.l)}function kW(e){return e.l+=4,e.read_shift(4)!=0}function NW(e,t){var n=be(8);return n.write_shift(4,e),n.write_shift(4,1),n}function CW(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],c=!1,u=2;return Yc(e,function(h,p,g){switch(g){case 335:r.Types.push({name:h.name});break;case 51:h.forEach(function(x){u==1?r.Cell.push({type:r.Types[x[0]-1].name,index:x[1]}):u==0&&r.Value.push({type:r.Types[x[0]-1].name,index:x[1]})});break;case 337:u=h?1:0;break;case 338:u=2;break;case 35:s.push(g),c=!0;break;case 36:s.pop(),c=!1;break;default:if(!p.T){if(!c||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+g.toString(16))}}}),r}function RW(){var e=La();return Ce(e,332),Ce(e,334,zo(1)),Ce(e,335,EW({name:"XLDAPR",version:12e4,flags:3496657072})),Ce(e,336),Ce(e,339,AW(1,"XLDAPR")),Ce(e,52),Ce(e,35,zo(514)),Ce(e,4096,zo(0)),Ce(e,4097,Vs(1)),Ce(e,36),Ce(e,53),Ce(e,340),Ce(e,337,NW(1)),Ce(e,51,TW([[1,0]])),Ce(e,338),Ce(e,333),e.end()}function DW(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i=!1,s=2,c;return e.replace(Xi,function(u){var h=ht(u);switch(zl(h[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:h.name});break;case"</metadataType>":break;case"<futureMetadata":for(var p=0;p<r.Types.length;++p)r.Types[p].name==h.name&&(c=r.Types[p]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[h.t-1].name,index:+h.v}):s==0&&r.Value.push({type:r.Types[h.t-1].name,index:+h.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!c)break;c.offsets||(c.offsets=[]),c.offsets.push(+h.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+h[0]+" in metadata")}return u}),r}function LM(){var e=[gr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function IW(e){var t=[];if(!e)return t;var n=1;return(e.match(Xi)||[]).forEach(function(r){var i=ht(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,t.push(i);break}}),t}function OW(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=ut(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function FW(e,t,n){var r=[];return Yc(e,function(s,c,u){switch(u){case 63:r.push(s);break;default:if(!c.T)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function MW(e,t,n,r){if(!e)return e;var i=r||{},s=!1;Yc(e,function(u,h,p){switch(p){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!h.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}},i)}function LW(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}var lm=1024;function jM(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Be("xml",null,{"xmlns:v":os.v,"xmlns:o":os.o,"xmlns:x":os.x,"xmlns:mv":os.mv}).replace(/\/>/,">"),Be("o:shapelayout",Be("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Be("v:shapetype",[Be("v:stroke",null,{joinstyle:"miter"}),Be("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];lm<e*1e3;)lm+=1e3;return t.forEach(function(s){var c=Qn(s[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var h=u.type=="gradient"?Be("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,p=Be("v:fill",h,u),g={on:"t",obscured:"t"};++lm,i=i.concat(["<v:shape"+Ty({id:"_x0000_s"+lm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",p,Be("v:shadow",null,g),Be("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",fi("x:Anchor",[c.c+1,0,c.r+1,0,c.c+3,20,c.r+5,20].join(",")),fi("x:AutoFill","False"),fi("x:Row",String(c.r)),fi("x:Column",String(c.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function H4(e,t,n,r){var i=Array.isArray(e),s;t.forEach(function(c){var u=Qn(c.ref);if(i?(e[u.r]||(e[u.r]=[]),s=e[u.r][u.c]):s=e[c.ref],!s){s={t:"z"},i?e[u.r][u.c]=s:e[c.ref]=s;var h=qt(e["!ref"]||"BDWGO1000001:A1");h.s.r>u.r&&(h.s.r=u.r),h.e.r<u.r&&(h.e.r=u.r),h.s.c>u.c&&(h.s.c=u.c),h.e.c<u.c&&(h.e.c=u.c);var p=bt(h);p!==e["!ref"]&&(e["!ref"]=p)}s.c||(s.c=[]);var g={a:c.author,t:c.t,r:c.r,T:n};c.h&&(g.h=c.h);for(var x=s.c.length-1;x>=0;--x){if(!n&&s.c[x].T)return;n&&!s.c[x].T&&s.c.splice(x,1)}if(n&&r){for(x=0;x<r.length;++x)if(g.a==r[x].id){g.a=r[x].name||g.a;break}}s.c.push(g)})}function jW(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(c){if(!(c===""||c.trim()==="")){var u=c.match(/<(?:\w+:)?author[^>]*>(.*)/);u&&n.push(u[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(c){if(!(c===""||c.trim()==="")){var u=c.match(/<(?:\w+:)?comment[^>]*>/);if(u){var h=ht(u[0]),p={author:h.authorId&&n[h.authorId]||"sheetjsghost",ref:h.ref,guid:h.guid},g=Qn(h.ref);if(!(t.sheetRows&&t.sheetRows<=g.r)){var x=c.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),b=!!x&&!!x[1]&&wk(x[1])||{r:"",t:"",h:""};p.r=b.r,b.r=="<t></t>"&&(b.t=b.h=""),p.t=(b.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(p.h=b.h),r.push(p)}}}}),r}function PM(e){var t=[gr,Be("comments",null,{xmlns:t0[0]})],n=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(i){var s=pn(i.a);n.indexOf(s)==-1&&(n.push(s),t.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(h){h.a&&(i=n.indexOf(pn(h.a))),s.push(h.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)t.push(fi("t",pn(s[0]||"")));else{for(var c=`Comment:
    `+s[0]+`
`,u=1;u<s.length;++u)c+=`Reply:
    `+s[u]+`
`;t.push(fi("t",pn(c)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function PW(e,t){var n=[],r=!1,i={},s=0;return e.replace(Xi,function(u,h){var p=ht(u);switch(zl(p[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:p.personId,guid:p.id,ref:p.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=h+u.length;break;case"</text>":i.t=e.slice(s,h).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+p[0]+" in threaded comments")}return u}),n}function BW(e,t,n){var r=[gr,Be("ThreadedComments",null,{xmlns:Fr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var s="";(i[1]||[]).forEach(function(c,u){if(!c.T){delete c.ID;return}c.a&&t.indexOf(c.a)==-1&&t.push(c.a);var h={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};u==0?s=h.id:h.parentId=s,c.ID=h.id,c.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(c.a)).slice(-12)+"}"),r.push(Be("threadedComment",fi("text",c.t||""),h))})}),r.push("</ThreadedComments>"),r.join("")}function UW(e,t){var n=[],r=!1;return e.replace(Xi,function(s){var c=ht(s);switch(zl(c[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:c.displayname,id:c.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return s}),n}function zW(e){var t=[gr,Be("personList",null,{xmlns:Fr.TCMNT,"xmlns:x":t0[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,r){t.push(Be("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function VW(e){var t={};t.iauthor=e.read_shift(4);var n=a0(e);return t.rfx=n.s,t.ref=ut(n.s),e.l+=16,t}function HW(e,t){return t==null&&(t=be(36)),t.write_shift(4,e[1].iauthor),ng(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var qW=Hi;function GW(e){return Kr(e.slice(0,54))}function WW(e,t){var n=[],r=[],i={},s=!1;return Yc(e,function(u,h,p){switch(p){case 632:r.push(u);break;case 635:i=u;break;case 637:i.t=u.t,i.h=u.h,i.r=u.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!h.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}}),n}function XW(e){var t=La(),n=[];return Ce(t,628),Ce(t,630),e.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),Ce(t,632,GW(i.a)))})}),Ce(t,631),Ce(t,633),e.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Qn(r[0]),e:Qn(r[0])};Ce(t,635,HW([s,i])),i.t&&i.t.length>0&&Ce(t,637,mV(i)),Ce(t,636),delete i.iauthor})}),Ce(t,634),Ce(t,629),t.end()}var KW="application/vnd.ms-office.vbaProject";function YW(e){var t=at.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");at.utils.cfb_add(t,i,e.FileIndex[r].content)}}),at.write(t)}function $W(e,t){t.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&at.utils.cfb_add(e,i,t.FileIndex[r].content)}})}var BM=["xlsb","xlsm","xlam","biff8","xla"];function QW(){return{"!type":"dialog"}}function JW(){return{"!type":"dialog"}}function ZW(){return{"!type":"macro"}}function eX(){return{"!type":"macro"}}var dm=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,s,c){var u=!1,h=!1;s.length==0?h=!0:s.charAt(0)=="["&&(h=!0,s=s.slice(1,-1)),c.length==0?u=!0:c.charAt(0)=="["&&(u=!0,c=c.slice(1,-1));var p=s.length>0?parseInt(s,10)|0:0,g=c.length>0?parseInt(c,10)|0:0;return u?g+=t.c:--g,h?p+=t.r:--p,i+(u?"":"$")+$n(g)+(h?"":"$")+mr(p)}return function(i,s){return t=s,i.replace(e,n)}})(),Tk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Ak=(function(){return function(t,n){return t.replace(Tk,function(r,i,s,c,u,h){var p=hk(c)-(s?0:n.c),g=fk(h)-(u?0:n.r),x=g==0?"":u?g+1:"["+g+"]",b=p==0?"":s?p+1:"["+p+"]";return i+"R"+x+"C"+b})}})();function UM(e,t){return e.replace(Tk,function(n,r,i,s,c,u){return r+(i=="$"?i+s:$n(hk(s)+t.c))+(c=="$"?c+u:mr(fk(u)+t.r))})}function tX(e,t,n){var r=Ba(t),i=r.s,s=Qn(n),c={r:s.r-i.r,c:s.c-i.c};return UM(e,c)}function nX(e){return e.length!=1}function q4(e){return e.replace(/_xlfn\./g,"")}function br(e){e.l+=1}function _f(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function zM(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return VM(e);n.biff==12&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),c=_f(e),u=_f(e);return{s:{r:i,c:c[0],cRel:c[1],rRel:c[2]},e:{r:s,c:u[0],cRel:u[1],rRel:u[2]}}}function VM(e){var t=_f(e),n=_f(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function rX(e,t,n){if(n.biff<8)return VM(e);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),s=_f(e),c=_f(e);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function HM(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return iX(e);var r=e.read_shift(n&&n.biff==12?4:2),i=_f(e);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function iX(e){var t=_f(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function aX(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function sX(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return oX(e);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),c=(s&16384)>>14,u=(s&32768)>>15;if(s&=16383,u==1)for(;i>524287;)i-=1048576;if(c==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:c,rRel:u}}function oX(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),i==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:i,rRel:r}}function lX(e,t,n){var r=(e[e.l++]&96)>>5,i=zM(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function cX(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var c=zM(e,s,n);return[r,i,c]}function uX(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function fX(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[r,i]}function hX(e,t,n){var r=(e[e.l++]&96)>>5,i=rX(e,t-1,n);return[r,i]}function dX(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function G4(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function pX(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function mX(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function gX(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function vX(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function xX(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function qM(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function yX(e){return e.read_shift(2),qM(e)}function bX(e){return e.read_shift(2),qM(e)}function wX(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=HM(e,0,n);return[r,i]}function _X(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=sX(e,0,n);return[r,i]}function EX(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var s=HM(e,0,n);return[r,i,s]}function SX(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[kK[i],XM[i],r]}function TX(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:AX(e);return[i,(s[0]===0?XM:AK)[s[1]]]}function AX(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function kX(e,t,n){e.l+=n&&n.biff==2?3:4}function NX(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function CX(e){return e.l++,$c[e.read_shift(1)]}function RX(e){return e.l++,e.read_shift(2)}function DX(e){return e.l++,e.read_shift(1)!==0}function IX(e){return e.l++,Bi(e)}function OX(e,t,n){return e.l++,h1(e,t-1,n)}function FX(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=dr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=$c[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Bi(e);break;case 2:n[1]=s0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function MX(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?a0:QE)(e));return i}function LX(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,c=[];s!=r&&(c[s]=[]);++s)for(var u=0;u!=i;++u)c[s][u]=FX(e,n.biff);return c}function jX(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,s]}function PX(e,t,n){if(n.biff==5)return BX(e);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[r,i,s]}function BX(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function UX(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function zX(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function VX(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function HX(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[r,i]}var qX=Gi,GX=Gi,WX=Gi;function p1(e,t,n){return e.l+=2,[aX(e)]}function kk(e){return e.l+=6,[]}var XX=p1,KX=kk,YX=kk,$X=p1;function GM(e){return e.l+=2,[Er(e),e.read_shift(2)&1]}var QX=p1,JX=GM,ZX=kk,eK=p1,tK=p1,nK=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function rK(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),c=nK[n>>2&31];return{ixti:t,coltype:n&3,rt:c,idx:r,c:i,C:s}}function iK(e){return e.l+=2,[e.read_shift(4)]}function aK(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function sK(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function oK(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function lK(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function cK(e){return e.l+=4,[0,0]}var W4={1:{n:"PtgExp",f:NX},2:{n:"PtgTbl",f:WX},3:{n:"PtgAdd",f:br},4:{n:"PtgSub",f:br},5:{n:"PtgMul",f:br},6:{n:"PtgDiv",f:br},7:{n:"PtgPower",f:br},8:{n:"PtgConcat",f:br},9:{n:"PtgLt",f:br},10:{n:"PtgLe",f:br},11:{n:"PtgEq",f:br},12:{n:"PtgGe",f:br},13:{n:"PtgGt",f:br},14:{n:"PtgNe",f:br},15:{n:"PtgIsect",f:br},16:{n:"PtgUnion",f:br},17:{n:"PtgRange",f:br},18:{n:"PtgUplus",f:br},19:{n:"PtgUminus",f:br},20:{n:"PtgPercent",f:br},21:{n:"PtgParen",f:br},22:{n:"PtgMissArg",f:br},23:{n:"PtgStr",f:OX},26:{n:"PtgSheet",f:aK},27:{n:"PtgEndSheet",f:sK},28:{n:"PtgErr",f:CX},29:{n:"PtgBool",f:DX},30:{n:"PtgInt",f:RX},31:{n:"PtgNum",f:IX},32:{n:"PtgArray",f:dX},33:{n:"PtgFunc",f:SX},34:{n:"PtgFuncVar",f:TX},35:{n:"PtgName",f:jX},36:{n:"PtgRef",f:wX},37:{n:"PtgArea",f:lX},38:{n:"PtgMemArea",f:UX},39:{n:"PtgMemErr",f:qX},40:{n:"PtgMemNoMem",f:GX},41:{n:"PtgMemFunc",f:zX},42:{n:"PtgRefErr",f:VX},43:{n:"PtgAreaErr",f:uX},44:{n:"PtgRefN",f:_X},45:{n:"PtgAreaN",f:hX},46:{n:"PtgMemAreaN",f:oK},47:{n:"PtgMemNoMemN",f:lK},57:{n:"PtgNameX",f:PX},58:{n:"PtgRef3d",f:EX},59:{n:"PtgArea3d",f:cX},60:{n:"PtgRefErr3d",f:HX},61:{n:"PtgAreaErr3d",f:fX},255:{}},uK={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},fK={1:{n:"PtgElfLel",f:GM},2:{n:"PtgElfRw",f:eK},3:{n:"PtgElfCol",f:XX},6:{n:"PtgElfRwV",f:tK},7:{n:"PtgElfColV",f:$X},10:{n:"PtgElfRadical",f:QX},11:{n:"PtgElfRadicalS",f:ZX},13:{n:"PtgElfColS",f:KX},15:{n:"PtgElfColSV",f:YX},16:{n:"PtgElfRadicalLel",f:JX},25:{n:"PtgList",f:rK},29:{n:"PtgSxName",f:iK},255:{}},hK={0:{n:"PtgAttrNoop",f:cK},1:{n:"PtgAttrSemi",f:xX},2:{n:"PtgAttrIf",f:gX},4:{n:"PtgAttrChoose",f:pX},8:{n:"PtgAttrGoto",f:mX},16:{n:"PtgAttrSum",f:kX},32:{n:"PtgAttrBaxcel",f:G4},33:{n:"PtgAttrBaxcel",f:G4},64:{n:"PtgAttrSpace",f:yX},65:{n:"PtgAttrSpaceSemi",f:bX},128:{n:"PtgAttrIfError",f:vX},255:{}};function m1(e,t,n,r){if(r.biff<8)return Gi(e,t);for(var i=e.l+t,s=[],c=0;c!==n.length;++c)switch(n[c][0]){case"PtgArray":n[c][1]=LX(e,0,r),s.push(n[c][1]);break;case"PtgMemArea":n[c][2]=MX(e,n[c][1],r),s.push(n[c][2]);break;case"PtgExp":r&&r.biff==12&&(n[c][1][1]=e.read_shift(4),s.push(n[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[c][0]}return t=i-e.l,t!==0&&s.push(Gi(e,t)),s}function g1(e,t,n){for(var r=e.l+t,i,s,c=[];r!=e.l;)t=r-e.l,s=e[e.l],i=W4[s]||W4[uK[s]],(s===24||s===25)&&(i=(s===24?fK:hK)[e[e.l+1]]),!i||!i.f?Gi(e,t):c.push([i.n,i.f(e,t,n)]);return c}function dK(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var c=r[s];if(c)switch(c[0]){case 2:i.push('"'+c[1].replace(/"/g,'""')+'"');break;default:i.push(c[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var pK={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function mK(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function WM(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[r[0]][0][3]?(i=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function X4(e,t,n){var r=WM(e,t,n);return r=="#REF"?r:mK(r,n)}function Mi(e,t,n,r,i){var s=i&&i.biff||8,c={s:{c:0,r:0}},u=[],h,p,g,x=0,b=0,_,S="";if(!e[0]||!e[0][0])return"";for(var E=-1,T="",k=0,R=e[0].length;k<R;++k){var A=e[0][k];switch(A[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=u.pop(),p=u.pop(),E>=0){switch(e[0][E][1][0]){case 0:T=ar(" ",e[0][E][1][1]);break;case 1:T=ar("\r",e[0][E][1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][E][1][0])}p=p+T,E=-1}u.push(p+pK[A[0]]+h);break;case"PtgIsect":h=u.pop(),p=u.pop(),u.push(p+" "+h);break;case"PtgUnion":h=u.pop(),p=u.pop(),u.push(p+","+h);break;case"PtgRange":h=u.pop(),p=u.pop(),u.push(p+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":g=qx(A[1][1],c,i),u.push(Gx(g,s));break;case"PtgRefN":g=n?qx(A[1][1],n,i):A[1][1],u.push(Gx(g,s));break;case"PtgRef3d":x=A[1][1],g=qx(A[1][2],c,i),S=X4(r,x,i),u.push(S+"!"+Gx(g,s));break;case"PtgFunc":case"PtgFuncVar":var O=A[1][0],I=A[1][1];O||(O=0),O&=127;var M=O==0?[]:u.slice(-O);u.length-=O,I==="User"&&(I=M.shift()),u.push(I+"("+M.join(",")+")");break;case"PtgBool":u.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(A[1]);break;case"PtgNum":u.push(String(A[1]));break;case"PtgStr":u.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(A[1]);break;case"PtgAreaN":_=_4(A[1][1],n?{s:n}:c,i),u.push(eT(_,i));break;case"PtgArea":_=_4(A[1][1],c,i),u.push(eT(_,i));break;case"PtgArea3d":x=A[1][1],_=A[1][2],S=X4(r,x,i),u.push(S+"!"+eT(_,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":b=A[1][2];var C=(r.names||[])[b-1]||(r[0]||[])[b],z=C?C.Name:"SH33TJSNAME"+String(b);z&&z.slice(0,6)=="_xlfn."&&!i.xlfn&&(z=z.slice(6)),u.push(z);break;case"PtgNameX":var B=A[1][1];b=A[1][2];var re;if(i.biff<=5)B<0&&(B=-B),r[B]&&(re=r[B][b]);else{var te="";if(((r[B]||[])[0]||[])[0]==14849||(((r[B]||[])[0]||[])[0]==1025?r[B][b]&&r[B][b].itab>0&&(te=r.SheetNames[r[B][b].itab-1]+"!"):te=r.SheetNames[b-1]+"!"),r[B]&&r[B][b])te+=r[B][b].Name;else if(r[0]&&r[0][b])te+=r[0][b].Name;else{var Z=(WM(r,B,i)||"").split(";;");Z[b-1]?te=Z[b-1]:te+="SH33TJSERRX"}u.push(te);break}re||(re={Name:"SH33TJSERRY"}),u.push(re.Name);break;case"PtgParen":var xe="(",De=")";if(E>=0){switch(T="",e[0][E][1][0]){case 2:xe=ar(" ",e[0][E][1][1])+xe;break;case 3:xe=ar("\r",e[0][E][1][1])+xe;break;case 4:De=ar(" ",e[0][E][1][1])+De;break;case 5:De=ar("\r",e[0][E][1][1])+De;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][E][1][0])}E=-1}u.push(xe+u.pop()+De);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":g={c:A[1][1],r:A[1][0]};var ve={c:n.c,r:n.r};if(r.sharedf[ut(g)]){var ee=r.sharedf[ut(g)];u.push(Mi(ee,c,ve,r,i))}else{var J=!1;for(h=0;h!=r.arrayf.length;++h)if(p=r.arrayf[h],!(g.c<p[0].s.c||g.c>p[0].e.c)&&!(g.r<p[0].s.r||g.r>p[0].e.r)){u.push(Mi(p[1],c,ve,r,i)),J=!0;break}J||u.push(A[1])}break;case"PtgArray":u.push("{"+dK(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":E=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var Ee=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&E>=0&&Ee.indexOf(e[0][k][0])==-1){A=e[0][E];var ne=!0;switch(A[1][0]){case 4:ne=!1;case 0:T=ar(" ",A[1][1]);break;case 5:ne=!1;case 1:T=ar("\r",A[1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}u.push((ne?T:"")+u.pop()+(ne?"":T)),E=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function gK(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,c=e.read_shift(i);if(c==65535)return[[],Gi(e,t-2)];var u=g1(e,c,n);return t!==c+i&&(s=m1(e,t-c-i,u,n)),e.l=r,[u,s]}function vK(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,c=e.read_shift(i);if(c==65535)return[[],Gi(e,t-2)];var u=g1(e,c,n);return t!==c+i&&(s=m1(e,t-c-i,u,n)),e.l=r,[u,s]}function xK(e,t,n,r){var i=e.l+t,s=g1(e,r,n),c;return i!==e.l&&(c=m1(e,i-e.l,s,n)),[s,c]}function yK(e,t,n){var r=e.l+t,i,s=e.read_shift(2),c=g1(e,s,n);return s==65535?[[],Gi(e,t-2)]:(t!==s+2&&(i=m1(e,r-s-2,c,n)),[c,i])}function bK(e){var t;if(Oc(e,e.l+6)!==65535)return[Bi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function wK(e){if(e==null){var t=be(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Vd(e);return Vd(0)}function aT(e,t,n){var r=e.l+t,i=Vl(e);n.biff==2&&++e.l;var s=bK(e),c=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var u=vK(e,r-e.l,n);return{cell:i,val:s[0],formula:u,shared:c>>3&1,tt:s[1]}}function _K(e,t,n,r,i){var s=qd(t,n,i),c=wK(e.v),u=be(6),h=33;u.write_shift(2,h),u.write_shift(4,0);for(var p=be(e.bf.length),g=0;g<e.bf.length;++g)p[g]=e.bf[g];var x=Wr([s,c,u,p]);return x}function JE(e,t,n){var r=e.read_shift(4),i=g1(e,r,n),s=e.read_shift(4),c=s>0?m1(e,s,i,n):null;return[i,c]}var EK=JE,ZE=JE,SK=JE,TK=JE,AK={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},XM={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},kK={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function K4(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function NK(e){var t="of:="+e.replace(Tk,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function sT(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function CK(e){return e.replace(/\./,"!")}var Xx={},pm={},Kx=typeof Map<"u";function Nk(e,t,n){var r=0,i=e.length;if(n){if(Kx?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var s=Kx?n.get(t):n[t];r<s.length;++r)if(e[s[r]].t===t)return e.Count++,s[r]}}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t},e.Count++,e.Unique++,n&&(Kx?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function eS(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(Pi=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?r=Ry(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(n.width=X_(r),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function Dd(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function Ff(e,t,n){var r=n.revssf[t.z!=null?t.z:"General"],i=60,s=e.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){Uc(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}}for(i=0;i!=s;++i)if(e[i].numFmtId===r)return i;return e[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function KM(e,t,n,r,i,s){try{r.cellNF&&(e.z=ct[t])}catch(u){if(r.WTF)throw u}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Fn(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(ct[t]==null&&Uc(Az[t]||"General",t),e.t==="e")e.w=e.w||$c[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ey(e.v);else if(e.t==="d"){var c=Pr(e.v);(c|0)===c?e.w=c.toString(10):e.w=Ey(c)}else{if(e.v===void 0)return"";e.w=Ud(e.v,pm)}else e.t==="d"?e.w=Ks(t,Pr(e.v),pm):e.w=Ks(t,e.v,pm)}catch(u){if(r.WTF)throw u}if(r.cellStyles&&n!=null)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=W_(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=W_(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(u){if(r.WTF&&s.Fills)throw u}}}function RK(e,t,n){if(e&&e["!ref"]){var r=qt(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function DK(e,t){var n=qt(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=bt(n))}var IK=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,OK=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,FK=/<(?:\w:)?hyperlink [^>]*>/mg,MK=/"(\w*:\w*)"/,LK=/<(?:\w:)?col\b[^>]*[\/]?>/g,jK=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,PK=/<(?:\w:)?pageMargins[^>]*\/>/g,YM=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,BK=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,UK=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function zK(e,t,n,r,i,s,c){if(!e)return e;r||(r={"!id":{}});var u=t.dense?[]:{},h={s:{r:2e6,c:2e6},e:{r:0,c:0}},p="",g="",x=e.match(OK);x?(p=e.slice(0,x.index),g=e.slice(x.index+x[0].length)):p=g=e;var b=p.match(YM);b?Ck(b[0],u,i,n):(b=p.match(BK))&&HK(b[0],b[1]||"",u,i,n);var _=(p.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(_>0){var S=p.slice(_,_+50).match(MK);S&&DK(u,S[1])}var E=p.match(UK);E&&E[1]&&nY(E[1],i);var T=[];if(t.cellStyles){var k=p.match(LK);k&&QK(T,k)}x&&aY(x[1],u,t,h,s,c);var R=g.match(jK);R&&(u["!autofilter"]=ZK(R[0]));var A=[],O=g.match(IK);if(O)for(_=0;_!=O.length;++_)A[_]=qt(O[_].slice(O[_].indexOf('"')+1));var I=g.match(FK);I&&KK(u,I,r);var M=g.match(PK);if(M&&(u["!margins"]=YK(ht(M[0]))),!u["!ref"]&&h.e.c>=h.s.c&&h.e.r>=h.s.r&&(u["!ref"]=bt(h)),t.sheetRows>0&&u["!ref"]){var C=qt(u["!ref"]);t.sheetRows<=+C.e.r&&(C.e.r=t.sheetRows-1,C.e.r>h.e.r&&(C.e.r=h.e.r),C.e.r<C.s.r&&(C.s.r=C.e.r),C.e.c>h.e.c&&(C.e.c=h.e.c),C.e.c<C.s.c&&(C.s.c=C.e.c),u["!fullref"]=u["!ref"],u["!ref"]=bt(C))}return T.length>0&&(u["!cols"]=T),A.length>0&&(u["!merges"]=A),u}function VK(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+bt(e[n])+'"/>';return t+"</mergeCells>"}function Ck(e,t,n,r){var i=ht(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Vt(yn(i.codeName)))}function HK(e,t,n,r,i){Ck(e.slice(0,e.indexOf(">")),n,r,i)}function qK(e,t,n,r,i){var s=!1,c={},u=null;if(r.bookType!=="xlsx"&&t.vbaraw){var h=t.SheetNames[n];try{t.Workbook&&(h=t.Workbook.Sheets[n].CodeName||h)}catch{}s=!0,c.codeName=Fl(pn(h))}if(e&&e["!outline"]){var p={summaryBelow:1,summaryRight:1};e["!outline"].above&&(p.summaryBelow=0),e["!outline"].left&&(p.summaryRight=0),u=(u||"")+Be("outlinePr",null,p)}!s&&!u||(i[i.length]=Be("sheetPr",u,c))}var GK=["objects","scenarios","selectLockedCells","selectUnlockedCells"],WK=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function XK(e){var t={sheet:1};return GK.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),WK.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=_k(e.password).toString(16).toUpperCase()),Be("sheetProtection",null,t)}function KK(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var s=ht(yn(t[i]),!0);if(!s.ref)return;var c=((n||{})["!id"]||[])[s.id];c?(s.Target=c.Target,s.location&&(s.Target+="#"+Vt(s.location))):(s.Target="#"+Vt(s.location),c={Target:s.Target,TargetMode:"Internal"}),s.Rel=c,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var u=qt(s.ref),h=u.s.r;h<=u.e.r;++h)for(var p=u.s.c;p<=u.e.c;++p){var g=ut({c:p,r:h});r?(e[h]||(e[h]=[]),e[h][p]||(e[h][p]={t:"z",v:void 0}),e[h][p].l=s):(e[g]||(e[g]={t:"z",v:void 0}),e[g].l=s)}}}function YK(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function $K(e){return Dd(e),Be("pageMargins",null,e)}function QK(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=ht(t[r],!0);i.hidden&&(i.hidden=On(i.hidden));var s=parseInt(i.min,10)-1,c=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,Ek(i.width)),wf(i);s<=c;)e[s++]=Mn(i)}}function JK(e,t){for(var n=["<cols>"],r,i=0;i!=t.length;++i)(r=t[i])&&(n[n.length]=Be("col",null,eS(i,r)));return n[n.length]="</cols>",n.join("")}function ZK(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function eY(e,t,n,r){var i=typeof e.ref=="string"?e.ref:bt(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,c=Ba(i);c.s.r==c.e.r&&(c.e.r=Ba(t["!ref"]).e.r,i=bt(c));for(var u=0;u<s.length;++u){var h=s[u];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Be("autoFilter",null,{ref:i})}var tY=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function nY(e,t){t.Views||(t.Views=[{}]),(e.match(tY)||[]).forEach(function(n,r){var i=ht(n);t.Views[r]||(t.Views[r]={}),+i.zoomScale&&(t.Views[r].zoom=+i.zoomScale),On(i.rightToLeft)&&(t.Views[r].RTL=!0)})}function rY(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Be("sheetViews",Be("sheetView",null,i),{})}function iY(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",s=e.t,c=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=$c[e.v];break;case"d":r&&r.cellDates?i=Fn(e.v,-1).toISOString():(e=Mn(e),e.t="n",i=""+(e.v=Pr(Fn(e.v)))),typeof e.z>"u"&&(e.z=ct[14]);break;default:i=e.v;break}var u=fi("v",pn(i)),h={r:t},p=Ff(r.cellXfs,e,r);switch(p!==0&&(h.s=p),e.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){u=fi("v",""+Nk(r.Strings,e.v,r.revStrings)),h.t="s";break}h.t="str";break}if(e.t!=s&&(e.t=s,e.v=c),typeof e.f=="string"&&e.f){var g=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;u=Be("f",pn(e.f),g)+(e.v!=null?u:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(h.cm=1),Be("c",u,h)}var aY=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Sy("v"),c=Sy("f");return function(h,p,g,x,b,_){for(var S=0,E="",T=[],k=[],R=0,A=0,O=0,I="",M,C,z=0,B=0,re,te,Z=0,xe=0,De=Array.isArray(_.CellXf),ve,ee=[],J=[],Ee=Array.isArray(p),ne=[],Ie={},j=!1,F=!!g.sheetStubs,V=h.split(t),H=0,W=V.length;H!=W;++H){E=V[H].trim();var se=E.length;if(se!==0){var we=0;e:for(S=0;S<se;++S)switch(E[S]){case">":if(E[S-1]!="/"){++S;break e}if(g&&g.cellStyles){if(C=ht(E.slice(we,S),!0),z=C.r!=null?parseInt(C.r,10):z+1,B=-1,g.sheetRows&&g.sheetRows<z)continue;Ie={},j=!1,C.ht&&(j=!0,Ie.hpt=parseFloat(C.ht),Ie.hpx=Pm(Ie.hpt)),C.hidden=="1"&&(j=!0,Ie.hidden=!0),C.outlineLevel!=null&&(j=!0,Ie.level=+C.outlineLevel),j&&(ne[z-1]=Ie)}break;case"<":we=S;break}if(we>=S)break;if(C=ht(E.slice(we,S),!0),z=C.r!=null?parseInt(C.r,10):z+1,B=-1,!(g.sheetRows&&g.sheetRows<z)){x.s.r>z-1&&(x.s.r=z-1),x.e.r<z-1&&(x.e.r=z-1),g&&g.cellStyles&&(Ie={},j=!1,C.ht&&(j=!0,Ie.hpt=parseFloat(C.ht),Ie.hpx=Pm(Ie.hpt)),C.hidden=="1"&&(j=!0,Ie.hidden=!0),C.outlineLevel!=null&&(j=!0,Ie.level=+C.outlineLevel),j&&(ne[z-1]=Ie)),T=E.slice(S).split(e);for(var Ne=0;Ne!=T.length&&T[Ne].trim().charAt(0)=="<";++Ne);for(T=T.slice(Ne),S=0;S!=T.length;++S)if(E=T[S].trim(),E.length!==0){if(k=E.match(n),R=S,A=0,O=0,E="<c "+(E.slice(0,1)=="<"?">":"")+E,k!=null&&k.length===2){for(R=0,I=k[1],A=0;A!=I.length&&!((O=I.charCodeAt(A)-64)<1||O>26);++A)R=26*R+O;--R,B=R}else++B;for(A=0;A!=E.length&&E.charCodeAt(A)!==62;++A);if(++A,C=ht(E.slice(0,A),!0),C.r||(C.r=ut({r:z-1,c:B})),I=E.slice(A),M={t:""},(k=I.match(s))!=null&&k[1]!==""&&(M.v=Vt(k[1])),g.cellFormula){if((k=I.match(c))!=null&&k[1]!==""){if(M.f=Vt(yn(k[1])).replace(/\r\n/g,`
`),g.xlfn||(M.f=q4(M.f)),k[0].indexOf('t="array"')>-1)M.F=(I.match(i)||[])[1],M.F.indexOf(":")>-1&&ee.push([qt(M.F),M.F]);else if(k[0].indexOf('t="shared"')>-1){te=ht(k[0]);var Te=Vt(yn(k[1]));g.xlfn||(Te=q4(Te)),J[parseInt(te.si,10)]=[te,Te,C.r]}}else(k=I.match(/<f[^>]*\/>/))&&(te=ht(k[0]),J[te.si]&&(M.f=tX(J[te.si][1],J[te.si][2],C.r)));var Re=Qn(C.r);for(A=0;A<ee.length;++A)Re.r>=ee[A][0].s.r&&Re.r<=ee[A][0].e.r&&Re.c>=ee[A][0].s.c&&Re.c<=ee[A][0].e.c&&(M.F=ee[A][1])}if(C.t==null&&M.v===void 0)if(M.f||M.F)M.v=0,M.t="n";else if(F)M.t="z";else continue;else M.t=C.t||"n";switch(x.s.c>B&&(x.s.c=B),x.e.c<B&&(x.e.c=B),M.t){case"n":if(M.v==""||M.v==null){if(!F)continue;M.t="z"}else M.v=parseFloat(M.v);break;case"s":if(typeof M.v>"u"){if(!F)continue;M.t="z"}else re=Xx[parseInt(M.v,10)],M.v=re.t,M.r=re.r,g.cellHTML&&(M.h=re.h);break;case"str":M.t="s",M.v=M.v!=null?yn(M.v):"",g.cellHTML&&(M.h=ok(M.v));break;case"inlineStr":k=I.match(r),M.t="s",k!=null&&(re=wk(k[1]))?(M.v=re.t,g.cellHTML&&(M.h=re.h)):M.v="";break;case"b":M.v=On(M.v);break;case"d":g.cellDates?M.v=Fn(M.v,1):(M.v=Pr(Fn(M.v,1)),M.t="n");break;case"e":(!g||g.cellText!==!1)&&(M.w=M.v),M.v=Q3[M.v];break}if(Z=xe=0,ve=null,De&&C.s!==void 0&&(ve=_.CellXf[C.s],ve!=null&&(ve.numFmtId!=null&&(Z=ve.numFmtId),g.cellStyles&&ve.fillId!=null&&(xe=ve.fillId))),KM(M,Z,xe,g,b,_),g.cellDates&&De&&M.t=="n"&&Zm(ct[Z])&&(M.t="d",M.v=$E(M.v)),C.cm&&g.xlmeta){var rt=(g.xlmeta.Cell||[])[+C.cm-1];rt&&rt.type=="XLDAPR"&&(M.D=!0)}if(Ee){var Q=Qn(C.r);p[Q.r]||(p[Q.r]=[]),p[Q.r][Q.c]=M}else p[C.r]=M}}}}ne.length>0&&(p["!rows"]=ne)}})();function sY(e,t,n,r){var i=[],s=[],c=qt(e["!ref"]),u="",h,p="",g=[],x=0,b=0,_=e["!rows"],S=Array.isArray(e),E={r:p},T,k=-1;for(b=c.s.c;b<=c.e.c;++b)g[b]=$n(b);for(x=c.s.r;x<=c.e.r;++x){for(s=[],p=mr(x),b=c.s.c;b<=c.e.c;++b){h=g[b]+p;var R=S?(e[x]||[])[b]:e[h];R!==void 0&&(u=iY(R,h,e,t))!=null&&s.push(u)}(s.length>0||_&&_[x])&&(E={r:p},_&&_[x]&&(T=_[x],T.hidden&&(E.hidden=1),k=-1,T.hpx?k=Dy(T.hpx):T.hpt&&(k=T.hpt),k>-1&&(E.ht=k,E.customHeight=1),T.level&&(E.outlineLevel=T.level)),i[i.length]=Be("row",s.join(""),E))}if(_)for(;x<_.length;++x)_&&_[x]&&(E={r:x+1},T=_[x],T.hidden&&(E.hidden=1),k=-1,T.hpx?k=Dy(T.hpx):T.hpt&&(k=T.hpt),k>-1&&(E.ht=k,E.customHeight=1),T.level&&(E.outlineLevel=T.level),i[i.length]=Be("row","",E));return i.join("")}function $M(e,t,n,r){var i=[gr,Be("worksheet",null,{xmlns:t0[0],"xmlns:r":Fr.r})],s=n.SheetNames[e],c=0,u="",h=n.Sheets[s];h==null&&(h={});var p=h["!ref"]||"A1",g=qt(p);if(g.e.c>16383||g.e.r>1048575){if(t.WTF)throw new Error("Range "+p+" exceeds format limit A1:XFD1048576");g.e.c=Math.min(g.e.c,16383),g.e.r=Math.min(g.e.c,1048575),p=bt(g)}r||(r={}),h["!comments"]=[];var x=[];qK(h,n,e,t,i),i[i.length]=Be("dimension",null,{ref:p}),i[i.length]=rY(h,t,e,n),t.sheetFormat&&(i[i.length]=Be("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(i[i.length]=JK(h,h["!cols"])),i[c=i.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(u=sY(h,t),u.length>0&&(i[i.length]=u)),i.length>c+1&&(i[i.length]="</sheetData>",i[c]=i[c].replace("/>",">")),h["!protect"]&&(i[i.length]=XK(h["!protect"])),h["!autofilter"]!=null&&(i[i.length]=eY(h["!autofilter"],h,n,e)),h["!merges"]!=null&&h["!merges"].length>0&&(i[i.length]=VK(h["!merges"]));var b=-1,_,S=-1;return h["!links"].length>0&&(i[i.length]="<hyperlinks>",h["!links"].forEach(function(E){E[1].Target&&(_={ref:E[0]},E[1].Target.charAt(0)!="#"&&(S=fn(r,-1,pn(E[1].Target).replace(/#.*$/,""),Ot.HLINK),_["r:id"]="rId"+S),(b=E[1].Target.indexOf("#"))>-1&&(_.location=pn(E[1].Target.slice(b+1))),E[1].Tooltip&&(_.tooltip=pn(E[1].Tooltip)),i[i.length]=Be("hyperlink",null,_))}),i[i.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(i[i.length]=$K(h["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=fi("ignoredErrors",Be("ignoredError",null,{numberStoredAsText:1,sqref:p}))),x.length>0&&(S=fn(r,-1,"../drawings/drawing"+(e+1)+".xml",Ot.DRAW),i[i.length]=Be("drawing",null,{"r:id":"rId"+S}),h["!drawing"]=x),h["!comments"].length>0&&(S=fn(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ot.VML),i[i.length]=Be("legacyDrawing",null,{"r:id":"rId"+S}),h["!legacy"]=S),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function oY(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function lY(e,t,n){var r=be(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var s=320;i.hpx?s=Dy(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var c=0;i.level&&(c|=i.level),i.hidden&&(c|=16),(i.hpx||i.hpt)&&(c|=32),r.write_shift(1,c),r.write_shift(1,0);var u=0,h=r.l;r.l+=4;for(var p={r:e,c:0},g=0;g<16;++g)if(!(t.s.c>g+1<<10||t.e.c<g<<10)){for(var x=-1,b=-1,_=g<<10;_<g+1<<10;++_){p.c=_;var S=Array.isArray(n)?(n[p.r]||[])[p.c]:n[ut(p)];S&&(x<0&&(x=_),b=_)}x<0||(++u,r.write_shift(4,x),r.write_shift(4,b))}var E=r.l;return r.l=h,r.write_shift(4,u),r.l=E,r.length>r.l?r.slice(0,r.l):r}function cY(e,t,n,r){var i=lY(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&Ce(e,0,i)}var uY=a0,fY=ng;function hY(){}function dY(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=gV(e),n}function pY(e,t,n){n==null&&(n=be(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return H_({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),W3(e,n),n.slice(0,n.l)}function mY(e){var t=Qs(e);return[t]}function gY(e,t,n){return n==null&&(n=be(8)),n0(t,n)}function vY(e){var t=r0(e);return[t]}function xY(e,t,n){return n==null&&(n=be(4)),i0(t,n)}function yY(e){var t=Qs(e),n=e.read_shift(1);return[t,n,"b"]}function bY(e,t,n){return n==null&&(n=be(9)),n0(t,n),n.write_shift(1,e.v?1:0),n}function wY(e){var t=r0(e),n=e.read_shift(1);return[t,n,"b"]}function _Y(e,t,n){return n==null&&(n=be(5)),i0(t,n),n.write_shift(1,e.v?1:0),n}function EY(e){var t=Qs(e),n=e.read_shift(1);return[t,n,"e"]}function SY(e,t,n){return n==null&&(n=be(9)),n0(t,n),n.write_shift(1,e.v),n}function TY(e){var t=r0(e),n=e.read_shift(1);return[t,n,"e"]}function AY(e,t,n){return n==null&&(n=be(8)),i0(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function kY(e){var t=Qs(e),n=e.read_shift(4);return[t,n,"s"]}function NY(e,t,n){return n==null&&(n=be(12)),n0(t,n),n.write_shift(4,t.v),n}function CY(e){var t=r0(e),n=e.read_shift(4);return[t,n,"s"]}function RY(e,t,n){return n==null&&(n=be(8)),i0(t,n),n.write_shift(4,t.v),n}function DY(e){var t=Qs(e),n=Bi(e);return[t,n,"n"]}function IY(e,t,n){return n==null&&(n=be(16)),n0(t,n),Vd(e.v,n),n}function QM(e){var t=r0(e),n=Bi(e);return[t,n,"n"]}function OY(e,t,n){return n==null&&(n=be(12)),i0(t,n),Vd(e.v,n),n}function FY(e){var t=Qs(e),n=gk(e);return[t,n,"n"]}function MY(e,t,n){return n==null&&(n=be(12)),n0(t,n),X3(e.v,n),n}function LY(e){var t=r0(e),n=gk(e);return[t,n,"n"]}function jY(e,t,n){return n==null&&(n=be(8)),i0(t,n),X3(e.v,n),n}function PY(e){var t=Qs(e),n=dk(e);return[t,n,"is"]}function BY(e){var t=Qs(e),n=Hi(e);return[t,n,"str"]}function UY(e,t,n){return n==null&&(n=be(12+4*e.v.length)),n0(t,n),Kr(e.v,n),n.length>n.l?n.slice(0,n.l):n}function zY(e){var t=r0(e),n=Hi(e);return[t,n,"str"]}function VY(e,t,n){return n==null&&(n=be(8+4*e.v.length)),i0(t,n),Kr(e.v,n),n.length>n.l?n.slice(0,n.l):n}function HY(e,t,n){var r=e.l+t,i=Qs(e);i.r=n["!row"];var s=e.read_shift(1),c=[i,s,"b"];if(n.cellFormula){e.l+=2;var u=ZE(e,r-e.l,n);c[3]=Mi(u,null,i,n.supbooks,n)}else e.l=r;return c}function qY(e,t,n){var r=e.l+t,i=Qs(e);i.r=n["!row"];var s=e.read_shift(1),c=[i,s,"e"];if(n.cellFormula){e.l+=2;var u=ZE(e,r-e.l,n);c[3]=Mi(u,null,i,n.supbooks,n)}else e.l=r;return c}function GY(e,t,n){var r=e.l+t,i=Qs(e);i.r=n["!row"];var s=Bi(e),c=[i,s,"n"];if(n.cellFormula){e.l+=2;var u=ZE(e,r-e.l,n);c[3]=Mi(u,null,i,n.supbooks,n)}else e.l=r;return c}function WY(e,t,n){var r=e.l+t,i=Qs(e);i.r=n["!row"];var s=Hi(e),c=[i,s,"str"];if(n.cellFormula){e.l+=2;var u=ZE(e,r-e.l,n);c[3]=Mi(u,null,i,n.supbooks,n)}else e.l=r;return c}var XY=a0,KY=ng;function YY(e,t){return t==null&&(t=be(4)),t.write_shift(4,e),t}function $Y(e,t){var n=e.l+t,r=a0(e),i=pk(e),s=Hi(e),c=Hi(e),u=Hi(e);e.l=n;var h={rfx:r,relId:i,loc:s,display:u};return c&&(h.Tooltip=c),h}function QY(e,t){var n=be(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));ng({s:Qn(e[0]),e:Qn(e[0])},n),mk("rId"+t,n);var r=e[1].Target.indexOf("#"),i=r==-1?"":e[1].Target.slice(r+1);return Kr(i||"",n),Kr(e[1].Tooltip||"",n),Kr("",n),n.slice(0,n.l)}function JY(){}function ZY(e,t,n){var r=e.l+t,i=K3(e),s=e.read_shift(1),c=[i];if(c[2]=s,n.cellFormula){var u=EK(e,r-e.l,n);c[1]=u}else e.l=r;return c}function e$(e,t,n){var r=e.l+t,i=a0(e),s=[i];if(n.cellFormula){var c=TK(e,r-e.l,n);s[1]=c,e.l=r}else e.l=r;return s}function t$(e,t,n){n==null&&(n=be(18));var r=eS(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}var JM=["left","right","top","bottom","header","footer"];function n$(e){var t={};return JM.forEach(function(n){t[n]=Bi(e)}),t}function r$(e,t){return t==null&&(t=be(48)),Dd(e),JM.forEach(function(n){Vd(e[n],t)}),t}function i$(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function a$(e,t,n){n==null&&(n=be(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function s$(e){var t=be(24);return t.write_shift(4,4),t.write_shift(4,1),ng(e,t),t}function o$(e,t){return t==null&&(t=be(66)),t.write_shift(2,e.password?_k(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function l$(){}function c$(){}function u$(e,t,n,r,i,s,c){if(!e)return e;var u=t||{};r||(r={"!id":{}});var h=u.dense?[]:{},p,g={s:{r:2e6,c:2e6},e:{r:0,c:0}},x=!1,b=!1,_,S,E,T,k,R,A,O,I,M=[];u.biff=12,u["!row"]=0;var C=0,z=!1,B=[],re={},te=u.supbooks||i.supbooks||[[]];if(te.sharedf=re,te.arrayf=B,te.SheetNames=i.SheetNames||i.Sheets.map(function(Ee){return Ee.name}),!u.supbooks&&(u.supbooks=te,i.Names))for(var Z=0;Z<i.Names.length;++Z)te[0][Z+1]=i.Names[Z];var xe=[],De=[],ve=!1;Iy[16]={n:"BrtShortReal",f:QM};var ee;if(Yc(e,function(ne,Ie,j){if(!b)switch(j){case 148:p=ne;break;case 0:_=ne,u.sheetRows&&u.sheetRows<=_.r&&(b=!0),O=mr(T=_.r),u["!row"]=_.r,(ne.hidden||ne.hpt||ne.level!=null)&&(ne.hpt&&(ne.hpx=Pm(ne.hpt)),De[ne.r]=ne);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(S={t:ne[2]},ne[2]){case"n":S.v=ne[1];break;case"s":A=Xx[ne[1]],S.v=A.t,S.r=A.r;break;case"b":S.v=!!ne[1];break;case"e":S.v=ne[1],u.cellText!==!1&&(S.w=$c[S.v]);break;case"str":S.t="s",S.v=ne[1];break;case"is":S.t="s",S.v=ne[1].t;break}if((E=c.CellXf[ne[0].iStyleRef])&&KM(S,E.numFmtId,null,u,s,c),k=ne[0].c==-1?k+1:ne[0].c,u.dense?(h[T]||(h[T]=[]),h[T][k]=S):h[$n(k)+O]=S,u.cellFormula){for(z=!1,C=0;C<B.length;++C){var F=B[C];_.r>=F[0].s.r&&_.r<=F[0].e.r&&k>=F[0].s.c&&k<=F[0].e.c&&(S.F=bt(F[0]),z=!0)}!z&&ne.length>3&&(S.f=ne[3])}if(g.s.r>_.r&&(g.s.r=_.r),g.s.c>k&&(g.s.c=k),g.e.r<_.r&&(g.e.r=_.r),g.e.c<k&&(g.e.c=k),u.cellDates&&E&&S.t=="n"&&Zm(ct[E.numFmtId])){var V=Ed(S.v);V&&(S.t="d",S.v=new Date(V.y,V.m-1,V.d,V.H,V.M,V.S,V.u))}ee&&(ee.type=="XLDAPR"&&(S.D=!0),ee=void 0);break;case 1:case 12:if(!u.sheetStubs||x)break;S={t:"z",v:void 0},k=ne[0].c==-1?k+1:ne[0].c,u.dense?(h[T]||(h[T]=[]),h[T][k]=S):h[$n(k)+O]=S,g.s.r>_.r&&(g.s.r=_.r),g.s.c>k&&(g.s.c=k),g.e.r<_.r&&(g.e.r=_.r),g.e.c<k&&(g.e.c=k),ee&&(ee.type=="XLDAPR"&&(S.D=!0),ee=void 0);break;case 176:M.push(ne);break;case 49:ee=((u.xlmeta||{}).Cell||[])[ne-1];break;case 494:var H=r["!id"][ne.relId];for(H?(ne.Target=H.Target,ne.loc&&(ne.Target+="#"+ne.loc),ne.Rel=H):ne.relId==""&&(ne.Target="#"+ne.loc),T=ne.rfx.s.r;T<=ne.rfx.e.r;++T)for(k=ne.rfx.s.c;k<=ne.rfx.e.c;++k)u.dense?(h[T]||(h[T]=[]),h[T][k]||(h[T][k]={t:"z",v:void 0}),h[T][k].l=ne):(R=ut({c:k,r:T}),h[R]||(h[R]={t:"z",v:void 0}),h[R].l=ne);break;case 426:if(!u.cellFormula)break;B.push(ne),I=u.dense?h[T][k]:h[$n(k)+O],I.f=Mi(ne[1],g,{r:_.r,c:k},te,u),I.F=bt(ne[0]);break;case 427:if(!u.cellFormula)break;re[ut(ne[0].s)]=ne[1],I=u.dense?h[T][k]:h[$n(k)+O],I.f=Mi(ne[1],g,{r:_.r,c:k},te,u);break;case 60:if(!u.cellStyles)break;for(;ne.e>=ne.s;)xe[ne.e--]={width:ne.w/256,hidden:!!(ne.flags&1),level:ne.level},ve||(ve=!0,Ek(ne.w/256)),wf(xe[ne.e+1]);break;case 161:h["!autofilter"]={ref:bt(ne)};break;case 476:h["!margins"]=ne;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),ne.name&&(i.Sheets[n].CodeName=ne.name),(ne.above||ne.left)&&(h["!outline"]={above:ne.above,left:ne.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ne.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:x=!0;break;case 36:x=!1;break;case 37:x=!0;break;case 38:x=!1;break;default:if(!Ie.T){if(!x||u.WTF)throw new Error("Unexpected record 0x"+j.toString(16))}}},u),delete u.supbooks,delete u["!row"],!h["!ref"]&&(g.s.r<2e6||p&&(p.e.r>0||p.e.c>0||p.s.r>0||p.s.c>0))&&(h["!ref"]=bt(p||g)),u.sheetRows&&h["!ref"]){var J=qt(h["!ref"]);u.sheetRows<=+J.e.r&&(J.e.r=u.sheetRows-1,J.e.r>g.e.r&&(J.e.r=g.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>g.e.c&&(J.e.c=g.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),h["!fullref"]=h["!ref"],h["!ref"]=bt(J))}return M.length>0&&(h["!merges"]=M),xe.length>0&&(h["!cols"]=xe),De.length>0&&(h["!rows"]=De),h}function f$(e,t,n,r,i,s,c){if(t.v===void 0)return!1;var u="";switch(t.t){case"b":u=t.v?"1":"0";break;case"d":t=Mn(t),t.z=t.z||ct[14],t.v=Pr(Fn(t.v)),t.t="n";break;case"n":case"e":u=""+t.v;break;default:u=t.v;break}var h={r:n,c:r};switch(h.s=Ff(i.cellXfs,t,i),t.l&&s["!links"].push([ut(h),t.l]),t.c&&s["!comments"].push([ut(h),t.c]),t.t){case"s":case"str":return i.bookSST?(u=Nk(i.Strings,t.v,i.revStrings),h.t="s",h.v=u,c?Ce(e,18,RY(t,h)):Ce(e,7,NY(t,h))):(h.t="str",c?Ce(e,17,VY(t,h)):Ce(e,6,UY(t,h))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?c?Ce(e,13,jY(t,h)):Ce(e,2,MY(t,h)):c?Ce(e,16,OY(t,h)):Ce(e,5,IY(t,h)),!0;case"b":return h.t="b",c?Ce(e,15,_Y(t,h)):Ce(e,4,bY(t,h)),!0;case"e":return h.t="e",c?Ce(e,14,AY(t,h)):Ce(e,3,SY(t,h)),!0}return c?Ce(e,12,xY(t,h)):Ce(e,1,gY(t,h)),!0}function h$(e,t,n,r){var i=qt(t["!ref"]||"A1"),s,c="",u=[];Ce(e,145);var h=Array.isArray(t),p=i.e.r;t["!rows"]&&(p=Math.max(i.e.r,t["!rows"].length-1));for(var g=i.s.r;g<=p;++g){c=mr(g),cY(e,t,i,g);var x=!1;if(g<=i.e.r)for(var b=i.s.c;b<=i.e.c;++b){g===i.s.r&&(u[b]=$n(b)),s=u[b]+c;var _=h?(t[g]||[])[b]:t[s];if(!_){x=!1;continue}x=f$(e,_,g,b,r,t,x)}}Ce(e,146)}function d$(e,t){!t||!t["!merges"]||(Ce(e,177,YY(t["!merges"].length)),t["!merges"].forEach(function(n){Ce(e,176,KY(n))}),Ce(e,178))}function p$(e,t){!t||!t["!cols"]||(Ce(e,390),t["!cols"].forEach(function(n,r){n&&Ce(e,60,t$(r,n))}),Ce(e,391))}function m$(e,t){!t||!t["!ref"]||(Ce(e,648),Ce(e,649,s$(qt(t["!ref"]))),Ce(e,650))}function g$(e,t,n){t["!links"].forEach(function(r){if(r[1].Target){var i=fn(n,-1,r[1].Target.replace(/#.*$/,""),Ot.HLINK);Ce(e,494,QY(r,i))}}),delete t["!links"]}function v$(e,t,n,r){if(t["!comments"].length>0){var i=fn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Ot.VML);Ce(e,551,mk("rId"+i)),t["!legacy"]=i}}function x$(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],s=typeof i.ref=="string"?i.ref:bt(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var c=n.Workbook.Names,u=Ba(s);u.s.r==u.e.r&&(u.e.r=Ba(t["!ref"]).e.r,s=bt(u));for(var h=0;h<c.length;++h){var p=c[h];if(p.Name=="_xlnm._FilterDatabase"&&p.Sheet==r){p.Ref="'"+n.SheetNames[r]+"'!"+s;break}}h==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Ce(e,161,ng(qt(s))),Ce(e,162)}}function y$(e,t,n){Ce(e,133),Ce(e,137,a$(t,n)),Ce(e,138),Ce(e,134)}function b$(e,t){t["!protect"]&&Ce(e,535,o$(t["!protect"]))}function w$(e,t,n,r){var i=La(),s=n.SheetNames[e],c=n.Sheets[s]||{},u=s;try{n&&n.Workbook&&(u=n.Workbook.Sheets[e].CodeName||u)}catch{}var h=qt(c["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return c["!links"]=[],c["!comments"]=[],Ce(i,129),(n.vbaraw||c["!outline"])&&Ce(i,147,pY(u,c["!outline"])),Ce(i,148,fY(h)),y$(i,c,n.Workbook),p$(i,c),h$(i,c,e,t),b$(i,c),x$(i,c,n,e),d$(i,c),g$(i,c,r),c["!margins"]&&Ce(i,476,r$(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&m$(i,c),v$(i,c,e,r),Ce(i,130),i.end()}function _$(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var c=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);c&&(t[+c[1]]=n?+c[2]:c[2])});var i=Vt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[t,i,r]}function E$(e,t,n,r,i,s){var c=s||{"!type":"chart"};if(!e)return s;var u=0,h=0,p="A",g={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(x){var b=_$(x);g.s.r=g.s.c=0,g.e.c=u,p=$n(u),b[0].forEach(function(_,S){c[p+mr(S)]={t:"n",v:_,z:b[1]},h=S}),g.e.r<h&&(g.e.r=h),++u}),u>0&&(c["!ref"]=bt(g)),c}function S$(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},c,u=e.match(YM);return u&&Ck(u[0],s,i,n),(c=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=c[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function T$(e,t){e.l+=10;var n=Hi(e);return{name:n}}function A$(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},c=!1;return Yc(e,function(h,p,g){switch(g){case 550:s["!rel"]=h;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),h.name&&(i.Sheets[n].CodeName=h.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:c=!0;break;case 36:c=!1;break;case 37:break;case 38:break;default:if(!(p.T>0)){if(!(p.T<0)){if(!c||t.WTF)throw new Error("Unexpected record 0x"+g.toString(16))}}}},t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var Rk=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],k$=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],N$=[],C$=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Y4(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var s=t[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=On(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function $4(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=On(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function ZM(e){$4(e.WBProps,Rk),$4(e.CalcPr,C$),Y4(e.WBView,k$),Y4(e.Sheets,N$),pm.date1904=On(e.WBProps.date1904)}function R$(e){return!e.Workbook||!e.Workbook.WBProps?"false":On(e.Workbook.WBProps.date1904)?"true":"false"}var D$="][*?/\\".split("");function eL(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return D$.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function I$(e,t,n){e.forEach(function(r,i){eL(r);for(var s=0;s<i;++s)if(r==e[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var c=t&&t[i]&&t[i].CodeName||r;if(c.charCodeAt(0)==95&&c.length>22)throw new Error("Bad Code Name: Worksheet"+c)}})}function O$(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];I$(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)RK(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}var F$=/<\w+:workbook/;function M$(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},c=0;if(e.replace(Xi,function(h,p){var g=ht(h);switch(zl(g[0])){case"<?xml":break;case"<workbook":h.match(F$)&&(i="xmlns"+h.match(/<(\w+):/)[1]),n.xmlns=g[i];break;case"</workbook>":break;case"<fileVersion":delete g[0],n.AppVersion=g;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Rk.forEach(function(x){if(g[x[0]]!=null)switch(x[2]){case"bool":n.WBProps[x[0]]=On(g[x[0]]);break;case"int":n.WBProps[x[0]]=parseInt(g[x[0]],10);break;default:n.WBProps[x[0]]=g[x[0]]}}),g.codeName&&(n.WBProps.CodeName=yn(g.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete g[0],n.WBView.push(g);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(g.state){case"hidden":g.Hidden=1;break;case"veryHidden":g.Hidden=2;break;default:g.Hidden=0}delete g.state,g.name=Vt(yn(g.name)),delete g[0],n.Sheets.push(g);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=yn(g.name),g.comment&&(s.Comment=g.comment),g.localSheetId&&(s.Sheet=+g.localSheetId),On(g.hidden||"0")&&(s.Hidden=!0),c=p+h.length;break;case"</definedName>":s.Ref=Vt(yn(e.slice(c,p))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete g[0],n.CalcPr=g;break;case"<calcPr/>":delete g[0],n.CalcPr=g;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+g[0]+" in workbook")}return h}),t0.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return ZM(n),n}function tL(e){var t=[gr];t[t.length]=Be("workbook",null,{xmlns:t0[0],"xmlns:r":Fr.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Rk.forEach(function(u){e.Workbook.WBProps[u[0]]!=null&&e.Workbook.WBProps[u[0]]!=u[1]&&(r[u[0]]=e.Workbook.WBProps[u[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Be("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var c={name:pn(e.SheetNames[s].slice(0,31))};if(c.sheetId=""+(s+1),c["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:c.state="hidden";break;case 2:c.state="veryHidden";break}t[t.length]=Be("sheet",null,c)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(u){var h={name:u.Name};u.Comment&&(h.comment=u.Comment),u.Sheet!=null&&(h.localSheetId=""+u.Sheet),u.Hidden&&(h.hidden="1"),u.Ref&&(t[t.length]=Be("definedName",pn(u.Ref),h))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function L$(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=r2(e),n.name=Hi(e),n}function j$(e,t){return t||(t=be(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),mk(e.strRelID,t),Kr(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function P$(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?Hi(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function B$(e,t){t||(t=be(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),W3(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function U$(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function z$(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=vV(e),c=SK(e,0,n),u=pk(e);e.l=r;var h={Name:s,Ptg:c};return i<268435455&&(h.Sheet=i),u&&(h.Comment=u),h}function V$(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var s=[],c=[[]];return c.SheetNames=[],c.XTI=[],Iy[16]={n:"BrtFRTArchID$",f:U$},Yc(e,function(h,p,g){switch(g){case 156:c.SheetNames.push(h.name),n.Sheets.push(h);break;case 153:n.WBProps=h;break;case 39:h.Sheet!=null&&(t.SID=h.Sheet),h.Ref=Mi(h.Ptg,null,null,c,t),delete t.SID,delete h.Ptg,s.push(h);break;case 1036:break;case 357:case 358:case 355:case 667:c[0].length?c.push([g,h]):c[0]=[g,h],c[c.length-1].XTI=[];break;case 362:c.length===0&&(c[0]=[],c[0].XTI=[]),c[c.length-1].XTI=c[c.length-1].XTI.concat(h),c.XTI=c.XTI.concat(h);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(g),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(g),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!p.T){if(!i||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+g.toString(16))}}},t),ZM(n),n.Names=s,n.supbooks=c,n}function H$(e,t){Ce(e,143);for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};Ce(e,156,j$(i))}Ce(e,144)}function q$(e,t){t||(t=be(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return Kr("SheetJS",t),Kr(L_.version,t),Kr(L_.version,t),Kr("7262",t),t.length>t.l?t.slice(0,t.l):t}function G$(e,t){t||(t=be(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function W$(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(Ce(e,135),Ce(e,158,G$(i)),Ce(e,136))}}function X$(e,t){var n=La();return Ce(n,131),Ce(n,128,q$()),Ce(n,153,B$(e.Workbook&&e.Workbook.WBProps||null)),W$(n,e),H$(n,e),Ce(n,132),n.end()}function K$(e,t,n){return t.slice(-4)===".bin"?V$(e,n):M$(e,n)}function Y$(e,t,n,r,i,s,c,u){return t.slice(-4)===".bin"?u$(e,r,n,i,s,c,u):zK(e,r,n,i,s,c,u)}function $$(e,t,n,r,i,s,c,u){return t.slice(-4)===".bin"?A$(e,r,n,i,s):S$(e,r,n,i,s)}function Q$(e,t,n,r,i,s,c,u){return t.slice(-4)===".bin"?ZW():eX()}function J$(e,t,n,r,i,s,c,u){return t.slice(-4)===".bin"?QW():JW()}function Z$(e,t,n,r){return t.slice(-4)===".bin"?KG(e,n,r):LG(e,n,r)}function eQ(e,t,n){return MM(e,n)}function tQ(e,t,n){return t.slice(-4)===".bin"?tG(e,n):Jq(e,n)}function nQ(e,t,n){return t.slice(-4)===".bin"?WW(e,n):jW(e,n)}function rQ(e,t,n){return t.slice(-4)===".bin"?FW(e):IW(e)}function iQ(e,t,n,r){return n.slice(-4)===".bin"?MW(e,t,n,r):void 0}function aQ(e,t,n){return t.slice(-4)===".bin"?CW(e,t,n):DW(e,t,n)}function sQ(e,t,n){return(t.slice(-4)===".bin"?X$:tL)(e)}function oQ(e,t,n,r,i){return(t.slice(-4)===".bin"?w$:$M)(e,n,r,i)}function lQ(e,t,n){return(t.slice(-4)===".bin"?iW:OM)(e,n)}function cQ(e,t,n){return(t.slice(-4)===".bin"?iG:TM)(e,n)}function uQ(e,t,n){return(t.slice(-4)===".bin"?XW:PM)(e)}function fQ(e){return(e.slice(-4)===".bin"?RW:LM)()}var nL=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,rL=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Do(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=e.match(nL),s,c,u,h;if(i)for(h=0;h!=i.length;++h)s=i[h].match(rL),(c=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?u="xmlns"+s[1].slice(6):u=s[1].slice(c+1),r[u]=s[2].slice(1,s[2].length-1));return r}function hQ(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(nL),i,s,c,u;if(r)for(u=0;u!=r.length;++u)i=r[u].match(rL),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?c="xmlns"+i[1].slice(6):c=i[1].slice(s+1),n[c]=i[2].slice(1,i[2].length-1));return n}var Yx;function dQ(e,t){var n=Yx[e]||Vt(e);return n==="General"?Ud(t):Ks(n,t)}function pQ(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=On(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=Fn(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[Vt(t)]=i}function mQ(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||$c[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ey(e.v):e.w=Ud(e.v):e.w=dQ(t||"General",e.v)}catch(s){if(n.WTF)throw s}try{var r=Yx[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&Zm(r)){var i=Ed(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function gQ(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=NG[r.Pattern]||r.Pattern)}e[t.ID]=t}function vQ(e,t,n,r,i,s,c,u,h,p){var g="General",x=r.StyleID,b={};p=p||{};var _=[],S=0;for(x===void 0&&u&&(x=u.StyleID),x===void 0&&c&&(x=c.StyleID);s[x]!==void 0&&(s[x].nf&&(g=s[x].nf),s[x].Interior&&_.push(s[x].Interior),!!s[x].Parent);)x=s[x].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=On(e);break;case"String":r.t="s",r.r=d4(Vt(e)),r.v=e.indexOf("<")>-1?Vt(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(Fn(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Vt(e):r.v<60&&(r.v=r.v-1),(!g||g=="General")&&(g="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=Q3[e],p.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=d4(t||e));break}if(mQ(r,g,p),p.cellFormula!==!1)if(r.Formula){var E=Vt(r.Formula);E.charCodeAt(0)==61&&(E=E.slice(1)),r.f=dm(E,i),delete r.Formula,r.ArrayRange=="RC"?r.F=dm("RC:RC",i):r.ArrayRange&&(r.F=dm(r.ArrayRange,i),h.push([qt(r.F),r.F]))}else for(S=0;S<h.length;++S)i.r>=h[S][0].s.r&&i.r<=h[S][0].e.r&&i.c>=h[S][0].s.c&&i.c<=h[S][0].e.c&&(r.F=h[S][1]);p.cellStyles&&(_.forEach(function(T){!b.patternType&&T.patternType&&(b.patternType=T.patternType)}),r.s=b),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function xQ(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function oT(e,t){var n=t||{};eg();var r=kx(lk(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=yn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var c=Mn(n);return c.type="string",jm.to_workbook(r,c)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(En){i.indexOf("<"+En)>=0&&(s=!0)}),s)return rJ(r,n);Yx={"General Number":"General","General Date":ct[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ct[15],"Short Date":ct[14],"Long Time":ct[19],"Medium Time":ct[18],"Short Time":ct[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ct[2],Standard:ct[4],Percent:ct[10],Scientific:ct[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var u,h=[],p,g={},x=[],b=n.dense?[]:{},_="",S={},E={},T=Do('<Data ss:Type="String">'),k=0,R=0,A=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},I={},M={},C="",z=0,B=[],re={},te={},Z=0,xe=[],De=[],ve={},ee=[],J,Ee=!1,ne=[],Ie=[],j={},F=0,V=0,H={Sheets:[],WBProps:{date1904:!1}},W={};Ay.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var se="";u=Ay.exec(r);)switch(u[3]=(se=u[3]).toLowerCase()){case"data":if(se=="data"){if(u[1]==="/"){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&h.push([u[3],!0]);break}if(h[h.length-1][1])break;u[1]==="/"?vQ(r.slice(k,u.index),C,T,h[h.length-1][0]=="comment"?ve:S,{c:R,r:A},I,ee[R],E,ne,n):(C="",T=Do(u[0]),k=u.index+u[0].length);break;case"cell":if(u[1]==="/")if(De.length>0&&(S.c=De),(!n.sheetRows||n.sheetRows>A)&&S.v!==void 0&&(n.dense?(b[A]||(b[A]=[]),b[A][R]=S):b[$n(R)+mr(A)]=S),S.HRef&&(S.l={Target:Vt(S.HRef)},S.HRefScreenTip&&(S.l.Tooltip=S.HRefScreenTip),delete S.HRef,delete S.HRefScreenTip),(S.MergeAcross||S.MergeDown)&&(F=R+(parseInt(S.MergeAcross,10)|0),V=A+(parseInt(S.MergeDown,10)|0),B.push({s:{c:R,r:A},e:{c:F,r:V}})),!n.sheetStubs)S.MergeAcross?R=F+1:++R;else if(S.MergeAcross||S.MergeDown){for(var we=R;we<=F;++we)for(var Ne=A;Ne<=V;++Ne)(we>R||Ne>A)&&(n.dense?(b[Ne]||(b[Ne]=[]),b[Ne][we]={t:"z"}):b[$n(we)+mr(Ne)]={t:"z"});R=F+1}else++R;else S=hQ(u[0]),S.Index&&(R=+S.Index-1),R<O.s.c&&(O.s.c=R),R>O.e.c&&(O.e.c=R),u[0].slice(-2)==="/>"&&++R,De=[];break;case"row":u[1]==="/"||u[0].slice(-2)==="/>"?(A<O.s.r&&(O.s.r=A),A>O.e.r&&(O.e.r=A),u[0].slice(-2)==="/>"&&(E=Do(u[0]),E.Index&&(A=+E.Index-1)),R=0,++A):(E=Do(u[0]),E.Index&&(A=+E.Index-1),j={},(E.AutoFitHeight=="0"||E.Height)&&(j.hpx=parseInt(E.Height,10),j.hpt=Dy(j.hpx),Ie[A]=j),E.Hidden=="1"&&(j.hidden=!0,Ie[A]=j));break;case"worksheet":if(u[1]==="/"){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));x.push(_),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(b["!ref"]=bt(O),n.sheetRows&&n.sheetRows<=O.e.r&&(b["!fullref"]=b["!ref"],O.e.r=n.sheetRows-1,b["!ref"]=bt(O))),B.length&&(b["!merges"]=B),ee.length>0&&(b["!cols"]=ee),Ie.length>0&&(b["!rows"]=Ie),g[_]=b}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=R=0,h.push([u[3],!1]),p=Do(u[0]),_=Vt(p.Name),b=n.dense?[]:{},B=[],ne=[],Ie=[],W={name:_,Hidden:0},H.Sheets.push(W);break;case"table":if(u[1]==="/"){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else{if(u[0].slice(-2)=="/>")break;h.push([u[3],!1]),ee=[],Ee=!1}break;case"style":u[1]==="/"?gQ(I,M,n):M=Do(u[0]);break;case"numberformat":M.nf=Vt(Do(u[0]).Format||"General"),Yx[M.nf]&&(M.nf=Yx[M.nf]);for(var Te=0;Te!=392&&ct[Te]!=M.nf;++Te);if(Te==392){for(Te=57;Te!=392;++Te)if(ct[Te]==null){Uc(M.nf,Te);break}}break;case"column":if(h[h.length-1][0]!=="table")break;if(J=Do(u[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!Ee&&J.wpx>10){Ee=!0,Pi=DM;for(var Re=0;Re<ee.length;++Re)ee[Re]&&wf(ee[Re])}Ee&&wf(J),ee[J.Index-1||ee.length]=J;for(var rt=0;rt<+J.Span;++rt)ee[ee.length]=Mn(J);break;case"namedrange":if(u[1]==="/")break;H.Names||(H.Names=[]);var Q=ht(u[0]),St={Name:Q.Name,Ref:dm(Q.RefersTo.slice(1),{r:0,c:0})};H.Sheets.length>0&&(St.Sheet=H.Sheets.length-1),H.Names.push(St);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(u[0].slice(-2)==="/>")break;u[1]==="/"?C+=r.slice(z,u.index):z=u.index+u[0].length;break;case"interior":if(!n.cellStyles)break;M.Interior=Do(u[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(u[0].slice(-2)==="/>")break;u[1]==="/"?VV(re,se,r.slice(Z,u.index)):Z=u.index+u[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(u[1]==="/"){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else h.push([u[3],!1]);break;case"comment":if(u[1]==="/"){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));xQ(ve),De.push(ve)}else h.push([u[3],!1]),p=Do(u[0]),ve={a:p.Author};break;case"autofilter":if(u[1]==="/"){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else if(u[0].charAt(u[0].length-2)!=="/"){var pt=Do(u[0]);b["!autofilter"]={ref:dm(pt.Range).replace(/\$/g,"")},h.push([u[3],!0])}break;case"name":break;case"datavalidation":if(u[1]==="/"){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&h.push([u[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(u[1]==="/"){if((p=h.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&h.push([u[3],!0]);break;case"null":break;default:if(h.length==0&&u[3]=="document"||h.length==0&&u[3]=="uof")return tR(r,n);var At=!0;switch(h[h.length-1][0]){case"officedocumentsettings":switch(u[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:At=!1}break;case"componentoptions":switch(u[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:At=!1}break;case"excelworkbook":switch(u[3]){case"date1904":H.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:At=!1}break;case"workbookoptions":switch(u[3]){case"owcversion":break;case"height":break;case"width":break;default:At=!1}break;case"worksheetoptions":switch(u[3]){case"visible":if(u[0].slice(-2)!=="/>")if(u[1]==="/")switch(r.slice(Z,u.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else Z=u.index+u[0].length;break;case"header":b["!margins"]||Dd(b["!margins"]={},"xlml"),isNaN(+ht(u[0]).Margin)||(b["!margins"].header=+ht(u[0]).Margin);break;case"footer":b["!margins"]||Dd(b["!margins"]={},"xlml"),isNaN(+ht(u[0]).Margin)||(b["!margins"].footer=+ht(u[0]).Margin);break;case"pagemargins":var gt=ht(u[0]);b["!margins"]||Dd(b["!margins"]={},"xlml"),isNaN(+gt.Top)||(b["!margins"].top=+gt.Top),isNaN(+gt.Left)||(b["!margins"].left=+gt.Left),isNaN(+gt.Right)||(b["!margins"].right=+gt.Right),isNaN(+gt.Bottom)||(b["!margins"].bottom=+gt.Bottom);break;case"displayrighttoleft":H.Views||(H.Views=[]),H.Views[0]||(H.Views[0]={}),H.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":b["!outline"]||(b["!outline"]={}),b["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":b["!outline"]||(b["!outline"]={}),b["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:At=!1}break;case"pivottable":case"pivotcache":switch(u[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:At=!1}break;case"pagebreaks":switch(u[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:At=!1}break;case"autofilter":switch(u[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:At=!1}break;case"querytable":switch(u[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:At=!1}break;case"datavalidation":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:At=!1}break;case"sorting":case"conditionalformatting":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:At=!1}break;case"mapinfo":case"schema":case"data":switch(u[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:At=!1}break;case"smarttags":break;default:At=!1;break}if(At||u[3].match(/!\[CDATA/))break;if(!h[h.length-1][1])throw"Unrecognized tag: "+u[3]+"|"+h.join("|");if(h[h.length-1][0]==="customdocumentproperties"){if(u[0].slice(-2)==="/>")break;u[1]==="/"?pQ(te,se,xe,r.slice(Z,u.index)):(xe=u,Z=u.index+u[0].length);break}if(n.WTF)throw"Unrecognized tag: "+u[3]+"|"+h.join("|")}var He={};return!n.bookSheets&&!n.bookProps&&(He.Sheets=g),He.SheetNames=x,He.Workbook=H,He.SSF=Mn(ct),He.Props=re,He.Custprops=te,He}function u2(e,t){switch(Ik(t=t||{}),t.type||"base64"){case"base64":return oT(gs(e),t);case"binary":case"buffer":case"file":return oT(e,t);case"array":return oT(If(e),t)}}function yQ(e,t){var n=[];return e.Props&&n.push(HV(e.Props,t)),e.Custprops&&n.push(qV(e.Props,e.Custprops)),n.join("")}function bQ(){return""}function wQ(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,i){var s=[];s.push(Be("NumberFormat",null,{"ss:Format":pn(ct[r.numFmtId])}));var c={"ss:ID":"s"+(21+i)};n.push(Be("Style",s.join(""),c))}),Be("Styles",n.join(""))}function iL(e){return Be("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Ak(e.Ref,{r:0,c:0})})}function _Q(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(iL(i)))}return Be("Names",n.join(""))}function EQ(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],c=0;c<i.length;++c){var u=i[c];u.Sheet==n&&(u.Name.match(/^_xlfn\./)||s.push(iL(u)))}return s.join("")}function SQ(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(Be("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(Be("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(Be("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Be("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(fi("ProtectContents","True")),e["!protect"].objects&&i.push(fi("ProtectObjects","True")),e["!protect"].scenarios&&i.push(fi("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(fi("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(fi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(c){e["!protect"][c[0]]&&i.push("<"+c[1]+"/>")})),i.length==0?"":Be("WorksheetOptions",i.join(""),{xmlns:os.x})}function TQ(e){return e.map(function(t){var n=Wz(t.t||""),r=Be("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Be("Comment",r,{"ss:Author":t.a})}).join("")}function AQ(e,t,n,r,i,s,c){if(!e||e.v==null&&e.f==null)return"";var u={};if(e.f&&(u["ss:Formula"]="="+pn(Ak(e.f,c))),e.F&&e.F.slice(0,t.length)==t){var h=Qn(e.F.slice(t.length+1));u["ss:ArrayRange"]="RC:R"+(h.r==c.r?"":"["+(h.r-c.r)+"]")+"C"+(h.c==c.c?"":"["+(h.c-c.c)+"]")}if(e.l&&e.l.Target&&(u["ss:HRef"]=pn(e.l.Target),e.l.Tooltip&&(u["x:HRefScreenTip"]=pn(e.l.Tooltip))),n["!merges"])for(var p=n["!merges"],g=0;g!=p.length;++g)p[g].s.c!=c.c||p[g].s.r!=c.r||(p[g].e.c>p[g].s.c&&(u["ss:MergeAcross"]=p[g].e.c-p[g].s.c),p[g].e.r>p[g].s.r&&(u["ss:MergeDown"]=p[g].e.r-p[g].s.r));var x="",b="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":x="Number",b=String(e.v);break;case"b":x="Boolean",b=e.v?"1":"0";break;case"e":x="Error",b=$c[e.v];break;case"d":x="DateTime",b=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||ct[14]);break;case"s":x="String",b=Gz(e.v||"");break}var _=Ff(r.cellXfs,e,r);u["ss:StyleID"]="s"+(21+_),u["ss:Index"]=c.c+1;var S=e.v!=null?b:"",E=e.t=="z"?"":'<Data ss:Type="'+x+'">'+S+"</Data>";return(e.c||[]).length>0&&(E+=TQ(e.c)),Be("Cell",E,u)}function kQ(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Pm(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function NQ(e,t,n,r){if(!e["!ref"])return"";var i=qt(e["!ref"]),s=e["!merges"]||[],c=0,u=[];e["!cols"]&&e["!cols"].forEach(function(T,k){wf(T);var R=!!T.width,A=eS(k,T),O={"ss:Index":k+1};R&&(O["ss:Width"]=Cy(A.width)),T.hidden&&(O["ss:Hidden"]="1"),u.push(Be("Column",null,O))});for(var h=Array.isArray(e),p=i.s.r;p<=i.e.r;++p){for(var g=[kQ(p,(e["!rows"]||[])[p])],x=i.s.c;x<=i.e.c;++x){var b=!1;for(c=0;c!=s.length;++c)if(!(s[c].s.c>x)&&!(s[c].s.r>p)&&!(s[c].e.c<x)&&!(s[c].e.r<p)){(s[c].s.c!=x||s[c].s.r!=p)&&(b=!0);break}if(!b){var _={r:p,c:x},S=ut(_),E=h?(e[p]||[])[x]:e[S];g.push(AQ(E,S,e,t,n,r,_))}}g.push("</Row>"),g.length>2&&u.push(g.join(""))}return u.join("")}function CQ(e,t,n){var r=[],i=n.SheetNames[e],s=n.Sheets[i],c=s?EQ(s,t,e,n):"";return c.length>0&&r.push("<Names>"+c+"</Names>"),c=s?NQ(s,t,e,n):"",c.length>0&&r.push("<Table>"+c+"</Table>"),r.push(SQ(s,t,e,n)),r.join("")}function RQ(e,t){t||(t={}),e.SSF||(e.SSF=Mn(ct)),e.SSF&&(eg(),XE(e.SSF),t.revssf=YE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ff(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(yQ(e,t)),n.push(bQ()),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(Be("Worksheet",CQ(r,t,e),{"ss:Name":pn(e.SheetNames[r])}));return n[2]=wQ(e,t),n[3]=_Q(e),gr+Be("Workbook",n.join(""),{xmlns:os.ss,"xmlns:o":os.o,"xmlns:x":os.x,"xmlns:ss":os.ss,"xmlns:dt":os.dt,"xmlns:html":os.html})}function DQ(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=_V(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=EV(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var IQ=[60,1084,2066,2165,2175];function OQ(e,t,n,r,i){var s=r,c=[],u=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&u.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(u)}c.push(u),n.l+=s;for(var h=Oc(n,n.l),p=f2[h],g=0;p!=null&&IQ.indexOf(h)>-1;)s=Oc(n,n.l+2),g=n.l+4,h==2066?g+=4:(h==2165||h==2175)&&(g+=12),u=n.slice(g,n.l+4+s),c.push(u),n.l+=4+s,p=f2[h=Oc(n,n.l)];var x=Wr(c);ui(x,0);var b=0;x.lens=[];for(var _=0;_<c.length;++_)x.lens.push(b),b+=c[_].length;if(x.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+x.length+" < "+r;return t.f(x,x.length,i)}function Al(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=ct[r])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||$c[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ey(e.v):e.w=Ud(e.v):e.w=Ks(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&r&&e.t=="n"&&Zm(ct[r]||String(r))){var i=Ed(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Cw(e,t,n){return{v:e,ixfe:t,t:n}}function FQ(e,t){var n={opts:{}},r={},i=t.dense?[]:{},s={},c={},u=null,h=[],p="",g={},x,b="",_,S,E,T,k={},R=[],A,O,I=[],M=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},z={},B=function(vt){return vt<8?Nd[vt]:vt<64&&M[vt-8]||Nd[vt]},re=function(vt,Jt,Hn){var mn=Jt.XF.data;if(!(!mn||!mn.patternType||!Hn||!Hn.cellStyles)){Jt.s={},Jt.s.patternType=mn.patternType;var Mt;(Mt=Ny(B(mn.icvFore)))&&(Jt.s.fgColor={rgb:Mt}),(Mt=Ny(B(mn.icvBack)))&&(Jt.s.bgColor={rgb:Mt})}},te=function(vt,Jt,Hn){if(!(j>1)&&!(Hn.sheetRows&&vt.r>=Hn.sheetRows)){if(Hn.cellStyles&&Jt.XF&&Jt.XF.data&&re(vt,Jt,Hn),delete Jt.ixfe,delete Jt.XF,x=vt,b=ut(vt),(!c||!c.s||!c.e)&&(c={s:{r:0,c:0},e:{r:0,c:0}}),vt.r<c.s.r&&(c.s.r=vt.r),vt.c<c.s.c&&(c.s.c=vt.c),vt.r+1>c.e.r&&(c.e.r=vt.r+1),vt.c+1>c.e.c&&(c.e.c=vt.c+1),Hn.cellFormula&&Jt.f){for(var mn=0;mn<R.length;++mn)if(!(R[mn][0].s.c>vt.c||R[mn][0].s.r>vt.r)&&!(R[mn][0].e.c<vt.c||R[mn][0].e.r<vt.r)){Jt.F=bt(R[mn][0]),(R[mn][0].s.c!=vt.c||R[mn][0].s.r!=vt.r)&&delete Jt.f,Jt.f&&(Jt.f=""+Mi(R[mn][1],c,vt,ne,Z));break}}Hn.dense?(i[vt.r]||(i[vt.r]=[]),i[vt.r][vt.c]=Jt):i[b]=Jt}},Z={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:R,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(Z.password=t.password);var xe,De=[],ve=[],ee=[],J=[],Ee=!1,ne=[];ne.SheetNames=Z.snames,ne.sharedf=Z.sharedf,ne.arrayf=Z.arrayf,ne.names=[],ne.XTI=[];var Ie=0,j=0,F=0,V=[],H=[],W;Z.codepage=1200,Mo(1200);for(var se=!1;e.l<e.length-1;){var we=e.l,Ne=e.read_shift(2);if(Ne===0&&Ie===10)break;var Te=e.l===e.length?0:e.read_shift(2),Re=f2[Ne];if(Re&&Re.f){if(t.bookSheets&&Ie===133&&Ne!==133)break;if(Ie=Ne,Re.r===2||Re.r==12){var rt=e.read_shift(2);if(Te-=2,!Z.enc&&rt!==Ne&&((rt&255)<<8|rt>>8)!==Ne)throw new Error("rt mismatch: "+rt+"!="+Ne);Re.r==12&&(e.l+=10,Te-=10)}var Q={};if(Ne===10?Q=Re.f(e,Te,Z):Q=OQ(Ne,Re,e,Te,Z),j==0&&[9,521,1033,2057].indexOf(Ie)===-1)continue;switch(Ne){case 34:n.opts.Date1904=C.WBProps.date1904=Q;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(Z.enc||(e.l=0),Z.enc=Q,!t.password)throw new Error("File is password-protected");if(Q.valid==null)throw new Error("Encryption scheme unsupported");if(!Q.valid)throw new Error("Password is incorrect");break;case 92:Z.lastuser=Q;break;case 66:var St=Number(Q);switch(St){case 21010:St=1200;break;case 32768:St=1e4;break;case 32769:St=1252;break}Mo(Z.codepage=St),se=!0;break;case 317:Z.rrtabid=Q;break;case 25:Z.winlocked=Q;break;case 439:n.opts.RefreshAll=Q;break;case 12:n.opts.CalcCount=Q;break;case 16:n.opts.CalcDelta=Q;break;case 17:n.opts.CalcIter=Q;break;case 13:n.opts.CalcMode=Q;break;case 14:n.opts.CalcPrecision=Q;break;case 95:n.opts.CalcSaveRecalc=Q;break;case 15:Z.CalcRefMode=Q;break;case 2211:n.opts.FullCalc=Q;break;case 129:Q.fDialog&&(i["!type"]="dialog"),Q.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),Q.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:I.push(Q);break;case 430:ne.push([Q]),ne[ne.length-1].XTI=[];break;case 35:case 547:ne[ne.length-1].push(Q);break;case 24:case 536:W={Name:Q.Name,Ref:Mi(Q.rgce,c,null,ne,Z)},Q.itab>0&&(W.Sheet=Q.itab-1),ne.names.push(W),ne[0]||(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].push(Q),Q.Name=="_xlnm._FilterDatabase"&&Q.itab>0&&Q.rgce&&Q.rgce[0]&&Q.rgce[0][0]&&Q.rgce[0][0][0]=="PtgArea3d"&&(H[Q.itab-1]={ref:bt(Q.rgce[0][0][1][2])});break;case 22:Z.ExternCount=Q;break;case 23:ne.length==0&&(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].XTI=ne[ne.length-1].XTI.concat(Q),ne.XTI=ne.XTI.concat(Q);break;case 2196:if(Z.biff<8)break;W!=null&&(W.Comment=Q[1]);break;case 18:i["!protect"]=Q;break;case 19:Q!==0&&Z.WTF&&console.error("Password verifier: "+Q);break;case 133:s[Q.pos]=Q,Z.snames.push(Q.name);break;case 10:{if(--j)break;if(c.e){if(c.e.r>0&&c.e.c>0){if(c.e.r--,c.e.c--,i["!ref"]=bt(c),t.sheetRows&&t.sheetRows<=c.e.r){var pt=c.e.r;c.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=bt(c),c.e.r=pt}c.e.r++,c.e.c++}De.length>0&&(i["!merges"]=De),ve.length>0&&(i["!objects"]=ve),ee.length>0&&(i["!cols"]=ee),J.length>0&&(i["!rows"]=J),C.Sheets.push(z)}p===""?g=i:r[p]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(Z.biff===8&&(Z.biff={9:2,521:3,1033:4}[Ne]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Q.BIFFVer]||8),Z.biffguess=Q.BIFFVer==0,Q.BIFFVer==0&&Q.dt==4096&&(Z.biff=5,se=!0,Mo(Z.codepage=28591)),Z.biff==8&&Q.BIFFVer==0&&Q.dt==16&&(Z.biff=2),j++)break;if(i=t.dense?[]:{},Z.biff<8&&!se&&(se=!0,Mo(Z.codepage=t.codepage||1252)),Z.biff<5||Q.BIFFVer==0&&Q.dt==4096){p===""&&(p="Sheet1"),c={s:{r:0,c:0},e:{r:0,c:0}};var At={pos:e.l-Te,name:p};s[At.pos]=At,Z.snames.push(p)}else p=(s[we]||{name:""}).name;Q.dt==32&&(i["!type"]="chart"),Q.dt==64&&(i["!type"]="macro"),De=[],ve=[],Z.arrayf=R=[],ee=[],J=[],Ee=!1,z={Hidden:(s[we]||{hs:0}).hs,name:p}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[Q.r]||[])[Q.c]:i[ut({c:Q.c,r:Q.r})])&&++Q.c,A={ixfe:Q.ixfe,XF:I[Q.ixfe]||{},v:Q.val,t:"n"},F>0&&(A.z=V[A.ixfe>>8&63]),Al(A,t,n.opts.Date1904),te({c:Q.c,r:Q.r},A,t);break;case 5:case 517:A={ixfe:Q.ixfe,XF:I[Q.ixfe],v:Q.val,t:Q.t},F>0&&(A.z=V[A.ixfe>>8&63]),Al(A,t,n.opts.Date1904),te({c:Q.c,r:Q.r},A,t);break;case 638:A={ixfe:Q.ixfe,XF:I[Q.ixfe],v:Q.rknum,t:"n"},F>0&&(A.z=V[A.ixfe>>8&63]),Al(A,t,n.opts.Date1904),te({c:Q.c,r:Q.r},A,t);break;case 189:for(var gt=Q.c;gt<=Q.C;++gt){var He=Q.rkrec[gt-Q.c][0];A={ixfe:He,XF:I[He],v:Q.rkrec[gt-Q.c][1],t:"n"},F>0&&(A.z=V[A.ixfe>>8&63]),Al(A,t,n.opts.Date1904),te({c:gt,r:Q.r},A,t)}break;case 6:case 518:case 1030:{if(Q.val=="String"){u=Q;break}if(A=Cw(Q.val,Q.cell.ixfe,Q.tt),A.XF=I[A.ixfe],t.cellFormula){var En=Q.formula;if(En&&En[0]&&En[0][0]&&En[0][0][0]=="PtgExp"){var Br=En[0][0][1][0],gi=En[0][0][1][1],Ki=ut({r:Br,c:gi});k[Ki]?A.f=""+Mi(Q.formula,c,Q.cell,ne,Z):A.F=((t.dense?(i[Br]||[])[gi]:i[Ki])||{}).F}else A.f=""+Mi(Q.formula,c,Q.cell,ne,Z)}F>0&&(A.z=V[A.ixfe>>8&63]),Al(A,t,n.opts.Date1904),te(Q.cell,A,t),u=Q}break;case 7:case 519:if(u)u.val=Q,A=Cw(Q,u.cell.ixfe,"s"),A.XF=I[A.ixfe],t.cellFormula&&(A.f=""+Mi(u.formula,c,u.cell,ne,Z)),F>0&&(A.z=V[A.ixfe>>8&63]),Al(A,t,n.opts.Date1904),te(u.cell,A,t),u=null;else throw new Error("String record expects Formula");break;case 33:case 545:{R.push(Q);var Hl=ut(Q[0].s);if(_=t.dense?(i[Q[0].s.r]||[])[Q[0].s.c]:i[Hl],t.cellFormula&&_){if(!u||!Hl||!_)break;_.f=""+Mi(Q[1],c,Q[0],ne,Z),_.F=bt(Q[0])}}break;case 1212:{if(!t.cellFormula)break;if(b){if(!u)break;k[ut(u.cell)]=Q[0],_=t.dense?(i[u.cell.r]||[])[u.cell.c]:i[ut(u.cell)],(_||{}).f=""+Mi(Q[0],c,x,ne,Z)}}break;case 253:A=Cw(h[Q.isst].t,Q.ixfe,"s"),h[Q.isst].h&&(A.h=h[Q.isst].h),A.XF=I[A.ixfe],F>0&&(A.z=V[A.ixfe>>8&63]),Al(A,t,n.opts.Date1904),te({c:Q.c,r:Q.r},A,t);break;case 513:t.sheetStubs&&(A={ixfe:Q.ixfe,XF:I[Q.ixfe],t:"z"},F>0&&(A.z=V[A.ixfe>>8&63]),Al(A,t,n.opts.Date1904),te({c:Q.c,r:Q.r},A,t));break;case 190:if(t.sheetStubs)for(var vs=Q.c;vs<=Q.C;++vs){var st=Q.ixfe[vs-Q.c];A={ixfe:st,XF:I[st],t:"z"},F>0&&(A.z=V[A.ixfe>>8&63]),Al(A,t,n.opts.Date1904),te({c:vs,r:Q.r},A,t)}break;case 214:case 516:case 4:A=Cw(Q.val,Q.ixfe,"s"),A.XF=I[A.ixfe],F>0&&(A.z=V[A.ixfe>>8&63]),Al(A,t,n.opts.Date1904),te({c:Q.c,r:Q.r},A,t);break;case 0:case 512:j===1&&(c=Q);break;case 252:h=Q;break;case 1054:if(Z.biff==4){V[F++]=Q[1];for(var Yi=0;Yi<F+163&&ct[Yi]!=Q[1];++Yi);Yi>=163&&Uc(Q[1],F+163)}else Uc(Q[1],Q[0]);break;case 30:{V[F++]=Q;for(var Ur=0;Ur<F+163&&ct[Ur]!=Q;++Ur);Ur>=163&&Uc(Q,F+163)}break;case 229:De=De.concat(Q);break;case 93:ve[Q.cmo[0]]=Z.lastobj=Q;break;case 438:Z.lastobj.TxO=Q;break;case 127:Z.lastobj.ImData=Q;break;case 440:for(T=Q[0].s.r;T<=Q[0].e.r;++T)for(E=Q[0].s.c;E<=Q[0].e.c;++E)_=t.dense?(i[T]||[])[E]:i[ut({c:E,r:T})],_&&(_.l=Q[1]);break;case 2048:for(T=Q[0].s.r;T<=Q[0].e.r;++T)for(E=Q[0].s.c;E<=Q[0].e.c;++E)_=t.dense?(i[T]||[])[E]:i[ut({c:E,r:T})],_&&_.l&&(_.l.Tooltip=Q[1]);break;case 28:{if(Z.biff<=5&&Z.biff>=2)break;_=t.dense?(i[Q[0].r]||[])[Q[0].c]:i[ut(Q[0])];var Js=ve[Q[2]];_||(t.dense?(i[Q[0].r]||(i[Q[0].r]=[]),_=i[Q[0].r][Q[0].c]={t:"z"}):_=i[ut(Q[0])]={t:"z"},c.e.r=Math.max(c.e.r,Q[0].r),c.s.r=Math.min(c.s.r,Q[0].r),c.e.c=Math.max(c.e.c,Q[0].c),c.s.c=Math.min(c.s.c,Q[0].c)),_.c||(_.c=[]),S={a:Q[1],t:Js.TxO.t},_.c.push(S)}break;case 2173:wW(I[Q.ixfe],Q.ext);break;case 125:{if(!Z.cellStyles)break;for(;Q.e>=Q.s;)ee[Q.e--]={width:Q.w/256,level:Q.level||0,hidden:!!(Q.flags&1)},Ee||(Ee=!0,Ek(Q.w/256)),wf(ee[Q.e+1])}break;case 520:{var Vn={};Q.level!=null&&(J[Q.r]=Vn,Vn.level=Q.level),Q.hidden&&(J[Q.r]=Vn,Vn.hidden=!0),Q.hpt&&(J[Q.r]=Vn,Vn.hpt=Q.hpt,Vn.hpx=Pm(Q.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Dd(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ne]]=Q;break;case 161:i["!margins"]||Dd(i["!margins"]={}),i["!margins"].header=Q.header,i["!margins"].footer=Q.footer;break;case 574:Q.RTL&&(C.Views[0].RTL=!0);break;case 146:M=Q;break;case 2198:xe=Q;break;case 140:O=Q;break;case 442:p?z.CodeName=Q||z.name:C.WBProps.CodeName=Q||"ThisWorkbook";break}}else Re||console.error("Missing Info for XLS Record 0x"+Ne.toString(16)),e.l+=Te}return n.SheetNames=lr(s).sort(function(Gt,vt){return Number(Gt)-Number(vt)}).map(function(Gt){return s[Gt].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&g["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=g)):n.Preamble=g,n.Sheets&&H.forEach(function(Gt,vt){n.Sheets[n.SheetNames[vt]]["!autofilter"]=Gt}),n.Strings=h,n.SSF=Mn(ct),Z.enc&&(n.Encryption=Z.enc),xe&&(n.Themes=xe),n.Metadata={},O!==void 0&&(n.Metadata.Country=O),ne.names.length>0&&(C.Names=ne.names),n.Workbook=C,n}var $x={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function MQ(e,t,n){var r=at.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=D4(r,i2,$x.DSI);for(var s in i)t[s]=i[s]}catch(p){if(n.WTF)throw p}var c=at.find(e,"/!SummaryInformation");if(c&&c.size>0)try{var u=D4(c,a2,$x.SI);for(var h in u)t[h]==null&&(t[h]=u[h])}catch(p){if(n.WTF)throw p}t.HeadingPairs&&t.TitlesOfParts&&(rM(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function LQ(e,t){var n=[],r=[],i=[],s=0,c,u=o4(i2,"n"),h=o4(a2,"n");if(e.Props)for(c=lr(e.Props),s=0;s<c.length;++s)(Object.prototype.hasOwnProperty.call(u,c[s])?n:Object.prototype.hasOwnProperty.call(h,c[s])?r:i).push([c[s],e.Props[c[s]]]);if(e.Custprops)for(c=lr(e.Custprops),s=0;s<c.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},c[s])||(Object.prototype.hasOwnProperty.call(u,c[s])?n:Object.prototype.hasOwnProperty.call(h,c[s])?r:i).push([c[s],e.Custprops[c[s]]]);var p=[];for(s=0;s<i.length;++s)uM.indexOf(i[s][0])>-1||nM.indexOf(i[s][0])>-1||i[s][1]!=null&&p.push(i[s]);r.length&&at.utils.cfb_add(t,"/SummaryInformation",I4(r,$x.SI,h,a2)),(n.length||p.length)&&at.utils.cfb_add(t,"/DocumentSummaryInformation",I4(n,$x.DSI,u,i2,p.length?p:null,$x.UDI))}function aL(e,t){t||(t={}),Ik(t),ZA(),t.codepage&&JA(t.codepage);var n,r;if(e.FullPaths){if(at.find(e,"/encryption"))throw new Error("File is password-protected");n=at.find(e,"!CompObj"),r=at.find(e,"/Workbook")||at.find(e,"/Book")}else{switch(t.type){case"base64":e=us(gs(e));break;case"binary":e=us(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ui(e,0),r={content:e}}var i,s;if(n&&DQ(n),t.bookProps&&!t.bookSheets)i={};else{var c=Rt?"buffer":"array";if(r&&r.content)i=FQ(r.content,t);else if((s=at.find(e,"PerfectOffice_MAIN"))&&s.content)i=Rd.to_workbook(s.content,(t.type=c,t));else if((s=at.find(e,"NativeContent_MAIN"))&&s.content)i=Rd.to_workbook(s.content,(t.type=c,t));else throw(s=at.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&at.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=YW(e))}var u={};return e.FullPaths&&MQ(e,u,t),i.Props=i.Custprops=u,t.bookFiles&&(i.cfb=e),i}function jQ(e,t){var n=t||{},r=at.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return at.utils.cfb_add(r,i,sL(e,n)),n.biff==8&&(e.Props||e.Custprops)&&LQ(e,r),n.biff==8&&e.vbaraw&&$W(r,at.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var Iy={0:{f:oY},1:{f:mY},2:{f:FY},3:{f:EY},4:{f:yY},5:{f:DY},6:{f:BY},7:{f:kY},8:{f:WY},9:{f:GY},10:{f:HY},11:{f:qY},12:{f:vY},13:{f:LY},14:{f:TY},15:{f:wY},16:{f:QM},17:{f:zY},18:{f:CY},19:{f:dk},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:z$},40:{},42:{},43:{f:BG},44:{f:jG},45:{f:VG},46:{f:qG},47:{f:HG},48:{},49:{f:uV},50:{},51:{f:SW},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:wM},62:{f:PY},63:{f:OW},64:{f:l$},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Gi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:i$},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:dY},148:{f:uY,p:16},151:{f:JY},152:{},153:{f:P$},154:{},155:{},156:{f:L$},157:{},158:{},159:{T:1,f:eG},160:{T:-1},161:{T:1,f:a0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:XY},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_W},336:{T:-1},337:{f:kW,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:r2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:bM},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:ZY},427:{f:e$},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:n$},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:hY},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:$Y},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:r2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:qW},633:{T:1},634:{T:-1},635:{T:1,f:VW},636:{T:-1},637:{f:pV},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:T$},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:c$},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},f2={6:{f:aT},10:{f:ef},12:{f:Er},13:{f:Er},14:{f:dr},15:{f:dr},16:{f:Bi},17:{f:dr},18:{f:dr},19:{f:Er},20:{f:P4},21:{f:P4},23:{f:bM},24:{f:U4},25:{f:dr},26:{},27:{},28:{f:cq},29:{},34:{f:dr},35:{f:B4},38:{f:Bi},39:{f:Bi},40:{f:Bi},41:{f:Bi},42:{f:dr},43:{f:dr},47:{f:wG},49:{f:LH},51:{f:Er},60:{},61:{f:DH},64:{f:dr},65:{f:MH},66:{f:Er},77:{},80:{},81:{},82:{},85:{f:Er},89:{},90:{},91:{},92:{f:bH},93:{f:hq},94:{},95:{f:dr},96:{},97:{},99:{f:dr},125:{f:wM},128:{f:QH},129:{f:_H},130:{f:Er},131:{f:dr},132:{f:dr},133:{f:EH},134:{},140:{f:bq},141:{f:Er},144:{},146:{f:Eq},151:{},152:{},153:{},154:{},155:{},156:{f:Er},157:{},158:{},160:{f:Rq},161:{f:Aq},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:XH},190:{f:KH},193:{f:ef},197:{},198:{},199:{},200:{},201:{},202:{f:dr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Er},220:{},221:{f:dr},222:{},224:{f:$H},225:{f:yH},226:{f:ef},227:{},229:{f:uq},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:TH},253:{f:PH},255:{f:kH},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:fM},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:dr},353:{f:ef},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:nq},431:{f:dr},432:{},433:{},434:{},437:{},438:{f:mq},439:{f:dr},440:{f:gq},441:{},442:{f:d1},443:{},444:{f:Er},445:{},446:{},448:{f:ef},449:{f:RH,r:2},450:{f:ef},512:{f:M4},513:{f:Cq},515:{f:eq},516:{f:UH},517:{f:j4},519:{f:Dq},520:{f:NH},523:{},545:{f:z4},549:{f:F4},566:{},574:{f:OH},638:{f:WH},659:{},1048:{},1054:{f:VH},1084:{},1212:{f:sq},2048:{f:xq},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Aw},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ef},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Sq,r:12},2173:{f:bW,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:dr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:aq,r:12},2197:{},2198:{f:pW,r:12},2199:{},2200:{},2201:{},2202:{f:oq,r:12},2203:{f:ef},2204:{},2205:{},2206:{},2207:{},2211:{f:CH},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Er},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:kq},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:_q},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:M4},1:{},2:{f:Lq},3:{f:Fq},4:{f:Oq},5:{f:j4},7:{f:Pq},8:{},9:{f:Aw},11:{},22:{f:Er},30:{f:qH},31:{},32:{},33:{f:z4},36:{},37:{f:F4},50:{f:Bq},62:{},52:{},67:{},68:{f:Er},69:{},86:{},126:{},127:{f:Iq},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Uq},223:{},234:{},354:{},421:{},518:{f:aT},521:{f:Aw},536:{f:U4},547:{f:B4},561:{},579:{},1030:{f:aT},1033:{f:Aw},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ue(e,t,n,r){var i=t;if(!isNaN(i)){var s=r||(n||[]).length||0,c=e.next(4);c.write_shift(2,i),c.write_shift(2,s),s>0&&uk(n)&&e.push(n)}}function PQ(e,t,n,r){var i=(n||[]).length||0;if(i<=8224)return Ue(e,t,n,i);var s=t;if(!isNaN(s)){for(var c=n.parts||[],u=0,h=0,p=0;p+(c[u]||8224)<=8224;)p+=c[u]||8224,u++;var g=e.next(4);for(g.write_shift(2,s),g.write_shift(2,p),e.push(n.slice(h,h+p)),h+=p;h<i;){for(g=e.next(4),g.write_shift(2,60),p=0;p+(c[u]||8224)<=8224;)p+=c[u]||8224,u++;g.write_shift(2,p),e.push(n.slice(h,h+p)),h+=p}}}function v1(e,t,n){return e||(e=be(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function BQ(e,t,n,r){var i=be(9);return v1(i,e,t),hM(n,r||"b",i),i}function UQ(e,t,n){var r=be(8+2*n.length);return v1(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function zQ(e,t,n,r){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?Pr(Fn(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?Ue(e,2,jq(n,r,i)):Ue(e,3,Mq(n,r,i));return;case"b":case"e":Ue(e,5,BQ(n,r,t.v,t.t));return;case"s":case"str":Ue(e,4,UQ(n,r,(t.v||"").slice(0,255)));return}Ue(e,1,v1(null,n,r))}function VQ(e,t,n,r){var i=Array.isArray(t),s=qt(t["!ref"]||"A1"),c,u="",h=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),c=bt(s)}for(var p=s.s.r;p<=s.e.r;++p){u=mr(p);for(var g=s.s.c;g<=s.e.c;++g){p===s.s.r&&(h[g]=$n(g)),c=h[g]+u;var x=i?(t[p]||[])[g]:t[c];x&&zQ(e,x,p,g)}}}function HQ(e,t){for(var n=t||{},r=La(),i=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Ue(r,n.biff==4?1033:n.biff==3?521:9,bk(e,16,n)),VQ(r,e.Sheets[e.SheetNames[i]],i,n),Ue(r,10),r.end()}function qQ(e,t,n){Ue(e,49,jH({sz:12,name:"Arial"},n))}function GQ(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&Ue(e,1054,HH(i,t[i],n))})}function WQ(e,t){var n=be(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Ue(e,2151,n),n=be(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),vM(qt(t["!ref"]||"A1"),n),n.write_shift(4,4),Ue(e,2152,n)}function XQ(e,t){for(var n=0;n<16;++n)Ue(e,224,L4({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Ue(e,224,L4(r,0,t))})}function KQ(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];Ue(e,440,vq(r)),r[1].Tooltip&&Ue(e,2048,yq(r))}delete t["!links"]}function YQ(e,t){if(t){var n=0;t.forEach(function(r,i){++n<=256&&r&&Ue(e,125,Tq(eS(i,r),i))})}}function $Q(e,t,n,r,i){var s=16+Ff(i.cellXfs,t,i);if(t.v==null&&!t.bf){Ue(e,513,qd(n,r,s));return}if(t.bf)Ue(e,6,_K(t,n,r,i,s));else switch(t.t){case"d":case"n":var c=t.t=="d"?Pr(Fn(t.v)):t.v;Ue(e,515,tq(n,r,c,s));break;case"b":case"e":Ue(e,517,ZH(n,r,t.v,s,i,t.t));break;case"s":case"str":if(i.bookSST){var u=Nk(i.Strings,t.v,i.revStrings);Ue(e,253,BH(n,r,u,s))}else Ue(e,516,zH(n,r,(t.v||"").slice(0,255),s,i));break;default:Ue(e,513,qd(n,r,s))}}function QQ(e,t,n){var r=La(),i=n.SheetNames[e],s=n.Sheets[i]||{},c=(n||{}).Workbook||{},u=(c.Sheets||[])[e]||{},h=Array.isArray(s),p=t.biff==8,g,x="",b=[],_=qt(s["!ref"]||"A1"),S=p?65536:16384;if(_.e.c>255||_.e.r>=S){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");_.e.c=Math.min(_.e.c,255),_.e.r=Math.min(_.e.c,S-1)}Ue(r,2057,bk(n,16,t)),Ue(r,13,Vs(1)),Ue(r,12,Vs(100)),Ue(r,15,la(!0)),Ue(r,17,la(!1)),Ue(r,16,Vd(.001)),Ue(r,95,la(!0)),Ue(r,42,la(!1)),Ue(r,43,la(!1)),Ue(r,130,Vs(1)),Ue(r,128,JH()),Ue(r,131,la(!1)),Ue(r,132,la(!1)),p&&YQ(r,s["!cols"]),Ue(r,512,GH(_,t)),p&&(s["!links"]=[]);for(var E=_.s.r;E<=_.e.r;++E){x=mr(E);for(var T=_.s.c;T<=_.e.c;++T){E===_.s.r&&(b[T]=$n(T)),g=b[T]+x;var k=h?(s[E]||[])[T]:s[g];k&&($Q(r,k,E,T,t),p&&k.l&&s["!links"].push([g,k.l]))}}var R=u.CodeName||u.name||i;return p&&Ue(r,574,FH((c.Views||[])[0])),p&&(s["!merges"]||[]).length&&Ue(r,229,fq(s["!merges"])),p&&KQ(r,s),Ue(r,442,dM(R)),p&&WQ(r,s),Ue(r,10),r.end()}function JQ(e,t,n){var r=La(),i=(e||{}).Workbook||{},s=i.Sheets||[],c=i.WBProps||{},u=n.biff==8,h=n.biff==5;if(Ue(r,2057,bk(e,5,n)),n.bookType=="xla"&&Ue(r,135),Ue(r,225,u?Vs(1200):null),Ue(r,193,ZV(2)),h&&Ue(r,191),h&&Ue(r,192),Ue(r,226),Ue(r,92,wH("SheetJS",n)),Ue(r,66,Vs(u?1200:1252)),u&&Ue(r,353,Vs(0)),u&&Ue(r,448),Ue(r,317,Nq(e.SheetNames.length)),u&&e.vbaraw&&Ue(r,211),u&&e.vbaraw){var p=c.CodeName||"ThisWorkbook";Ue(r,442,dM(p))}Ue(r,156,Vs(17)),Ue(r,25,la(!1)),Ue(r,18,la(!1)),Ue(r,19,Vs(0)),u&&Ue(r,431,la(!1)),u&&Ue(r,444,Vs(0)),Ue(r,61,IH()),Ue(r,64,la(!1)),Ue(r,141,Vs(0)),Ue(r,34,la(R$(e)=="true")),Ue(r,14,la(!0)),u&&Ue(r,439,la(!1)),Ue(r,218,Vs(0)),qQ(r,e,n),GQ(r,e.SSF,n),XQ(r,n),u&&Ue(r,352,la(!1));var g=r.end(),x=La();u&&Ue(x,140,wq()),u&&n.Strings&&PQ(x,252,AH(n.Strings)),Ue(x,10);var b=x.end(),_=La(),S=0,E=0;for(E=0;E<e.SheetNames.length;++E)S+=(u?12:11)+(u?2:1)*e.SheetNames[E].length;var T=g.length+S+b.length;for(E=0;E<e.SheetNames.length;++E){var k=s[E]||{};Ue(_,133,SH({pos:T,hs:k.Hidden||0,dt:0,name:e.SheetNames[E]},n)),T+=t[E].length}var R=_.end();if(S!=R.length)throw new Error("BS8 "+S+" != "+R.length);var A=[];return g.length&&A.push(g),R.length&&A.push(R),b.length&&A.push(b),Wr(A)}function ZQ(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=Mn(ct)),e&&e.SSF&&(eg(),XE(e.SSF),n.revssf=YE(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Ok(n),n.cellXfs=[],Ff(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=QQ(i,n,e);return r.unshift(JQ(e,r,n)),Wr(r)}function sL(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(!(!r||!r["!ref"])){var i=Ba(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return ZQ(e,t);case 4:case 3:case 2:return HQ(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Q4(e,t){var n=t||{},r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),c=i.index,u=s&&s.index||e.length,h=jz(e.slice(c,u),/(:?<tr[^>]*>)/i,"<tr>"),p=-1,g=0,x=0,b=0,_={s:{r:1e7,c:1e7},e:{r:0,c:0}},S=[];for(c=0;c<h.length;++c){var E=h[c].trim(),T=E.slice(0,3).toLowerCase();if(T=="<tr"){if(++p,n.sheetRows&&n.sheetRows<=p){--p;break}g=0;continue}if(!(T!="<td"&&T!="<th")){var k=E.split(/<\/t[dh]>/i);for(u=0;u<k.length;++u){var R=k[u].trim();if(R.match(/<t[dh]/i)){for(var A=R,O=0;A.charAt(0)=="<"&&(O=A.indexOf(">"))>-1;)A=A.slice(O+1);for(var I=0;I<S.length;++I){var M=S[I];M.s.c==g&&M.s.r<p&&p<=M.e.r&&(g=M.e.c+1,I=-1)}var C=ht(R.slice(0,R.indexOf(">")));b=C.colspan?+C.colspan:1,((x=+C.rowspan)>1||b>1)&&S.push({s:{r:p,c:g},e:{r:p+(x||1)-1,c:g+b-1}});var z=C.t||C["data-t"]||"";if(!A.length){g+=b;continue}if(A=R3(A),_.s.r>p&&(_.s.r=p),_.e.r<p&&(_.e.r=p),_.s.c>g&&(_.s.c=g),_.e.c<g&&(_.e.c=g),!A.length){g+=b;continue}var B={t:"s",v:A};n.raw||!A.trim().length||z=="s"||(A==="TRUE"?B={t:"b",v:!0}:A==="FALSE"?B={t:"b",v:!1}:isNaN(Uo(A))?isNaN(Lm(A).getDate())||(B={t:"d",v:Fn(A)},n.cellDates||(B={t:"n",v:Pr(B.v)}),B.z=n.dateNF||ct[14]):B={t:"n",v:Uo(A)}),n.dense?(r[p]||(r[p]=[]),r[p][g]=B):r[ut({r:p,c:g})]=B,g+=b}}}}return r["!ref"]=bt(_),S.length&&(r["!merges"]=S),r}function eJ(e,t,n,r){for(var i=e["!merges"]||[],s=[],c=t.s.c;c<=t.e.c;++c){for(var u=0,h=0,p=0;p<i.length;++p)if(!(i[p].s.r>n||i[p].s.c>c)&&!(i[p].e.r<n||i[p].e.c<c)){if(i[p].s.r<n||i[p].s.c<c){u=-1;break}u=i[p].e.r-i[p].s.r+1,h=i[p].e.c-i[p].s.c+1;break}if(!(u<0)){var g=ut({r:n,c}),x=r.dense?(e[n]||[])[c]:e[g],b=x&&x.v!=null&&(x.h||ok(x.w||(qc(x),x.w)||""))||"",_={};u>1&&(_.rowspan=u),h>1&&(_.colspan=h),r.editable?b='<span contenteditable="true">'+b+"</span>":x&&(_["data-t"]=x&&x.t||"z",x.v!=null&&(_["data-v"]=x.v),x.z!=null&&(_["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(b='<a href="'+x.l.Target+'">'+b+"</a>")),_.id=(r.id||"sjs")+"-"+g,s.push(Be("td",b,_))}}var S="<tr>";return S+s.join("")+"</tr>"}var tJ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',nJ="</body></html>";function rJ(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Of(Q4(n[0],t),t);var r=Lk();return n.forEach(function(i,s){jk(r,Q4(i,t),"Sheet"+(s+1))}),r}function iJ(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function oL(e,t){var n=t||{},r=n.header!=null?n.header:tJ,i=n.footer!=null?n.footer:nJ,s=[r],c=Ba(e["!ref"]);n.dense=Array.isArray(e),s.push(iJ(e,c,n));for(var u=c.s.r;u<=c.e.r;++u)s.push(eJ(e,c,u,n));return s.push("</table>"+i),s.join("")}function lL(e,t,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var c=typeof r.origin=="string"?Qn(r.origin):r.origin;i=c.r,s=c.c}var u=t.getElementsByTagName("tr"),h=Math.min(r.sheetRows||1e7,u.length),p={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var g=Ba(e["!ref"]);p.s.r=Math.min(p.s.r,g.s.r),p.s.c=Math.min(p.s.c,g.s.c),p.e.r=Math.max(p.e.r,g.e.r),p.e.c=Math.max(p.e.c,g.e.c),i==-1&&(p.e.r=i=g.e.r+1)}var x=[],b=0,_=e["!rows"]||(e["!rows"]=[]),S=0,E=0,T=0,k=0,R=0,A=0;for(e["!cols"]||(e["!cols"]=[]);S<u.length&&E<h;++S){var O=u[S];if(J4(O)){if(r.display)continue;_[E]={hidden:!0}}var I=O.children;for(T=k=0;T<I.length;++T){var M=I[T];if(!(r.display&&J4(M))){var C=M.hasAttribute("data-v")?M.getAttribute("data-v"):M.hasAttribute("v")?M.getAttribute("v"):R3(M.innerHTML),z=M.getAttribute("data-z")||M.getAttribute("z");for(b=0;b<x.length;++b){var B=x[b];B.s.c==k+s&&B.s.r<E+i&&E+i<=B.e.r&&(k=B.e.c+1-s,b=-1)}A=+M.getAttribute("colspan")||1,((R=+M.getAttribute("rowspan")||1)>1||A>1)&&x.push({s:{r:E+i,c:k+s},e:{r:E+i+(R||1)-1,c:k+s+(A||1)-1}});var re={t:"s",v:C},te=M.getAttribute("data-t")||M.getAttribute("t")||"";C!=null&&(C.length==0?re.t=te||"z":r.raw||C.trim().length==0||te=="s"||(C==="TRUE"?re={t:"b",v:!0}:C==="FALSE"?re={t:"b",v:!1}:isNaN(Uo(C))?isNaN(Lm(C).getDate())||(re={t:"d",v:Fn(C)},r.cellDates||(re={t:"n",v:Pr(re.v)}),re.z=r.dateNF||ct[14]):re={t:"n",v:Uo(C)})),re.z===void 0&&z!=null&&(re.z=z);var Z="",xe=M.getElementsByTagName("A");if(xe&&xe.length)for(var De=0;De<xe.length&&!(xe[De].hasAttribute("href")&&(Z=xe[De].getAttribute("href"),Z.charAt(0)!="#"));++De);Z&&Z.charAt(0)!="#"&&(re.l={Target:Z}),r.dense?(e[E+i]||(e[E+i]=[]),e[E+i][k+s]=re):e[ut({c:k+s,r:E+i})]=re,p.e.c<k+s&&(p.e.c=k+s),k+=A}}++E}return x.length&&(e["!merges"]=(e["!merges"]||[]).concat(x)),p.e.r=Math.max(p.e.r,E-1+i),e["!ref"]=bt(p),E>=h&&(e["!fullref"]=bt((p.e.r=u.length-S+E-1+i,p))),e}function cL(e,t){var n=t||{},r=n.dense?[]:{};return lL(r,e,t)}function aJ(e,t){return Of(cL(e,t),t)}function J4(e){var t="",n=sJ(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function sJ(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function oJ(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Vt(t.replace(/<[^>]*>/g,""));return[n]}var Z4={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function uL(e,t){var n=t||{},r=lk(e),i=[],s,c,u={name:""},h="",p=0,g,x,b={},_=[],S=n.dense?[]:{},E,T,k={value:""},R="",A=0,O=[],I=-1,M=-1,C={s:{r:1e6,c:1e7},e:{r:0,c:0}},z=0,B={},re=[],te={},Z=0,xe=0,De=[],ve=1,ee=1,J=[],Ee={Names:[]},ne={},Ie=["",""],j=[],F={},V="",H=0,W=!1,se=!1,we=0;for(Ay.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");E=Ay.exec(r);)switch(E[3]=E[3].replace(/_.*$/,"")){case"table":case"":E[1]==="/"?(C.e.c>=C.s.c&&C.e.r>=C.s.r?S["!ref"]=bt(C):S["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=C.e.r&&(S["!fullref"]=S["!ref"],C.e.r=n.sheetRows-1,S["!ref"]=bt(C)),re.length&&(S["!merges"]=re),De.length&&(S["!rows"]=De),g.name=g.||g.name,typeof JSON<"u"&&JSON.stringify(g),_.push(g.name),b[g.name]=S,se=!1):E[0].charAt(E[0].length-2)!=="/"&&(g=ht(E[0],!1),I=M=-1,C.s.r=C.s.c=1e7,C.e.r=C.e.c=0,S=n.dense?[]:{},re=[],De=[],se=!0);break;case"table-row-group":E[1]==="/"?--z:++z;break;case"table-row":case"":if(E[1]==="/"){I+=ve,ve=1;break}if(x=ht(E[0],!1),x.?I=x.-1:I==-1&&(I=0),ve=+x["number-rows-repeated"]||1,ve<10)for(we=0;we<ve;++we)z>0&&(De[I+we]={level:z});M=-1;break;case"covered-table-cell":E[1]!=="/"&&++M,n.sheetStubs&&(n.dense?(S[I]||(S[I]=[]),S[I][M]={t:"z"}):S[ut({r:I,c:M})]={t:"z"}),R="",O=[];break;case"table-cell":case"":if(E[0].charAt(E[0].length-2)==="/")++M,k=ht(E[0],!1),ee=parseInt(k["number-columns-repeated"]||"1",10),T={t:"z",v:null},k.formula&&n.cellFormula!=!1&&(T.f=K4(Vt(k.formula))),(k.||k["value-type"])=="string"&&(T.t="s",T.v=Vt(k["string-value"]||""),n.dense?(S[I]||(S[I]=[]),S[I][M]=T):S[ut({r:I,c:M})]=T),M+=ee-1;else if(E[1]!=="/"){++M,R="",A=0,O=[],ee=1;var Ne=ve?I+ve-1:I;if(M>C.e.c&&(C.e.c=M),M<C.s.c&&(C.s.c=M),I<C.s.r&&(C.s.r=I),Ne>C.e.r&&(C.e.r=Ne),k=ht(E[0],!1),j=[],F={},T={t:k.||k["value-type"],v:null},n.cellFormula)if(k.formula&&(k.formula=Vt(k.formula)),k["number-matrix-columns-spanned"]&&k["number-matrix-rows-spanned"]&&(Z=parseInt(k["number-matrix-rows-spanned"],10)||0,xe=parseInt(k["number-matrix-columns-spanned"],10)||0,te={s:{r:I,c:M},e:{r:I+Z-1,c:M+xe-1}},T.F=bt(te),J.push([te,T.F])),k.formula)T.f=K4(k.formula);else for(we=0;we<J.length;++we)I>=J[we][0].s.r&&I<=J[we][0].e.r&&M>=J[we][0].s.c&&M<=J[we][0].e.c&&(T.F=J[we][1]);switch((k["number-columns-spanned"]||k["number-rows-spanned"])&&(Z=parseInt(k["number-rows-spanned"],10)||0,xe=parseInt(k["number-columns-spanned"],10)||0,te={s:{r:I,c:M},e:{r:I+Z-1,c:M+xe-1}},re.push(te)),k["number-columns-repeated"]&&(ee=parseInt(k["number-columns-repeated"],10)),T.t){case"boolean":T.t="b",T.v=On(k["boolean-value"]);break;case"float":T.t="n",T.v=parseFloat(k.value);break;case"percentage":T.t="n",T.v=parseFloat(k.value);break;case"currency":T.t="n",T.v=parseFloat(k.value);break;case"date":T.t="d",T.v=Fn(k["date-value"]),n.cellDates||(T.t="n",T.v=Pr(T.v)),T.z="m/d/yy";break;case"time":T.t="n",T.v=Fz(k["time-value"])/86400,n.cellDates&&(T.t="d",T.v=$E(T.v)),T.z="HH:MM:SS";break;case"number":T.t="n",T.v=parseFloat(k.);break;default:if(T.t==="string"||T.t==="text"||!T.t)T.t="s",k["string-value"]!=null&&(R=Vt(k["string-value"]),O=[]);else throw new Error("Unsupported value type "+T.t)}}else{if(W=!1,T.t==="s"&&(T.v=R||"",O.length&&(T.R=O),W=A==0),ne.Target&&(T.l=ne),j.length>0&&(T.c=j,j=[]),R&&n.cellText!==!1&&(T.w=R),W&&(T.t="z",delete T.v),(!W||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=I))for(var Te=0;Te<ve;++Te){if(ee=parseInt(k["number-columns-repeated"]||"1",10),n.dense)for(S[I+Te]||(S[I+Te]=[]),S[I+Te][M]=Te==0?T:Mn(T);--ee>0;)S[I+Te][M+ee]=Mn(T);else for(S[ut({r:I+Te,c:M})]=T;--ee>0;)S[ut({r:I+Te,c:M+ee})]=Mn(T);C.e.c<=M&&(C.e.c=M)}ee=parseInt(k["number-columns-repeated"]||"1",10),M+=ee-1,ee=0,T={},R="",O=[]}ne={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(E[1]==="/"){if((s=i.pop())[0]!==E[3])throw"Bad state: "+s}else E[0].charAt(E[0].length-2)!=="/"&&i.push([E[3],!0]);break;case"annotation":if(E[1]==="/"){if((s=i.pop())[0]!==E[3])throw"Bad state: "+s;F.t=R,O.length&&(F.R=O),F.a=V,j.push(F)}else E[0].charAt(E[0].length-2)!=="/"&&i.push([E[3],!1]);V="",H=0,R="",A=0,O=[];break;case"creator":E[1]==="/"?V=r.slice(H,E.index):H=E.index+E[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(E[1]==="/"){if((s=i.pop())[0]!==E[3])throw"Bad state: "+s}else E[0].charAt(E[0].length-2)!=="/"&&i.push([E[3],!1]);R="",A=0,O=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(E[1]==="/"){if(B[u.name]=h,(s=i.pop())[0]!==E[3])throw"Bad state: "+s}else E[0].charAt(E[0].length-2)!=="/"&&(h="",u=ht(E[0],!1),i.push([E[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":c=ht(E[0],!1),h+=Z4[E[3]][c.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":c=ht(E[0],!1),h+=Z4[E[3]][c.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(E[0].slice(-2)==="/>")break;if(E[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":h+=r.slice(p,E.index);break}else p=E.index+E[0].length;break;case"named-range":c=ht(E[0],!1),Ie=sT(c["cell-range-address"]);var Re={Name:c.name,Ref:Ie[0]+"!"+Ie[1]};se&&(Re.Sheet=_.length),Ee.Names.push(Re);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(E[1]==="/"&&(!k||!k["string-value"])){var rt=oJ(r.slice(A,E.index));R=(R.length>0?R+`
`:"")+rt[0]}else ht(E[0],!1),A=E.index+E[0].length;break;case"s":break;case"database-range":if(E[1]==="/")break;try{Ie=sT(ht(E[0])["target-range-address"]),b[Ie[0]]["!autofilter"]={ref:Ie[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(E[1]!=="/"){if(ne=ht(E[0],!1),!ne.href)break;ne.Target=Vt(ne.href),delete ne.href,ne.Target.charAt(0)=="#"&&ne.Target.indexOf(".")>-1?(Ie=sT(ne.Target.slice(1)),ne.Target="#"+Ie[0]+"!"+Ie[1]):ne.Target.match(/^\.\.[\\\/]/)&&(ne.Target=ne.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(E[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(E)}}var Q={Sheets:b,SheetNames:_,Workbook:Ee};return n.bookSheets&&delete Q.Sheets,Q}function eR(e,t){t=t||{},zs(e,"META-INF/manifest.xml")&&FV(_r(e,"META-INF/manifest.xml"),t);var n=fs(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=uL(yn(n),t);return zs(e,"meta.xml")&&(r.Props=eM(_r(e,"meta.xml"))),r}function tR(e,t){return uL(e,t)}var lJ=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Ty({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return gr+t}})(),nR=(function(){var e=function(s){return pn(s).replace(/  +/g,function(c){return'<text:s text:c="'+c.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,c,u){var h=[];h.push('      <table:table table:name="'+pn(c.SheetNames[u])+`" table:style-name="ta1">
`);var p=0,g=0,x=Ba(s["!ref"]||"A1"),b=s["!merges"]||[],_=0,S=Array.isArray(s);if(s["!cols"])for(g=0;g<=x.e.c;++g)h.push("        <table:table-column"+(s["!cols"][g]?' table:style-name="co'+s["!cols"][g].ods+'"':"")+`></table:table-column>
`);var E="",T=s["!rows"]||[];for(p=0;p<x.s.r;++p)E=T[p]?' table:style-name="ro'+T[p].ods+'"':"",h.push("        <table:table-row"+E+`></table:table-row>
`);for(;p<=x.e.r;++p){for(E=T[p]?' table:style-name="ro'+T[p].ods+'"':"",h.push("        <table:table-row"+E+`>
`),g=0;g<x.s.c;++g)h.push(t);for(;g<=x.e.c;++g){var k=!1,R={},A="";for(_=0;_!=b.length;++_)if(!(b[_].s.c>g)&&!(b[_].s.r>p)&&!(b[_].e.c<g)&&!(b[_].e.r<p)){(b[_].s.c!=g||b[_].s.r!=p)&&(k=!0),R["table:number-columns-spanned"]=b[_].e.c-b[_].s.c+1,R["table:number-rows-spanned"]=b[_].e.r-b[_].s.r+1;break}if(k){h.push(n);continue}var O=ut({r:p,c:g}),I=S?(s[p]||[])[g]:s[O];if(I&&I.f&&(R["table:formula"]=pn(NK(I.f)),I.F&&I.F.slice(0,O.length)==O)){var M=Ba(I.F);R["table:number-matrix-columns-spanned"]=M.e.c-M.s.c+1,R["table:number-matrix-rows-spanned"]=M.e.r-M.s.r+1}if(!I){h.push(t);continue}switch(I.t){case"b":A=I.v?"TRUE":"FALSE",R["office:value-type"]="boolean",R["office:boolean-value"]=I.v?"true":"false";break;case"n":A=I.w||String(I.v||0),R["office:value-type"]="float",R["office:value"]=I.v||0;break;case"s":case"str":A=I.v==null?"":I.v,R["office:value-type"]="string";break;case"d":A=I.w||Fn(I.v).toISOString(),R["office:value-type"]="date",R["office:date-value"]=Fn(I.v).toISOString(),R["table:style-name"]="ce1";break;default:h.push(t);continue}var C=e(A);if(I.l&&I.l.Target){var z=I.l.Target;z=z.charAt(0)=="#"?"#"+CK(z.slice(1)):z,z.charAt(0)!="#"&&!z.match(/^\w+:/)&&(z="../"+z),C=Be("text:a",C,{"xlink:href":z.replace(/&/g,"&amp;")})}h.push("          "+Be("table:table-cell",Be("text:p",C,{}),R)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},i=function(s,c){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var u=0;c.SheetNames.map(function(p){return c.Sheets[p]}).forEach(function(p){if(p&&p["!cols"]){for(var g=0;g<p["!cols"].length;++g)if(p["!cols"][g]){var x=p["!cols"][g];if(x.width==null&&x.wpx==null&&x.wch==null)continue;wf(x),x.ods=u;var b=p["!cols"][g].wpx+"px";s.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+b+`"/>
`),s.push(`  </style:style>
`),++u}}});var h=0;c.SheetNames.map(function(p){return c.Sheets[p]}).forEach(function(p){if(p&&p["!rows"]){for(var g=0;g<p["!rows"].length;++g)if(p["!rows"][g]){p["!rows"][g].ods=h;var x=p["!rows"][g].hpx+"px";s.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),s.push(`  </style:style>
`),++h}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(c,u){var h=[gr],p=Ty({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),g=Ty({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(h.push("<office:document"+p+g+`>
`),h.push(Z3().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+p+`>
`),i(h,c),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var x=0;x!=c.SheetNames.length;++x)h.push(r(c.Sheets[c.SheetNames[x]],c,x));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),u.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}})();function fL(e,t){if(t.bookType=="fods")return nR(e,t);var n=ik(),r="",i=[],s=[];return r="mimetype",Et(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Et(n,r,nR(e,t)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Et(n,r,lJ(e,t)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Et(n,r,gr+Z3()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Et(n,r,jV(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Et(n,r,MV(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Gd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function h2(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):yn(If(e))}function cJ(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):us(Fl(e))}function uJ(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}function Ef(e){var t=e.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(i){n.set(i,r),r+=i.length}),n}function rR(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function fJ(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,i=t+13;i>=t;--i)r=r*256+e[i];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function hJ(e,t,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)e[t+s]=i&255;e[t+15]|=n>=0?0:128}function Oy(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function un(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function or(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function $t(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],i=Oy(e,n),s=i&7;i=Math.floor(i/8);var c=0,u;if(i==0)break;switch(s){case 0:{for(var h=n[0];e[n[0]++]>=128;);u=e.slice(h,n[0])}break;case 5:c=4,u=e.slice(n[0],n[0]+c),n[0]+=c;break;case 1:c=8,u=e.slice(n[0],n[0]+c),n[0]+=c;break;case 2:c=Oy(e,n),u=e.slice(n[0],n[0]+c),n[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var p={data:u,type:s};t[i]==null?t[i]=[p]:t[i].push(p)}return t}function li(e){var t=[];return e.forEach(function(n,r){n.forEach(function(i){i.data&&(t.push(un(r*8+i.type)),i.type==2&&t.push(un(i.data.length)),t.push(i.data))})}),Ef(t)}function Dk(e,t){return(e==null?void 0:e.map(function(n){return t(n.data)}))||[]}function Bs(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=Oy(e,r),s=$t(e.slice(r[0],r[0]+i));r[0]+=i;var c={id:or(s[1][0].data),messages:[]};s[2].forEach(function(u){var h=$t(u.data),p=or(h[3][0].data);c.messages.push({meta:h,data:e.slice(r[0],r[0]+p)}),r[0]+=p}),(t=s[3])!=null&&t[0]&&(c.merge=or(s[3][0].data)>>>0>0),n.push(c)}return n}function Qp(e){var t=[];return e.forEach(function(n){var r=[];r[1]=[{data:un(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:un(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(c){i.push(c.data),c.meta[3]=[{type:0,data:un(c.data.length)}],r[2].push({data:li(c.meta),type:2})});var s=li(r);t.push(un(s.length)),t.push(s),i.forEach(function(c){return t.push(c)})}),Ef(t)}function dJ(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Oy(t,n),i=[];n[0]<t.length;){var s=t[n[0]]&3;if(s==0){var c=t[n[0]++]>>2;if(c<60)++c;else{var u=c-59;c=t[n[0]],u>1&&(c|=t[n[0]+1]<<8),u>2&&(c|=t[n[0]+2]<<16),u>3&&(c|=t[n[0]+3]<<24),c>>>=0,c++,n[0]+=u}i.push(t.slice(n[0],n[0]+c)),n[0]+=c;continue}else{var h=0,p=0;if(s==1?(p=(t[n[0]]>>2&7)+4,h=(t[n[0]++]&224)<<3,h|=t[n[0]++]):(p=(t[n[0]++]>>2)+1,s==2?(h=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(h=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Ef(i)],h==0)throw new Error("Invalid offset 0");if(h>i[0].length)throw new Error("Invalid offset beyond length");if(p>=h)for(i.push(i[0].slice(-h)),p-=h;p>=i[i.length-1].length;)i.push(i[i.length-1]),p-=i[i.length-1].length;i.push(i[0].slice(-h,-h+p))}}var g=Ef(i);if(g.length!=r)throw new Error("Unexpected length: ".concat(g.length," != ").concat(r));return g}function Us(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(dJ(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return Ef(t)}function Jp(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var s=un(r),c=s.length;t.push(s),r<=60?(c++,t.push(new Uint8Array([r-1<<2]))):r<=256?(c+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(c+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(c+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(c+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),c+=r,i[0]=0,i[1]=c&255,i[2]=c>>8&255,i[3]=c>>16&255,n+=r}return Ef(t)}function pJ(e,t,n,r){var i=Gd(e),s=i.getUint32(4,!0),c=(r>1?12:8)+rR(s&(r>1?3470:398))*4,u=-1,h=-1,p=NaN,g=new Date(2001,0,1);s&512&&(u=i.getUint32(c,!0),c+=4),c+=rR(s&(r>1?12288:4096))*4,s&16&&(h=i.getUint32(c,!0),c+=4),s&32&&(p=i.getFloat64(c,!0),c+=8),s&64&&(g.setTime(g.getTime()+i.getFloat64(c,!0)*1e3),c+=8);var x;switch(e[2]){case 0:break;case 2:x={t:"n",v:p};break;case 3:x={t:"s",v:t[h]};break;case 5:x={t:"d",v:g};break;case 6:x={t:"b",v:p>0};break;case 7:x={t:"n",v:p/86400};break;case 8:x={t:"e",v:0};break;case 9:if(u>-1)x={t:"s",v:n[u]};else if(h>-1)x={t:"s",v:t[h]};else if(!isNaN(p))x={t:"n",v:p};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return x}function mJ(e,t,n){var r=Gd(e),i=r.getUint32(8,!0),s=12,c=-1,u=-1,h=NaN,p=NaN,g=new Date(2001,0,1);i&1&&(h=fJ(e,s),s+=16),i&2&&(p=r.getFloat64(s,!0),s+=8),i&4&&(g.setTime(g.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(u=r.getUint32(s,!0),s+=4),i&16&&(c=r.getUint32(s,!0),s+=4);var x;switch(e[1]){case 0:break;case 2:x={t:"n",v:h};break;case 3:x={t:"s",v:t[u]};break;case 5:x={t:"d",v:g};break;case 6:x={t:"b",v:p>0};break;case 7:x={t:"n",v:p/86400};break;case 8:x={t:"e",v:0};break;case 9:if(c>-1)x={t:"s",v:n[c]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:x={t:"n",v:h};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return x}function lT(e,t){var n=new Uint8Array(32),r=Gd(n),i=12,s=0;switch(n[0]=5,e.t){case"n":n[1]=2,hJ(n,i,e.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),s|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(i,t.indexOf(e.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,s,!0),n.slice(0,i)}function cT(e,t){var n=new Uint8Array(32),r=Gd(n),i=12,s=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(i,e.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,e.v?1:0,!0),s|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(i,t.indexOf(e.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,s,!0),n.slice(0,i)}function gJ(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return pJ(e,t,n,e[0]);case 5:return mJ(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Fi(e){var t=$t(e);return Oy(t[1][0].data)}function iR(e,t){var n=$t(t.data),r=or(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(c){var u=$t(c.data),h=or(u[1][0].data)>>>0;switch(r){case 1:s[h]=h2(u[3][0].data);break;case 8:{var p=e[Fi(u[9][0].data)][0],g=$t(p.data),x=e[Fi(g[1][0].data)][0],b=or(x.meta[1][0].data);if(b!=2001)throw new Error("2000 unexpected reference to ".concat(b));var _=$t(x.data);s[h]=_[3].map(function(S){return h2(S.data)}).join("")}break}}),s}function vJ(e,t){var n,r,i,s,c,u,h,p,g,x,b,_,S,E,T=$t(e),k=or(T[1][0].data)>>>0,R=or(T[2][0].data)>>>0,A=((r=(n=T[8])==null?void 0:n[0])==null?void 0:r.data)&&or(T[8][0].data)>0||!1,O,I;if((s=(i=T[7])==null?void 0:i[0])!=null&&s.data&&t!=0)O=(u=(c=T[7])==null?void 0:c[0])==null?void 0:u.data,I=(p=(h=T[6])==null?void 0:h[0])==null?void 0:p.data;else if((x=(g=T[4])==null?void 0:g[0])!=null&&x.data&&t!=1)O=(_=(b=T[4])==null?void 0:b[0])==null?void 0:_.data,I=(E=(S=T[3])==null?void 0:S[0])==null?void 0:E.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var M=A?4:1,C=Gd(O),z=[],B=0;B<O.length/2;++B){var re=C.getUint16(B*2,!0);re<65535&&z.push([B,re])}if(z.length!=R)throw"Expected ".concat(R," cells, found ").concat(z.length);var te=[];for(B=0;B<z.length-1;++B)te[z[B][0]]=I.subarray(z[B][1]*M,z[B+1][1]*M);return z.length>=1&&(te[z[z.length-1][0]]=I.subarray(z[z.length-1][1]*M)),{R:k,cells:te}}function xJ(e,t){var n,r=$t(t.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?or(r[7][0].data)>>>0>0?1:0:-1,s=Dk(r[5],function(c){return vJ(c,i)});return{nrows:or(r[4][0].data)>>>0,data:s.reduce(function(c,u){return c[u.R]||(c[u.R]=[]),u.cells.forEach(function(h,p){if(c[u.R][p])throw new Error("Duplicate cell r=".concat(u.R," c=").concat(p));c[u.R][p]=h}),c},[])}}function yJ(e,t,n){var r,i=$t(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(or(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(or(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=bt(s);var c=$t(i[4][0].data),u=iR(e,e[Fi(c[4][0].data)][0]),h=(r=c[17])!=null&&r[0]?iR(e,e[Fi(c[17][0].data)][0]):[],p=$t(c[3][0].data),g=0;p[1].forEach(function(x){var b=$t(x.data),_=e[Fi(b[2][0].data)][0],S=or(_.meta[1][0].data);if(S!=6002)throw new Error("6001 unexpected reference to ".concat(S));var E=xJ(e,_);E.data.forEach(function(T,k){T.forEach(function(R,A){var O=ut({r:g+k,c:A}),I=gJ(R,u,h);I&&(n[O]=I)})}),g+=E.nrows})}function bJ(e,t){var n=$t(t.data),r={"!ref":"A1"},i=e[Fi(n[2][0].data)],s=or(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return yJ(e,i[0],r),r}function wJ(e,t){var n,r=$t(t.data),i={name:(n=r[1])!=null&&n[0]?h2(r[1][0].data):"",sheets:[]},s=Dk(r[2],Fi);return s.forEach(function(c){e[c].forEach(function(u){var h=or(u.meta[1][0].data);h==6e3&&i.sheets.push(bJ(e,u))})}),i}function _J(e,t){var n=Lk(),r=$t(t.data),i=Dk(r[1],Fi);if(i.forEach(function(s){e[s].forEach(function(c){var u=or(c.meta[1][0].data);if(u==2){var h=wJ(e,c);h.sheets.forEach(function(p,g){jk(n,p,g==0?h.name:h.name+"_"+g,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function uT(e){var t,n,r,i,s={},c=[];if(e.FullPaths.forEach(function(h){if(h.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(h){if(h.name.match(/\.iwa$/)){var p;try{p=Us(h.content)}catch(x){return console.log("?? "+h.content.length+" "+(x.message||x))}var g;try{g=Bs(p)}catch(x){return console.log("## "+(x.message||x))}g.forEach(function(x){s[x.id]=x.messages,c.push(x.id)})}}),!c.length)throw new Error("File has no messages");var u=((i=(r=(n=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&or(s[1][0].meta[1][0].data)==1&&s[1][0];if(u||c.forEach(function(h){s[h].forEach(function(p){var g=or(p.meta[1][0].data)>>>0;if(g==1)if(!u)u=p;else throw new Error("Document has multiple roots")})}),!u)throw new Error("Cannot find Document root");return _J(s,u)}function EJ(e,t,n){var r,i,s,c;if(!((r=e[6])!=null&&r[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var u=((c=(s=e[8])==null?void 0:s[0])==null?void 0:c.data)&&or(e[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var h=0,p=Gd(e[7][0].data),g=0,x=[],b=Gd(e[4][0].data),_=0,S=[],E=0;E<t.length;++E){if(t[E]==null){p.setUint16(E*2,65535,!0),b.setUint16(E*2,65535);continue}p.setUint16(E*2,g,!0),b.setUint16(E*2,_,!0);var T,k;switch(typeof t[E]){case"string":T=lT({t:"s",v:t[E]},n),k=cT({t:"s",v:t[E]},n);break;case"number":T=lT({t:"n",v:t[E]},n),k=cT({t:"n",v:t[E]},n);break;case"boolean":T=lT({t:"b",v:t[E]},n),k=cT({t:"b",v:t[E]},n);break;default:throw new Error("Unsupported value "+t[E])}x.push(T),g+=T.length,S.push(k),_+=k.length,++h}for(e[2][0].data=un(h);E<e[7][0].data.length/2;++E)p.setUint16(E*2,65535,!0),b.setUint16(E*2,65535,!0);return e[6][0].data=Ef(x),e[3][0].data=Ef(S),h}function SJ(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Ba(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(bt(r)));var s=K_(n,{range:r,header:1}),c=["~Sh33tJ5~"];s.forEach(function(V){return V.forEach(function(H){typeof H=="string"&&c.push(H)})});var u={},h=[],p=at.read(t.numbers,{type:"base64"});p.FileIndex.map(function(V,H){return[V,p.FullPaths[H]]}).forEach(function(V){var H=V[0],W=V[1];if(H.type==2&&H.name.match(/\.iwa/)){var se=H.content,we=Us(se),Ne=Bs(we);Ne.forEach(function(Te){h.push(Te.id),u[Te.id]={deps:[],location:W,type:or(Te.messages[0].meta[1][0].data)}})}}),h.sort(function(V,H){return V-H});var g=h.filter(function(V){return V>1}).map(function(V){return[V,un(V)]});p.FileIndex.map(function(V,H){return[V,p.FullPaths[H]]}).forEach(function(V){var H=V[0];if(V[1],!!H.name.match(/\.iwa/)){var W=Bs(Us(H.content));W.forEach(function(se){se.messages.forEach(function(we){g.forEach(function(Ne){se.messages.some(function(Te){return or(Te.meta[1][0].data)!=11006&&uJ(Te.data,Ne[1])})&&u[Ne[0]].deps.push(se.id)})})})}});for(var x=at.find(p,u[1].location),b=Bs(Us(x.content)),_,S=0;S<b.length;++S){var E=b[S];E.id==1&&(_=E)}var T=Fi($t(_.messages[0].data)[1][0].data);for(x=at.find(p,u[T].location),b=Bs(Us(x.content)),S=0;S<b.length;++S)E=b[S],E.id==T&&(_=E);for(T=Fi($t(_.messages[0].data)[2][0].data),x=at.find(p,u[T].location),b=Bs(Us(x.content)),S=0;S<b.length;++S)E=b[S],E.id==T&&(_=E);for(T=Fi($t(_.messages[0].data)[2][0].data),x=at.find(p,u[T].location),b=Bs(Us(x.content)),S=0;S<b.length;++S)E=b[S],E.id==T&&(_=E);var k=$t(_.messages[0].data);{k[6][0].data=un(r.e.r+1),k[7][0].data=un(r.e.c+1);var R=Fi(k[46][0].data),A=at.find(p,u[R].location),O=Bs(Us(A.content));{for(var I=0;I<O.length&&O[I].id!=R;++I);if(O[I].id!=R)throw"Bad ColumnRowUIDMapArchive";var M=$t(O[I].messages[0].data);M[1]=[],M[2]=[],M[3]=[];for(var C=0;C<=r.e.c;++C){var z=[];z[1]=z[2]=[{type:0,data:un(C+420690)}],M[1].push({type:2,data:li(z)}),M[2].push({type:0,data:un(C)}),M[3].push({type:0,data:un(C)})}M[4]=[],M[5]=[],M[6]=[];for(var B=0;B<=r.e.r;++B)z=[],z[1]=z[2]=[{type:0,data:un(B+726270)}],M[4].push({type:2,data:li(z)}),M[5].push({type:0,data:un(B)}),M[6].push({type:0,data:un(B)});O[I].messages[0].data=li(M)}A.content=Jp(Qp(O)),A.size=A.content.length,delete k[46];var re=$t(k[4][0].data);{re[7][0].data=un(r.e.r+1);var te=$t(re[1][0].data),Z=Fi(te[2][0].data);A=at.find(p,u[Z].location),O=Bs(Us(A.content));{if(O[0].id!=Z)throw"Bad HeaderStorageBucket";var xe=$t(O[0].messages[0].data);for(B=0;B<s.length;++B){var De=$t(xe[2][0].data);De[1][0].data=un(B),De[4][0].data=un(s[B].length),xe[2][B]={type:xe[2][0].type,data:li(De)}}O[0].messages[0].data=li(xe)}A.content=Jp(Qp(O)),A.size=A.content.length;var ve=Fi(re[2][0].data);A=at.find(p,u[ve].location),O=Bs(Us(A.content));{if(O[0].id!=ve)throw"Bad HeaderStorageBucket";for(xe=$t(O[0].messages[0].data),C=0;C<=r.e.c;++C)De=$t(xe[2][0].data),De[1][0].data=un(C),De[4][0].data=un(r.e.r+1),xe[2][C]={type:xe[2][0].type,data:li(De)};O[0].messages[0].data=li(xe)}A.content=Jp(Qp(O)),A.size=A.content.length;var ee=Fi(re[4][0].data);(function(){for(var V=at.find(p,u[ee].location),H=Bs(Us(V.content)),W,se=0;se<H.length;++se){var we=H[se];we.id==ee&&(W=we)}var Ne=$t(W.messages[0].data);{Ne[3]=[];var Te=[];c.forEach(function(Q,St){Te[1]=[{type:0,data:un(St)}],Te[2]=[{type:0,data:un(1)}],Te[3]=[{type:2,data:cJ(Q)}],Ne[3].push({type:2,data:li(Te)})})}W.messages[0].data=li(Ne);var Re=Qp(H),rt=Jp(Re);V.content=rt,V.size=V.content.length})();var J=$t(re[3][0].data);{var Ee=J[1][0];delete J[2];var ne=$t(Ee.data);{var Ie=Fi(ne[2][0].data);(function(){for(var V=at.find(p,u[Ie].location),H=Bs(Us(V.content)),W,se=0;se<H.length;++se){var we=H[se];we.id==Ie&&(W=we)}var Ne=$t(W.messages[0].data);{delete Ne[6],delete J[7];var Te=new Uint8Array(Ne[5][0].data);Ne[5]=[];for(var Re=0,rt=0;rt<=r.e.r;++rt){var Q=$t(Te);Re+=EJ(Q,s[rt],c),Q[1][0].data=un(rt),Ne[5].push({data:li(Q),type:2})}Ne[1]=[{type:0,data:un(r.e.c+1)}],Ne[2]=[{type:0,data:un(r.e.r+1)}],Ne[3]=[{type:0,data:un(Re)}],Ne[4]=[{type:0,data:un(r.e.r+1)}]}W.messages[0].data=li(Ne);var St=Qp(H),pt=Jp(St);V.content=pt,V.size=V.content.length})()}Ee.data=li(ne)}re[3][0].data=li(J)}k[4][0].data=li(re)}_.messages[0].data=li(k);var j=Qp(b),F=Jp(j);return x.content=F,x.size=x.content.length,p}function hL(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function Ik(e){hL([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Ok(e){hL([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function TJ(e){return Ot.WS.indexOf(e)>-1?"sheet":e==Ot.CS?"chart":e==Ot.DS?"dialog":e==Ot.MS?"macro":e&&e.length?e:"sheet"}function AJ(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,TJ(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function kJ(e,t,n,r,i,s,c,u,h,p,g,x){try{s[r]=Wx(fs(e,n,!0),t);var b=_r(e,t),_;switch(u){case"sheet":_=Y$(b,t,i,h,s[r],p,g,x);break;case"chart":if(_=$$(b,t,i,h,s[r],p,g,x),!_||!_["!drawel"])break;var S=Cx(_["!drawel"].Target,t),E=ky(S),T=LW(fs(e,S,!0),Wx(fs(e,E,!0),S)),k=Cx(T,S),R=ky(k);_=E$(fs(e,k,!0),k,h,Wx(fs(e,R,!0),k),p,_);break;case"macro":_=Q$(b,t,i,h,s[r],p,g,x);break;case"dialog":_=J$(b,t,i,h,s[r],p,g,x);break;default:throw new Error("Unrecognized sheet type "+u)}c[r]=_;var A=[];s&&s[r]&&lr(s[r]).forEach(function(O){var I="";if(s[r][O].Type==Ot.CMNT){I=Cx(s[r][O].Target,t);var M=nQ(_r(e,I,!0),I,h);if(!M||!M.length)return;H4(_,M,!1)}s[r][O].Type==Ot.TCMNT&&(I=Cx(s[r][O].Target,t),A=A.concat(PW(_r(e,I,!0),h)))}),A&&A.length&&H4(_,A,!0,h.people||[])}catch(O){if(h.WTF)throw O}}function Ls(e){return e.charAt(0)=="/"?e.slice(1):e}function NJ(e,t){if(eg(),t=t||{},Ik(t),zs(e,"META-INF/manifest.xml")||zs(e,"objectdata.xml"))return eR(e,t);if(zs(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof uT<"u"){if(e.FileIndex)return uT(e);var n=at.utils.cfb_new();return u4(e).forEach(function(De){Et(n,De,Bz(e,De))}),uT(n)}throw new Error("Unsupported NUMBERS file")}if(!zs(e,"[Content_Types].xml"))throw zs(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):zs(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=u4(e),i=IV(fs(e,"[Content_Types].xml")),s=!1,c,u;if(i.workbooks.length===0&&(u="xl/workbook.xml",_r(e,u,!0)&&i.workbooks.push(u)),i.workbooks.length===0){if(u="xl/workbook.bin",!_r(e,u,!0))throw new Error("Could not find workbook");i.workbooks.push(u),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var h={},p={};if(!t.bookSheets&&!t.bookProps){if(Xx=[],i.sst)try{Xx=tQ(_r(e,Ls(i.sst)),i.sst,t)}catch(De){if(t.WTF)throw De}t.cellStyles&&i.themes.length&&(h=eQ(fs(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(p=Z$(_r(e,Ls(i.style)),i.style,h,t))}i.links.map(function(De){try{var ve=Wx(fs(e,ky(Ls(De))),De);return iQ(_r(e,Ls(De)),ve,De,t)}catch{}});var g=K$(_r(e,Ls(i.workbooks[0])),i.workbooks[0],t),x={},b="";i.coreprops.length&&(b=_r(e,Ls(i.coreprops[0]),!0),b&&(x=eM(b)),i.extprops.length!==0&&(b=_r(e,Ls(i.extprops[0]),!0),b&&BV(b,x,t)));var _={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(b=fs(e,Ls(i.custprops[0]),!0),b&&(_=zV(b,t)));var S={};if((t.bookSheets||t.bookProps)&&(g.Sheets?c=g.Sheets.map(function(ve){return ve.name}):x.Worksheets&&x.SheetNames.length>0&&(c=x.SheetNames),t.bookProps&&(S.Props=x,S.Custprops=_),t.bookSheets&&typeof c<"u"&&(S.SheetNames=c),t.bookSheets?S.SheetNames:t.bookProps))return S;c={};var E={};t.bookDeps&&i.calcchain&&(E=rQ(_r(e,Ls(i.calcchain)),i.calcchain));var T=0,k={},R,A;{var O=g.Sheets;x.Worksheets=O.length,x.SheetNames=[];for(var I=0;I!=O.length;++I)x.SheetNames[I]=O[I].name}var M=s?"bin":"xml",C=i.workbooks[0].lastIndexOf("/"),z=(i.workbooks[0].slice(0,C+1)+"_rels/"+i.workbooks[0].slice(C+1)+".rels").replace(/^\//,"");zs(e,z)||(z="xl/_rels/workbook."+M+".rels");var B=Wx(fs(e,z,!0),z.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=aQ(_r(e,Ls(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=UW(_r(e,Ls(i.people[0])),t)),B&&(B=AJ(B,g.Sheets));var re=_r(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(T=0;T!=x.Worksheets;++T){var te="sheet";if(B&&B[T]?(R="xl/"+B[T][1].replace(/[\/]?xl\//,""),zs(e,R)||(R=B[T][1]),zs(e,R)||(R=z.replace(/_rels\/.*$/,"")+B[T][1]),te=B[T][2]):(R="xl/worksheets/sheet"+(T+1-re)+"."+M,R=R.replace(/sheet0\./,"sheet.")),A=R.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(T!=t.sheets)continue e;break;case"string":if(x.SheetNames[T].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var Z=!1,xe=0;xe!=t.sheets.length;++xe)typeof t.sheets[xe]=="number"&&t.sheets[xe]==T&&(Z=1),typeof t.sheets[xe]=="string"&&t.sheets[xe].toLowerCase()==x.SheetNames[T].toLowerCase()&&(Z=1);if(!Z)continue e}}kJ(e,R,A,x.SheetNames[T],T,k,c,te,t,g,h,p)}return S={Directory:i,Workbook:g,Props:x,Custprops:_,Deps:E,Sheets:c,SheetNames:x.SheetNames,Strings:Xx,Styles:p,Themes:h,SSF:Mn(ct)},t&&t.bookFiles&&(e.files?(S.keys=r,S.files=e.files):(S.keys=[],S.files={},e.FullPaths.forEach(function(De,ve){De=De.replace(/^Root Entry[\/]/,""),S.keys.push(De),S.files[De]=e.FileIndex[ve]}))),t&&t.bookVBA&&(i.vba.length>0?S.vbaraw=_r(e,Ls(i.vba[0]),!0):i.defaults&&i.defaults.bin===KW&&(S.vbaraw=_r(e,"xl/vbaProject.bin",!0))),S}function CJ(e,t){var n=t||{},r="Workbook",i=at.find(e,r);try{if(r="/!DataSpaces/Version",i=at.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(aG(i.content),r="/!DataSpaces/DataSpaceMap",i=at.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=oG(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=at.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var c=lG(i.content);if(c.length!=1||c[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=at.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);uG(i.content)}catch{}if(r="/EncryptionInfo",i=at.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var u=fG(i.content);if(r="/EncryptedPackage",i=at.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(u[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(u[1],i.content,n.password||"",n);if(u[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(u[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function RJ(e,t){return t.bookType=="ods"?fL(e,t):t.bookType=="numbers"?SJ(e,t):t.bookType=="xlsb"?DJ(e,t):IJ(e,t)}function DJ(e,t){lm=1024,e&&!e.SSF&&(e.SSF=Mn(ct)),e&&e.SSF&&(eg(),XE(e.SSF),t.revssf=YE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Kx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",r=BM.indexOf(t.bookType)>-1,i=xk();Ok(t=t||{});var s=ik(),c="",u=0;if(t.cellXfs=[],Ff(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),c="docProps/core.xml",Et(s,c,tM(e.Props,t)),i.coreprops.push(c),fn(t.rels,2,c,Ot.CORE_PROPS),c="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var h=[],p=0;p<e.SheetNames.length;++p)(e.Workbook.Sheets[p]||{}).Hidden!=2&&h.push(e.SheetNames[p]);e.Props.SheetNames=h}for(e.Props.Worksheets=e.Props.SheetNames.length,Et(s,c,iM(e.Props)),i.extprops.push(c),fn(t.rels,3,c,Ot.EXT_PROPS),e.Custprops!==e.Props&&lr(e.Custprops||{}).length>0&&(c="docProps/custom.xml",Et(s,c,aM(e.Custprops)),i.custprops.push(c),fn(t.rels,4,c,Ot.CUST_PROPS)),u=1;u<=e.SheetNames.length;++u){var g={"!id":{}},x=e.Sheets[e.SheetNames[u-1]],b=(x||{})["!type"]||"sheet";switch(b){case"chart":default:c="xl/worksheets/sheet"+u+"."+n,Et(s,c,oQ(u-1,c,t,e,g)),i.sheets.push(c),fn(t.wbrels,-1,"worksheets/sheet"+u+"."+n,Ot.WS[0])}if(x){var _=x["!comments"],S=!1,E="";_&&_.length>0&&(E="xl/comments"+u+"."+n,Et(s,E,uQ(_,E)),i.comments.push(E),fn(g,-1,"../comments"+u+"."+n,Ot.CMNT),S=!0),x["!legacy"]&&S&&Et(s,"xl/drawings/vmlDrawing"+u+".vml",jM(u,x["!comments"])),delete x["!comments"],delete x["!legacy"]}g["!id"].rId1&&Et(s,ky(c),hm(g))}return t.Strings!=null&&t.Strings.length>0&&(c="xl/sharedStrings."+n,Et(s,c,cQ(t.Strings,c,t)),i.strs.push(c),fn(t.wbrels,-1,"sharedStrings."+n,Ot.SST)),c="xl/workbook."+n,Et(s,c,sQ(e,c)),i.workbooks.push(c),fn(t.rels,1,c,Ot.WB),c="xl/theme/theme1.xml",Et(s,c,Sk(e.Themes,t)),i.themes.push(c),fn(t.wbrels,-1,"theme/theme1.xml",Ot.THEME),c="xl/styles."+n,Et(s,c,lQ(e,c,t)),i.styles.push(c),fn(t.wbrels,-1,"styles."+n,Ot.STY),e.vbaraw&&r&&(c="xl/vbaProject.bin",Et(s,c,e.vbaraw),i.vba.push(c),fn(t.wbrels,-1,"vbaProject.bin",Ot.VBA)),c="xl/metadata."+n,Et(s,c,fQ(c)),i.metadata.push(c),fn(t.wbrels,-1,"metadata."+n,Ot.XLMETA),Et(s,"[Content_Types].xml",J3(i,t)),Et(s,"_rels/.rels",hm(t.rels)),Et(s,"xl/_rels/workbook."+n+".rels",hm(t.wbrels)),delete t.revssf,delete t.ssf,s}function IJ(e,t){lm=1024,e&&!e.SSF&&(e.SSF=Mn(ct)),e&&e.SSF&&(eg(),XE(e.SSF),t.revssf=YE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Kx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=BM.indexOf(t.bookType)>-1,i=xk();Ok(t=t||{});var s=ik(),c="",u=0;if(t.cellXfs=[],Ff(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),c="docProps/core.xml",Et(s,c,tM(e.Props,t)),i.coreprops.push(c),fn(t.rels,2,c,Ot.CORE_PROPS),c="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var h=[],p=0;p<e.SheetNames.length;++p)(e.Workbook.Sheets[p]||{}).Hidden!=2&&h.push(e.SheetNames[p]);e.Props.SheetNames=h}e.Props.Worksheets=e.Props.SheetNames.length,Et(s,c,iM(e.Props)),i.extprops.push(c),fn(t.rels,3,c,Ot.EXT_PROPS),e.Custprops!==e.Props&&lr(e.Custprops||{}).length>0&&(c="docProps/custom.xml",Et(s,c,aM(e.Custprops)),i.custprops.push(c),fn(t.rels,4,c,Ot.CUST_PROPS));var g=["SheetJ5"];for(t.tcid=0,u=1;u<=e.SheetNames.length;++u){var x={"!id":{}},b=e.Sheets[e.SheetNames[u-1]],_=(b||{})["!type"]||"sheet";switch(_){case"chart":default:c="xl/worksheets/sheet"+u+"."+n,Et(s,c,$M(u-1,t,e,x)),i.sheets.push(c),fn(t.wbrels,-1,"worksheets/sheet"+u+"."+n,Ot.WS[0])}if(b){var S=b["!comments"],E=!1,T="";if(S&&S.length>0){var k=!1;S.forEach(function(R){R[1].forEach(function(A){A.T==!0&&(k=!0)})}),k&&(T="xl/threadedComments/threadedComment"+u+"."+n,Et(s,T,BW(S,g,t)),i.threadedcomments.push(T),fn(x,-1,"../threadedComments/threadedComment"+u+"."+n,Ot.TCMNT)),T="xl/comments"+u+"."+n,Et(s,T,PM(S)),i.comments.push(T),fn(x,-1,"../comments"+u+"."+n,Ot.CMNT),E=!0}b["!legacy"]&&E&&Et(s,"xl/drawings/vmlDrawing"+u+".vml",jM(u,b["!comments"])),delete b["!comments"],delete b["!legacy"]}x["!id"].rId1&&Et(s,ky(c),hm(x))}return t.Strings!=null&&t.Strings.length>0&&(c="xl/sharedStrings."+n,Et(s,c,TM(t.Strings,t)),i.strs.push(c),fn(t.wbrels,-1,"sharedStrings."+n,Ot.SST)),c="xl/workbook."+n,Et(s,c,tL(e)),i.workbooks.push(c),fn(t.rels,1,c,Ot.WB),c="xl/theme/theme1.xml",Et(s,c,Sk(e.Themes,t)),i.themes.push(c),fn(t.wbrels,-1,"theme/theme1.xml",Ot.THEME),c="xl/styles."+n,Et(s,c,OM(e,t)),i.styles.push(c),fn(t.wbrels,-1,"styles."+n,Ot.STY),e.vbaraw&&r&&(c="xl/vbaProject.bin",Et(s,c,e.vbaraw),i.vba.push(c),fn(t.wbrels,-1,"vbaProject.bin",Ot.VBA)),c="xl/metadata."+n,Et(s,c,LM()),i.metadata.push(c),fn(t.wbrels,-1,"metadata."+n,Ot.XLMETA),g.length>1&&(c="xl/persons/person.xml",Et(s,c,zW(g)),i.people.push(c),fn(t.wbrels,-1,"persons/person.xml",Ot.PEOPLE)),Et(s,"[Content_Types].xml",J3(i,t)),Et(s,"_rels/.rels",hm(t.rels)),Et(s,"xl/_rels/workbook."+n+".rels",hm(t.wbrels)),delete t.revssf,delete t.ssf,s}function Fk(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=gs(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function OJ(e,t){return at.find(e,"EncryptedPackage")?CJ(e,t):aL(e,t)}function FJ(e,t){var n,r=e,i=t||{};return i.type||(i.type=Rt&&Buffer.isBuffer(e)?"buffer":"base64"),n=k3(r,i),NJ(n,i)}function dL(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return u2(e.slice(n),t);default:break e}return jm.to_workbook(e,t)}function MJ(e,t){var n="",r=Fk(e,t);switch(t.type){case"base64":n=gs(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=zd(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=yn(n)),t.type="binary",dL(n,t)}function LJ(e,t){var n=e;return t.type=="base64"&&(n=gs(n)),n=wy.utils.decode(1200,n.slice(2),"str"),t.type="binary",dL(n,t)}function jJ(e){return e.match(/[^\x00-\x7F]/)?Fl(e):e}function fT(e,t,n,r){return r?(n.type="string",jm.to_workbook(e,n)):jm.to_workbook(t,n)}function d2(e,t){ZA();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return d2(new Uint8Array(e),(n=Mn(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),pm={},n.dateNF&&(pm.dateNF=n.dateNF),n.type||(n.type=Rt&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=Rt?"buffer":"binary",r=Dz(e),typeof Uint8Array<"u"&&!Rt&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=jJ(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var c=new ArrayBuffer(3),u=new Uint8Array(c);if(u.foo="bar",!u.foo)return n=Mn(n),n.type="array",d2(ek(r),n)}switch((i=Fk(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return OJ(at.read(r,n),n);break;case 9:if(i[1]<=8)return aL(r,n);break;case 60:return u2(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return Vq(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return EM.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?FJ(r,n):fT(e,r,n,s);case 239:return i[3]===60?u2(r,n):fT(e,r,n,s);case 255:if(i[1]===254)return LJ(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Rd.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Rd.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return c2.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return RM.to_workbook(r,n);break;case 10:case 13:case 32:return MJ(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return zq.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?c2.to_workbook(r,n):fT(e,r,n,s)}function pL(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return u1(t.file,at.write(e,{type:Rt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return at.write(e,t)}function PJ(e,t){var n=Mn(t||{}),r=RJ(e,n);return BJ(r,n)}function BJ(e,t){var n={},r=Rt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?at.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(WE(i))}return t.password&&typeof encrypt_agile<"u"?pL(encrypt_agile(i,t.password),t):t.type==="file"?u1(t.file,i):t.type=="string"?yn(i):i}function UJ(e,t){var n=t||{},r=jQ(e,n);return pL(r,n)}function Cl(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return _y(Fl(r));case"binary":return Fl(r);case"string":return e;case"file":return u1(t.file,r,"utf8");case"buffer":return Rt?Kc(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Cl(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function zJ(e,t){switch(t.type){case"base64":return _y(e);case"binary":return e;case"string":return e;case"file":return u1(t.file,e,"binary");case"buffer":return Rt?Kc(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Rw(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return t.type=="base64"?_y(n):t.type=="string"?yn(n):n;case"file":return u1(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function mL(e,t){ZA(),O$(e);var n=Mn(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=mL(e,n);return n.type="array",WE(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Cl(RQ(e,n),n);case"slk":case"sylk":return Cl(_M.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"htm":case"html":return Cl(oL(e.Sheets[e.SheetNames[i]],n),n);case"txt":return zJ(gL(e.Sheets[e.SheetNames[i]],n),n);case"csv":return Cl(Mk(e.Sheets[e.SheetNames[i]],n),n,"\uFEFF");case"dif":return Cl(EM.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"dbf":return Rw(c2.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"prn":return Cl(jm.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"rtf":return Cl(RM.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"eth":return Cl(SM.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"fods":return Cl(fL(e,n),n);case"wk1":return Rw(Rd.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case"wk3":return Rw(Rd.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Rw(sL(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),UJ(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return PJ(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function VJ(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function HJ(e,t,n){var r={};return r.type="file",r.file=t,VJ(r),mL(e,r)}function qJ(e,t,n,r,i,s,c,u){var h=mr(n),p=u.defval,g=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),x=!0,b=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(b,"__rowNum__",{value:n,enumerable:!1})}catch{b.__rowNum__=n}else b.__rowNum__=n;if(!c||e[n])for(var _=t.s.c;_<=t.e.c;++_){var S=c?e[n][_]:e[r[_]+h];if(S===void 0||S.t===void 0){if(p===void 0)continue;s[_]!=null&&(b[s[_]]=p);continue}var E=S.v;switch(S.t){case"z":if(E==null)break;continue;case"e":E=E==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(s[_]!=null){if(E==null)if(S.t=="e"&&E===null)b[s[_]]=null;else if(p!==void 0)b[s[_]]=p;else if(g&&E===null)b[s[_]]=null;else continue;else b[s[_]]=g&&(S.t!=="n"||S.t==="n"&&u.rawNumbers!==!1)?E:qc(S,E,u);E!=null&&(x=!1)}}return{row:b,isempty:x}}function K_(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],c=0,u="",h={s:{r:0,c:0},e:{r:0,c:0}},p=t||{},g=p.range!=null?p.range:e["!ref"];switch(p.header===1?r=1:p.header==="A"?r=2:Array.isArray(p.header)?r=3:p.header==null&&(r=0),typeof g){case"string":h=qt(g);break;case"number":h=qt(e["!ref"]),h.s.r=g;break;default:h=g}r>0&&(i=0);var x=mr(h.s.r),b=[],_=[],S=0,E=0,T=Array.isArray(e),k=h.s.r,R=0,A={};T&&!e[k]&&(e[k]=[]);var O=p.skipHidden&&e["!cols"]||[],I=p.skipHidden&&e["!rows"]||[];for(R=h.s.c;R<=h.e.c;++R)if(!(O[R]||{}).hidden)switch(b[R]=$n(R),n=T?e[k][R]:e[b[R]+x],r){case 1:s[R]=R-h.s.c;break;case 2:s[R]=b[R];break;case 3:s[R]=p.header[R-h.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),u=c=qc(n,null,p),E=A[c]||0,!E)A[c]=1;else{do u=c+"_"+E++;while(A[u]);A[c]=E,A[u]=1}s[R]=u}for(k=h.s.r+i;k<=h.e.r;++k)if(!(I[k]||{}).hidden){var M=qJ(e,h,k,b,r,s,T,p);(M.isempty===!1||(r===1?p.blankrows!==!1:p.blankrows))&&(_[S++]=M.row)}return _.length=S,_}var aR=/"/g;function GJ(e,t,n,r,i,s,c,u){for(var h=!0,p=[],g="",x=mr(n),b=t.s.c;b<=t.e.c;++b)if(r[b]){var _=u.dense?(e[n]||[])[b]:e[r[b]+x];if(_==null)g="";else if(_.v!=null){h=!1,g=""+(u.rawNumbers&&_.t=="n"?_.v:qc(_,null,u));for(var S=0,E=0;S!==g.length;++S)if((E=g.charCodeAt(S))===i||E===s||E===34||u.forceQuotes){g='"'+g.replace(aR,'""')+'"';break}g=="ID"&&(g='"ID"')}else _.f!=null&&!_.F?(h=!1,g="="+_.f,g.indexOf(",")>=0&&(g='"'+g.replace(aR,'""')+'"')):g="";p.push(g)}return u.blankrows===!1&&h?null:p.join(c)}function Mk(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var i=qt(e["!ref"]),s=r.FS!==void 0?r.FS:",",c=s.charCodeAt(0),u=r.RS!==void 0?r.RS:`
`,h=u.charCodeAt(0),p=new RegExp((s=="|"?"\\|":s)+"+$"),g="",x=[];r.dense=Array.isArray(e);for(var b=r.skipHidden&&e["!cols"]||[],_=r.skipHidden&&e["!rows"]||[],S=i.s.c;S<=i.e.c;++S)(b[S]||{}).hidden||(x[S]=$n(S));for(var E=0,T=i.s.r;T<=i.e.r;++T)(_[T]||{}).hidden||(g=GJ(e,i,T,x,c,h,s,r),g!=null&&(r.strip&&(g=g.replace(p,"")),(g||r.blankrows!==!1)&&n.push((E++?u:"")+g)));return delete r.dense,n.join("")}function gL(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=Mk(e,t);return n}function WJ(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var i=qt(e["!ref"]),s="",c=[],u,h=[],p=Array.isArray(e);for(u=i.s.c;u<=i.e.c;++u)c[u]=$n(u);for(var g=i.s.r;g<=i.e.r;++g)for(s=mr(g),u=i.s.c;u<=i.e.c;++u)if(t=c[u]+s,n=p?(e[g]||[])[u]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}h[h.length]=t+"="+r}return h}function vL(e,t,n){var r=n||{},i=+!r.skipHeader,s=e||{},c=0,u=0;if(s&&r.origin!=null)if(typeof r.origin=="number")c=r.origin;else{var h=typeof r.origin=="string"?Qn(r.origin):r.origin;c=h.r,u=h.c}var p,g={s:{c:0,r:0},e:{c:u,r:c+t.length-1+i}};if(s["!ref"]){var x=qt(s["!ref"]);g.e.c=Math.max(g.e.c,x.e.c),g.e.r=Math.max(g.e.r,x.e.r),c==-1&&(c=x.e.r+1,g.e.r=c+t.length-1+i)}else c==-1&&(c=0,g.e.r=t.length-1+i);var b=r.header||[],_=0;t.forEach(function(E,T){lr(E).forEach(function(k){(_=b.indexOf(k))==-1&&(b[_=b.length]=k);var R=E[k],A="z",O="",I=ut({c:u+_,r:c+T+i});p=Fy(s,I),R&&typeof R=="object"&&!(R instanceof Date)?s[I]=R:(typeof R=="number"?A="n":typeof R=="boolean"?A="b":typeof R=="string"?A="s":R instanceof Date?(A="d",r.cellDates||(A="n",R=Pr(R)),O=r.dateNF||ct[14]):R===null&&r.nullError&&(A="e",R=0),p?(p.t=A,p.v=R,delete p.w,delete p.R,O&&(p.z=O)):s[I]=p={t:A,v:R},O&&(p.z=O))})}),g.e.c=Math.max(g.e.c,u+b.length-1);var S=mr(c);if(i)for(_=0;_<b.length;++_)s[$n(_+u)+S]={t:"s",v:b[_]};return s["!ref"]=bt(g),s}function XJ(e,t){return vL(null,e,t)}function Fy(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=Qn(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Fy(e,ut(t)):Fy(e,ut({r:t,c:n||0}))}function KJ(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Lk(){return{SheetNames:[],Sheets:{}}}function jk(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var c=s&&s[1]||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=c+i)!=-1;++i);}if(eL(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function YJ(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=KJ(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function $J(e,t){return e.z=t,e}function xL(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function QJ(e,t,n){return xL(e,"#"+t,n)}function JJ(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function ZJ(e,t,n,r){for(var i=typeof t!="string"?t:qt(t),s=typeof t=="string"?t:bt(t),c=i.s.r;c<=i.e.r;++c)for(var u=i.s.c;u<=i.e.c;++u){var h=Fy(e,c,u);h.t="n",h.F=s,delete h.v,c==i.s.r&&u==i.s.c&&(h.f=n,r&&(h.D=!0))}return e}var t_={encode_col:$n,encode_row:mr,encode_cell:ut,encode_range:bt,decode_col:hk,decode_row:fk,split_cell:cV,decode_cell:Qn,decode_range:Ba,format_cell:qc,sheet_add_aoa:G3,sheet_add_json:vL,sheet_add_dom:lL,aoa_to_sheet:tg,json_to_sheet:XJ,table_to_sheet:cL,table_to_book:aJ,sheet_to_csv:Mk,sheet_to_txt:gL,sheet_to_json:K_,sheet_to_html:oL,sheet_to_formulae:WJ,sheet_to_row_object_array:K_,sheet_get_cell:Fy,book_new:Lk,book_append_sheet:jk,book_set_sheet_visibility:YJ,cell_set_number_format:$J,cell_set_hyperlink:xL,cell_set_internal_link:QJ,cell_add_comment:JJ,sheet_set_array_formula:ZJ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const sR="/assets/cat-CLjmmsN4.jpeg",ud=(e,t)=>{const n=Object.keys(e).map(r=>r.trim().toLowerCase());for(const r of t){const i=n.indexOf(r.toLowerCase());if(i!==-1)return e[Object.keys(e)[i]]}},eZ=({onSuccess:e,onClose:t})=>{const[n,r]=G.useState("csv"),i=G.useRef(null),s=h=>{i.current&&(i.current.accept=`.${h}, .xls, .xlsx`,i.current.click())},c=h=>{var b,_;const p=(b=h.target.files)==null?void 0:b[0];if(!p)return;const g=new FileReader,x=(_=p.name.split(".").pop())==null?void 0:_.toLowerCase();g.onload=async S=>{var R;const E=(R=S.target)==null?void 0:R.result;let T=[],k=!1;try{if(x==="csv"){const I=E.split(/\r\n|\n/).filter(C=>C.trim()!=="");T=(I[0].toLowerCase().includes("name,serial")?I.slice(1):I).map(C=>{const z=C.split(",").map(B=>B.trim());return{name:z[0],serial:z[1],type:z[2],department:z[3],price:Number(z[4])||0,notes:z[5],status:z[6]||"available"}})}else if(x==="xlsx"||x==="xls"){const O=d2(E,{type:"array"}),I=O.SheetNames[0],M=O.Sheets[I];T=t_.sheet_to_json(M).map(z=>({name:ud(z,["name",""]),serial:ud(z,["serial",""]),type:ud(z,["type",""]),department:ud(z,["department","",""]),price:Number(ud(z,["price",""]))||0,notes:ud(z,["notes",""])||"",status:ud(z,["status",""])||"available"})).filter(z=>z.name&&z.serial)}if(k||T.length===0){alert("  ");return}window.confirm(` ${T.length}  ${p.name}

?`)&&(await x9(T),alert(` ${T.length} !`),e(),t())}catch(A){console.error("Error parsing or importing file:",A),alert(" ")}},x==="xlsx"||x==="xls"?g.readAsArrayBuffer(p):g.readAsText(p),h.target.value=""};return y.jsxs("div",{children:[y.jsx("input",{type:"file",ref:i,className:"hidden",onChange:c}),y.jsx("div",{className:"border-b border-gray-200",children:y.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[y.jsx("button",{onClick:()=>r("csv"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="csv"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"CSV"}),y.jsx("button",{onClick:()=>r("excel"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="excel"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Excel"})]})}),y.jsxs("div",{className:"pt-6",children:[n==="csv"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"font-semibold",children:" CSV"}),y.jsx("p",{className:"text-sm text-gray-600",children:" ():"}),y.jsx("p",{className:"text-sm font-mono bg-gray-100 p-2 rounded",children:"name, serial, type, department, price, notes, status"}),y.jsx("h5",{className:"font-semibold text-sm",children:":"}),y.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded",children:" ULV,SN-123,,.,5000,,available"}),y.jsx("img",{src:sR,alt:"Example Placeholder",className:"w-32 h-32 object-cover rounded-lg"}),y.jsx("button",{onClick:()=>s("csv"),className:"mt-4 px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700",children:" .csv"})]}),n==="excel"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"font-semibold",children:" Excel"}),y.jsx("p",{className:"text-sm text-gray-600",children:" Excel  (Header)  :"}),y.jsx("p",{className:"text-sm font-mono bg-gray-100 p-2 rounded",children:"name (), serial (), type (), department (), price (), notes (), status ()"}),y.jsx("img",{src:sR,alt:"Example Placeholder",className:"w-32 h-32 object-cover rounded-lg"}),y.jsx("button",{onClick:()=>s("xlsx"),className:"mt-4 px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700",children:" .xlsx  .xls"})]})]})]})},tZ=()=>{var u;const[e,t]=G.useState({userCount:0,statusCounts:{}}),[n,r]=G.useState(!0),[i,s]=G.useState("available");G.useEffect(()=>{(async()=>{r(!0);try{const[p,g]=await Promise.all([yf(),a3()]),x=p.reduce((b,_)=>(b[_.status]=(b[_.status]||0)+1,b),{});t({userCount:g.length,statusCounts:x})}catch(p){console.error("Failed to fetch summary stats:",p)}r(!1)})()},[]);const c=["available","borrowed","under_maintenance","pending_repair_approval"];return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"bg-white p-4 rounded-xl border border-[var(--border-color)] shadow-sm",children:[y.jsxs("p",{className:"text-sm text-gray-700",children:[": ",y.jsx("span",{className:"font-semibold text-[var(--primary-color)]",children:((u=Hs[i])==null?void 0:u.text)||i})]}),n?y.jsx("div",{className:"h-12 w-24 bg-gray-200 animate-pulse rounded-md mt-1"}):y.jsx("p",{className:"text-4xl font-bold text-[var(--text-color-dark)]",children:e.statusCounts[i]||0}),y.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:c.map(h=>{var p;return y.jsx("button",{onClick:()=>s(h),className:`text-xs px-2 py-1 rounded-full ${i===h?"bg-[var(--primary-color)] text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:((p=Hs[h])==null?void 0:p.text)||h},h)})})]}),y.jsxs("div",{className:"bg-white p-4 rounded-xl border border-[var(--border-color)] shadow-sm",children:[y.jsx("p",{className:"text-sm text-gray-700",children:""}),n?y.jsx("div",{className:"h-8 w-16 bg-gray-200 animate-pulse rounded-md mt-1"}):y.jsx("p",{className:"text-2xl font-bold text-[var(--text-color-dark)]",children:e.userCount})]})]})},nZ=({onSuccess:e,onClose:t})=>{const[n,r]=G.useState([]),[i,s]=G.useState(""),[c,u]=G.useState(null),[h,p]=G.useState(null),[g,x]=G.useState(null),[b,_]=G.useState(!1),[S,E]=G.useState("");G.useEffect(()=>{qE().then(R=>{r(R),R.length>0&&s(R[0])}).catch(R=>{console.error("Error fetching equipment types:",R),E("")})},[]),G.useEffect(()=>{i&&ze.collection("equipmentTypes").doc(i).get().then(R=>{var A;R.exists?x(((A=R.data())==null?void 0:A.imageUrl)||null):x(null)}).catch(R=>console.error("Error fetching current type image:",R))},[i]),G.useEffect(()=>()=>{h&&URL.revokeObjectURL(h)},[h]);const T=R=>{if(R.target.files&&R.target.files[0]){const A=R.target.files[0];u(A),p(URL.createObjectURL(A))}else u(null),p(null)},k=async R=>{if(R.preventDefault(),E(""),!i){E("");return}if(!c){E("");return}_(!0);try{await c3(i,c),alert(` ${i} `),e(),t()}catch(A){console.error("Failed to upload type image:",A),E(": "+A.message)}finally{_(!1)}};return y.jsxs("form",{onSubmit:k,className:"space-y-4",children:[S&&y.jsx("p",{className:"text-red-500 text-sm",children:S}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"equipmentType",className:"block text-sm font-medium text-gray-700",children:""}),y.jsx("select",{id:"equipmentType",value:i,onChange:R=>s(R.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0,children:n.length===0?y.jsx("option",{value:"",disabled:!0,children:""}):n.map(R=>y.jsx("option",{value:R,children:R},R))})]}),g&&!h&&y.jsxs("div",{className:"mt-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:":"}),y.jsx("img",{src:g,alt:"Current Image",className:"max-w-full h-32 object-contain rounded-md border border-gray-300"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"typeImageFile",className:"block text-sm font-medium text-gray-700",children:""}),y.jsx("input",{type:"file",id:"typeImageFile",accept:"image/*",onChange:T,className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"}),h&&y.jsx("div",{className:"mt-2",children:y.jsx("img",{src:h,alt:"Image Preview",className:"max-w-full h-32 object-contain rounded-md border border-gray-300"})})]}),y.jsxs("div",{className:"flex justify-end gap-3",children:[y.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-slate-200",children:""}),y.jsx("button",{type:"submit",disabled:b||!c,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white disabled:opacity-50",children:b?"...":""})]})]})},oR=()=>{const{user:e,showModal:t,hideModal:n,showToast:r}=$r(),[i,s]=G.useState([]),[c,u]=G.useState(!0),[h,p]=G.useState(""),[g,x]=G.useState((e==null?void 0:e.role)==="admin"?"all":""),[b,_]=G.useState(""),[S,E]=G.useState("date_desc"),[T,k]=G.useState("grid"),[R,A]=G.useState([]),[O,I]=G.useState(new Set),M=()=>{u(!0);const J={q:h,t:b};(e==null?void 0:e.role)==="admin"?g==="all"?J.includeDeleted=!0:g&&(J.f=g,g==="deleted"&&(J.includeDeleted=!0)):g&&g!=="all"&&(J.f=g),yf(J).then(Ee=>{const[ne,Ie]=S.split("_"),j=[...Ee].sort((F,V)=>{var H,W;if(ne==="date"){const se=((H=F.createdAt)==null?void 0:H.seconds)||0,we=((W=V.createdAt)==null?void 0:W.seconds)||0;return Ie==="asc"?se-we:we-se}if(ne==="name"){const se=F.name||"",we=V.name||"";return Ie==="asc"?se.localeCompare(we):we.localeCompare(se)}return 0});s(j)}).catch(Ee=>console.error("Error fetching equipment:",Ee)).finally(()=>u(!1))};G.useEffect(()=>{M()},[h,g,b,S]),G.useEffect(()=>{yf().then(J=>{const Ee=[...new Set(J.map(ne=>ne.type))];A(Ee.sort())})},[]);const C=()=>{t("",y.jsx(J9,{onSuccess:M}))},z=()=>{t("",y.jsx(eZ,{onSuccess:()=>{M(),n()},onClose:n}))},B=()=>{t("",y.jsx(nZ,{onSuccess:M,onClose:n}))},re=async J=>{const Ee=window.prompt(":");if(Ee)try{await g9(J,Ee),M(),alert("")}catch(ne){console.error("Failed to delete equipment:",ne),alert("")}},te=async()=>{const J=window.prompt(` ${O.size} :`);if(J)try{await v9([...O],J),I(new Set),M(),alert("")}catch(Ee){console.error("Failed to delete selected equipment:",Ee),alert("")}},Z=async J=>{var ne;const Ee=J.target.value;if(Ee){if(window.confirm(` ${O.size}  "${((ne=Hs[Ee])==null?void 0:ne.text)||Ee}"?`))try{await m9([...O],Ee),I(new Set),M(),alert("")}catch(Ie){console.error("Failed to update status:",Ie),alert("")}J.target.value=""}},xe=J=>{const Ee=new Set(O);Ee.has(J)?Ee.delete(J):Ee.add(J),I(Ee)},De=()=>{O.size===i.length?I(new Set):I(new Set(i.map(J=>J.id)))},ve=()=>y.jsx("div",{id:"dashEquipList",className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:i.map(J=>{var Ee,ne;return y.jsxs("div",{className:`relative rounded-xl border p-4 bg-white ${O.has(J.id)?"border-[var(--primary-color)]":"border-[var(--border-color)]"} flex items-center justify-between gap-6 shadow-sm transition-all`,children:[y.jsxs("div",{className:"flex items-center gap-4 max-w-xs",children:[(e==null?void 0:e.role)==="admin"&&y.jsx("input",{type:"checkbox",className:"self-start w-4 h-4 text-[var(--primary-color)] bg-gray-100 border-gray-300 rounded focus:ring-[var(--primary-color)]",onChange:()=>xe(J.id),checked:O.has(J.id)}),y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold text-[var(--text-color-dark)]",children:J.name}),y.jsxs("div",{className:"text-sm text-gray-600",children:["S/N: ",J.serial]}),y.jsx("div",{className:"text-xs text-gray-500 mt-1",children:J.type}),y.jsx("span",{className:`mt-2 inline-block text-xs font-medium px-2 py-1 rounded-full ${((Ee=Hs[J.status])==null?void 0:Ee.color)||"bg-gray-100 text-gray-800"}`,children:((ne=Hs[J.status])==null?void 0:ne.text)||J.status})]})]}),y.jsx("div",{className:"flex-shrink-0",children:J.typeImageUrl&&y.jsx("img",{src:J.typeImageUrl,alt:J.name,className:"w-20 h-20 object-cover rounded-md"})}),(e==null?void 0:e.role)==="admin"&&O.has(J.id)&&y.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:y.jsx("button",{onClick:()=>re(J.id),className:"text-xs font-medium text-[var(--danger-color)] hover:underline",children:""})})]},J.id)})}),ee=()=>y.jsx("div",{id:"dashEquipTable",className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[y.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:y.jsxs("tr",{children:[(e==null?void 0:e.role)==="admin"&&y.jsx("th",{scope:"col",className:"p-4",children:y.jsx("input",{type:"checkbox",className:"w-4 h-4 text-[var(--primary-color)] bg-gray-100 border-gray-300 rounded focus:ring-[var(--primary-color)]",onChange:De,checked:O.size>0&&O.size===i.length})}),y.jsx("th",{scope:"col",className:"px-4 py-3",children:""}),y.jsx("th",{scope:"col",className:"px-4 py-3",children:""}),y.jsx("th",{scope:"col",className:"px-4 py-3",children:"Serial No."}),y.jsx("th",{scope:"col",className:"px-4 py-3",children:""}),y.jsx("th",{scope:"col",className:"px-4 py-3",children:""}),(e==null?void 0:e.role)==="admin"&&y.jsx("th",{scope:"col",className:"px-4 py-3",children:""})]})}),y.jsx("tbody",{id:"dashEquipTableBody",children:i.map((J,Ee)=>{var ne,Ie;return y.jsxs("tr",{className:`bg-white border-b hover:bg-gray-50 ${O.has(J.id)?"bg-blue-50":""}`,children:[(e==null?void 0:e.role)==="admin"&&y.jsx("td",{className:"w-4 p-4",children:y.jsx("input",{type:"checkbox",className:"w-4 h-4 text-[var(--primary-color)] bg-gray-100 border-gray-300 rounded focus:ring-[var(--primary-color)]",onChange:()=>xe(J.id),checked:O.has(J.id)})}),y.jsx("td",{className:"px-4 py-2 font-medium text-gray-900",children:Ee+1}),y.jsx("td",{className:"px-4 py-2 font-medium text-gray-900",children:J.name}),y.jsx("td",{className:"px-4 py-2",children:J.serial}),y.jsx("td",{className:"px-4 py-2",children:J.type}),y.jsx("td",{className:"px-4 py-2",children:y.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${((ne=Hs[J.status])==null?void 0:ne.color)||"bg-gray-100 text-gray-800"}`,children:((Ie=Hs[J.status])==null?void 0:Ie.text)||J.status})}),(e==null?void 0:e.role)==="admin"&&y.jsx("td",{className:"px-4 py-2 flex items-center gap-2",children:y.jsx("button",{onClick:()=>re(J.id),className:"font-medium text-[var(--danger-color)] hover:underline",children:""})})]},J.id)})})]})});return y.jsx("div",{className:"tab-content",children:y.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[y.jsxs("div",{className:"xl:col-span-3 bg-white rounded-2xl p-6",children:[y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-[var(--text-color-dark)]",children:""}),y.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[y.jsx("input",{value:h,onChange:J=>p(J.target.value),placeholder:"",className:"px-3 py-2 w-32 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"}),y.jsxs("select",{value:g,onChange:J=>x(J.target.value),className:"px-3 py-2 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]",children:[(e==null?void 0:e.role)==="admin"&&y.jsx("option",{value:"all",children:" ()"}),y.jsx("option",{value:"",children:" "}),y.jsx("option",{value:"available",children:""}),y.jsx("option",{value:"borrowed",children:""}),y.jsx("option",{value:"under_maintenance",children:""}),y.jsx("option",{value:"pending_repair_approval",children:""}),(e==null?void 0:e.role)==="admin"&&y.jsx("option",{value:"deleted",children:""})]}),y.jsxs("select",{value:b,onChange:J=>_(J.target.value),className:"px-3 py-2 rounded-lg border border-[var(--border-color)] max-w-xs overflow-x-auto focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]",children:[y.jsx("option",{value:"",children:""}),R.map(J=>y.jsx("option",{value:J,title:J,children:J.length>30?`${J.substring(0,27)}...`:J},J))]}),y.jsxs("select",{value:S,onChange:J=>E(J.target.value),className:"px-3 py-2 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]",children:[y.jsx("option",{value:"date_desc",children:":  > "}),y.jsx("option",{value:"date_asc",children:":  > "}),y.jsx("option",{value:"name_asc",children:": A > Z"}),y.jsx("option",{value:"name_desc",children:": Z > A"})]})]})]}),y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[y.jsxs("div",{className:"flex items-center gap-2 min-h-[40px]",children:[(e==null?void 0:e.role)==="admin"&&T==="grid"&&i.length>0&&O.size>0&&y.jsxs("div",{className:"flex items-center p-2 rounded-lg border border-gray-300",children:[y.jsx("input",{id:"select-all-checkbox",type:"checkbox",className:"w-4 h-4 text-[var(--primary-color)] bg-gray-100 border-gray-300 rounded focus:ring-[var(--primary-color)]",onChange:De,checked:O.size>0&&O.size===i.length}),y.jsx("label",{htmlFor:"select-all-checkbox",className:"ml-2 text-sm font-medium text-[var(--text-color)]",children:""})]}),(e==null?void 0:e.role)==="admin"&&O.size>0&&y.jsxs(y.Fragment,{children:[y.jsxs("select",{onChange:Z,defaultValue:"",className:"px-3 py-2 rounded-lg border border-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]",children:[y.jsx("option",{value:"",disabled:!0,children:"..."}),y.jsx("option",{value:"available",children:""}),y.jsx("option",{value:"borrowed",children:""}),y.jsx("option",{value:"under_maintenance",children:""}),y.jsx("option",{value:"pending_repair_approval",children:""}),y.jsx("option",{value:"deleted",children:""})]}),y.jsxs("button",{onClick:te,className:"px-4 py-2 rounded-lg bg-[var(--danger-color)] text-white hover:opacity-90 text-sm",children:[" ",O.size," "]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"flex items-center gap-1 bg-gray-200 p-1 rounded-lg",children:[y.jsx("button",{onClick:()=>k("grid"),className:`p-1.5 text-sm rounded-md ${T==="grid"?"bg-white shadow":""}`,children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),y.jsx("button",{onClick:()=>k("table"),className:`p-1.5 text-sm rounded-md ${T==="table"?"bg-white shadow":""}`,children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]}),(e==null?void 0:e.role)==="admin"&&y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:B,className:"px-4 py-2 rounded-lg bg-gray-200 text-[var(--text-color)] hover:bg-gray-300 text-sm",children:""}),y.jsx("button",{onClick:z,id:"btnImportEquipDash",className:"px-4 py-2 rounded-lg bg-gray-200 text-[var(--text-color)] hover:bg-gray-300 text-sm",children:""}),y.jsx("button",{onClick:C,id:"btnAddEquipDash",className:"px-4 py-2 rounded-lg bg-[var(--primary-color)] text-white hover:opacity-90 text-sm",children:""})]})]})]}),y.jsx("div",{className:"overflow-y-auto max-h-[60vh] pr-2 -mr-2 mt-4",children:c?y.jsx("p",{children:"Loading..."}):T==="grid"?ve():ee()})]}),y.jsx("div",{className:"hidden xl:block xl:col-span-1",children:y.jsx(tZ,{})})]})})},rZ=()=>{const{user:e}=$r(),[t,n]=G.useState([]),[r,i]=G.useState(!0),[s,c]=G.useState(new Date().toISOString().slice(0,10)),[u,h]=G.useState(""),[p,g]=G.useState(""),[x,b]=G.useState(""),[_,S]=G.useState(""),[E,T]=G.useState([]),[k,R]=G.useState({});G.useEffect(()=>{(async()=>{i(!0);try{const z=(await yf({f:"available"})).reduce((re,te)=>(te.type&&(re[te.type]||(re[te.type]={count:0,imageUrl:te.typeImageUrl}),re[te.type].count+=1),re),{}),B=Object.keys(z).map(re=>({type:re,count:z[re].count,imageUrl:z[re].imageUrl}));n(B)}catch(C){console.error("Error fetching available equipment types:",C)}i(!1)})()},[]);const A=M=>{const C=E.indexOf(M),z=[...E],B={...k};C===-1?(z.push(M),B[M]=1):(z.splice(C,1),delete B[M]),T(z),R(B)},O=(M,C)=>{const z=t.find(te=>te.type===M);if(!z)return;const B=z.count||0,re=Math.max(1,Math.min(C,B));R({...k,[M]:re})},I=async M=>{if(M.preventDefault(),!e){alert("");return}const C=Object.entries(k).map(([B,re])=>({type:B,quantity:re})).filter(B=>B.quantity>0);if(C.length===0){alert("");return}const z={borrow_date:s,purpose:u,contact_name:p,contact_phone:x,notes:_,equipment_requests:C};try{await y9(z),alert("! "),h(""),g(""),b(""),S(""),R({}),T([])}catch(B){console.error("Error creating borrow request:",B),alert(`: ${B.message}`)}};return r?y.jsx("p",{children:"Loading available equipment..."}):y.jsx("div",{className:"tab-content",children:y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[y.jsx("h3",{className:"text-xl font-semibold text-[var(--text-color-dark)] mb-4",children:""}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"border rounded-xl p-4 bg-gray-50/50",children:[y.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:" "}),y.jsx("div",{className:"space-y-3 max-h-[65vh] overflow-y-auto pr-2 -mr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:t.length>0?t.map(M=>y.jsxs("div",{className:"p-2 border rounded-lg bg-white",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:E.includes(M.type),onChange:()=>A(M.type),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary-color)] focus:ring-[var(--primary-color)]"}),y.jsxs("div",{children:[y.jsx("span",{className:"font-medium text-gray-800 text-sm",children:M.type}),y.jsxs("p",{className:"text-xs text-gray-500",children:[": ",M.count," "]})]})]}),M.imageUrl&&y.jsx("img",{src:M.imageUrl,alt:M.type,className:"w-12 h-12 object-cover rounded-md ml-2 flex-shrink-0"})]}),E.includes(M.type)&&y.jsxs("div",{className:"mt-2 pt-2 border-t border-solid border-gray-200",children:[y.jsx("label",{className:"text-xs font-medium text-gray-700",children:":"}),y.jsx("input",{type:"number",min:"1",max:M.count,value:k[M.type]||1,onChange:C=>O(M.type,parseInt(C.target.value||"1")),className:"w-24 text-center border-gray-300 rounded-md py-1 mt-1 focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]",required:!0})]})]},M.type)):y.jsx("p",{className:"text-gray-500",children:""})})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:""}),y.jsxs("form",{onSubmit:I,className:"space-y-4",children:[y.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),y.jsx("input",{type:"date",value:s,onChange:M=>c(M.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)] bg-gray-50",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-700",children:" ()"}),y.jsx("input",{type:"date",value:s?new Date(new Date(s).getTime()+10080*60*1e3).toISOString().slice(0,10):"",className:"w-full mt-1 px-3 py-2 rounded-lg border border-[var(--border-color)] bg-gray-100",readOnly:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-700",children:"/"}),y.jsx("input",{value:u,onChange:M=>h(M.target.value),placeholder:"...",className:"w-full mt-1 px-3 py-2 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)] bg-gray-50",required:!0})]}),y.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),y.jsx("input",{value:p,onChange:M=>g(M.target.value),placeholder:"-",className:"w-full mt-1 px-3 py-2 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)] bg-gray-50",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),y.jsx("input",{value:x,onChange:M=>b(M.target.value.replace(/[^0-9]/g,"")),placeholder:"08x-xxx-xxxx",className:"w-full mt-1 px-3 py-2 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)] bg-gray-50",type:"tel",pattern:"[0-9]{10}",maxLength:"10",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-700",children:" ()"}),y.jsx("textarea",{value:_,onChange:M=>S(M.target.value),rows:3,placeholder:"  20 ...",className:"w-full mt-1 px-3 py-2 rounded-lg border border-[var(--border-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)] bg-gray-50"})]}),y.jsx("button",{type:"submit",className:"w-full px-4 py-2.5 rounded-lg bg-[var(--success-color)] text-white font-semibold hover:opacity-90 transition-opacity",children:""})]})]})]})]})})},tS=({log:e})=>{if(!e)return null;const{action:t,details:n,timestamp:r,adminName:i}=e,s=()=>{var c,u,h,p,g,x,b,_;try{switch(t){case"DELETE_EQUIPMENT":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-red-600",children:""}),y.jsx("table",{className:"w-full text-sm",children:y.jsxs("tbody",{children:[y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:n.name||"N/A"})]}),y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:"Serial No.:"}),y.jsx("td",{className:"py-1",children:n.serial||"N/A"})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:n.reason||"N/A"})]})]})})]});case"BATCH_DELETE_EQUIPMENT":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-red-600",children:""}),y.jsx("table",{className:"w-full text-sm mb-2",children:y.jsxs("tbody",{children:[y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsxs("td",{className:"py-1",children:[n.count," "]})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:n.reason||"N/A"})]})]})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-slate-500",children:":"}),y.jsx("div",{className:"max-h-40 overflow-y-auto bg-slate-100 p-2 rounded-md text-xs",children:y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-left",children:[y.jsx("th",{className:"py-1 pr-2",children:""}),y.jsx("th",{className:"py-1",children:"Serial No."})]})}),y.jsx("tbody",{children:(c=n.details)==null?void 0:c.map((R,A)=>y.jsxs("tr",{className:"border-b border-slate-200 last:border-b-0",children:[y.jsx("td",{className:"py-1 pr-2",children:R.name||"N/A"}),y.jsx("td",{className:"py-1",children:R.serial||"N/A"})]},A))})]})})]})]});case"ADD_EQUIPMENT":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-green-600",children:""}),y.jsx("table",{className:"w-full text-sm",children:y.jsxs("tbody",{children:[y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:n.name||"N/A"})]}),y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:"Serial No.:"}),y.jsx("td",{className:"py-1",children:n.serial||"N/A"})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:n.type||"N/A"})]})]})})]});case"BATCH_UPDATE_STATUS":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-blue-600",children:""}),y.jsx("table",{className:"w-full text-sm mb-2",children:y.jsxs("tbody",{children:[y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsxs("td",{className:"py-1",children:[n.count," "]})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:((u=Hs[n.newStatus])==null?void 0:u.text)||n.newStatus||"N/A"})]})]})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-slate-500",children:":"}),y.jsx("div",{className:"max-h-40 overflow-y-auto bg-slate-100 p-2 rounded-md text-xs",children:y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-left",children:[y.jsx("th",{className:"py-1 pr-2",children:""}),y.jsx("th",{className:"py-1",children:"Serial No."}),y.jsx("th",{className:"py-1",children:""}),y.jsx("th",{className:"py-1",children:""})]})}),y.jsx("tbody",{children:(h=n.details)==null?void 0:h.map((R,A)=>{var O,I;return y.jsxs("tr",{className:"border-b border-slate-200 last:border-b-0",children:[y.jsx("td",{className:"py-1 pr-2",children:R.name||"N/A"}),y.jsx("td",{className:"py-1",children:R.serial||"N/A"}),y.jsx("td",{className:"py-1",children:((O=Hs[R.oldStatus])==null?void 0:O.text)||R.oldStatus||"N/A"}),y.jsx("td",{className:"py-1",children:((I=Hs[R.newStatus])==null?void 0:I.text)||R.newStatus||"N/A"})]},A)})})]})})]})]});case"IMPORT_EQUIPMENT":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-green-600",children:""}),y.jsx("table",{className:"w-full text-sm mb-2",children:y.jsx("tbody",{children:y.jsxs("tr",{children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsxs("td",{className:"py-1",children:[n.count," "]})]})})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-slate-500",children:":"}),y.jsx("div",{className:"max-h-40 overflow-y-auto bg-slate-100 p-2 rounded-md text-xs",children:y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-left",children:[y.jsx("th",{className:"py-1 pr-2",children:""}),y.jsx("th",{className:"py-1",children:"Serial No."})]})}),y.jsx("tbody",{children:(p=n.details)==null?void 0:p.map((R,A)=>y.jsxs("tr",{className:"border-b border-slate-200 last:border-b-0",children:[y.jsx("td",{className:"py-1 pr-2",children:R.name||"N/A"}),y.jsx("td",{className:"py-1",children:R.serial||"N/A"})]},A))})]})})]})]});case"CREATE_USER":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-green-600",children:""}),y.jsx("table",{className:"w-full text-sm",children:y.jsxs("tbody",{children:[y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:n.name||"N/A"})]}),y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:n.email||"N/A"})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:"ID :"}),y.jsx("td",{className:"py-1",children:y.jsx("code",{className:"font-mono",children:n.uid||"N/A"})})]})]})})]});case"DELETE_USER":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-red-600",children:""}),y.jsx("table",{className:"w-full text-sm",children:y.jsxs("tbody",{children:[y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:n.name||"N/A"})]}),y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:n.email||"N/A"})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:n.reason||"N/A"})]})]})})]});case"UPDATE_USER":const{oldData:S,newData:E}=n,T=new Set([...Object.keys(E||{}),...Object.keys(S||{})]),k=Array.from(T).filter(R=>(S==null?void 0:S[R])!==(E==null?void 0:E[R]));return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-blue-600",children:""}),y.jsxs("p",{className:"text-sm",children:["UID: ",y.jsx("code",{className:"font-mono",children:n.uid})]}),y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{className:"bg-slate-50",children:y.jsxs("tr",{className:"text-left",children:[y.jsx("th",{className:"py-1 px-2",children:""}),y.jsx("th",{className:"py-1 px-2",children:""}),y.jsx("th",{className:"py-1 px-2",children:""})]})}),y.jsx("tbody",{children:k.map(R=>y.jsxs("tr",{className:"border-b border-slate-200 last:border-b-0",children:[y.jsx("td",{className:"py-1 px-2 font-medium",children:R}),y.jsx("td",{className:"py-1 px-2 font-mono text-xs",children:JSON.stringify(S==null?void 0:S[R])||"N/A"}),y.jsx("td",{className:"py-1 px-2 font-mono text-xs",children:JSON.stringify(E==null?void 0:E[R])||"N/A"})]},R))})]}),k.length===0&&y.jsx("p",{className:"text-sm text-slate-500",children:""})]});case"CREATE_BORROW_REQUEST":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-green-600",children:""}),y.jsx("table",{className:"w-full text-sm",children:y.jsxs("tbody",{children:[y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:n.purpose||"N/A"})]}),y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:"ID :"}),y.jsx("td",{className:"py-1",children:y.jsx("code",{className:"font-mono",children:n.borrowId||"N/A"})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:((g=n.equipmentIds)==null?void 0:g.join(", "))||"N/A"})]})]})})]});case"APPROVE_BORROW":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-green-600",children:""}),y.jsx("table",{className:"w-full text-sm",children:y.jsxs("tbody",{children:[y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:"ID :"}),y.jsx("td",{className:"py-1",children:y.jsx("code",{className:"font-mono",children:n.borrowId||"N/A"})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:((x=n.equipmentIds)==null?void 0:x.join(", "))||"N/A"})]})]})})]});case"REJECT_BORROW":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-red-600",children:""}),y.jsx("table",{className:"w-full text-sm",children:y.jsxs("tbody",{children:[y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:"ID :"}),y.jsx("td",{className:"py-1",children:y.jsx("code",{className:"font-mono",children:n.borrowId||"N/A"})})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:((b=n.equipmentIds)==null?void 0:b.join(", "))||"N/A"})]})]})})]});case"APPROVE_REPAIR":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-green-600",children:""}),y.jsx("table",{className:"w-full text-sm",children:y.jsxs("tbody",{children:[y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:"ID :"}),y.jsx("td",{className:"py-1",children:y.jsx("code",{className:"font-mono",children:n.repairId||"N/A"})})]}),y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:n.equipmentName||"N/A"})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:"ID :"}),y.jsx("td",{className:"py-1",children:y.jsx("code",{className:"font-mono",children:n.equipmentId||"N/A"})})]})]})})]});case"REJECT_REPAIR":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-red-600",children:""}),y.jsx("table",{className:"w-full text-sm",children:y.jsxs("tbody",{children:[y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:"ID :"}),y.jsx("td",{className:"py-1",children:y.jsx("code",{className:"font-mono",children:n.repairId||"N/A"})})]}),y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:":"}),y.jsx("td",{className:"py-1",children:n.equipmentName||"N/A"})]}),y.jsxs("tr",{children:[y.jsx("td",{className:"py-1 pr-2 text-slate-500",children:"ID :"}),y.jsx("td",{className:"py-1",children:y.jsx("code",{className:"font-mono",children:n.equipmentId||"N/A"})})]})]})})]});case"APPROVE_AND_AUTO_ASSIGN_BORROW":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-green-600",children:""}),y.jsxs("p",{className:"text-sm",children:["ID : ",y.jsx("code",{className:"font-mono",children:n.borrowId||"N/A"})]}),y.jsx("p",{className:"text-sm text-slate-500",children:":"}),y.jsx("div",{className:"max-h-40 overflow-y-auto bg-slate-100 p-2 rounded-md text-xs",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-left",children:[y.jsx("th",{className:"py-1 pr-2",children:""}),y.jsx("th",{className:"py-1",children:"Serial No."})]})}),y.jsx("tbody",{children:(_=n.assignedEquipment)==null?void 0:_.map(R=>y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1 pr-2",children:R.name}),y.jsx("td",{children:R.serial})]},R.id))})]})})]});case"PROCESS_RETURN":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-blue-600",children:""}),y.jsxs("p",{className:"text-sm",children:["ID : ",y.jsx("code",{className:"font-mono",children:n.borrowId||"N/A"})]}),y.jsx("p",{className:"text-sm",children:' " ()"'})]});case"CONFIRM_DELIVERY":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-green-600",children:""}),y.jsxs("p",{className:"text-sm",children:["ID : ",y.jsx("code",{className:"font-mono",children:n.borrowRequestId||"N/A"})]}),y.jsxs("p",{className:"text-sm",children:["ID : ",y.jsx("code",{className:"font-mono",children:n.equipmentId||"N/A"})]})]});case"COMPLETE_REPAIR":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-green-600",children:""}),y.jsxs("p",{className:"text-sm",children:["ID : ",y.jsx("code",{className:"font-mono",children:n.repairId||"N/A"})]}),y.jsxs("p",{className:"text-sm",children:["ID : ",y.jsx("code",{className:"font-mono",children:n.equipmentId||"N/A"})]})]});case"CHANGE_EQUIPMENT_AND_DELIVER":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-blue-600",children:""}),y.jsxs("p",{className:"text-sm",children:["ID : ",y.jsx("code",{className:"font-mono",children:n.borrowRequestId||"N/A"})]}),y.jsxs("p",{className:"text-sm",children:[": ",y.jsx("code",{className:"font-mono",children:n.faultyEquipmentId||"N/A"})]}),y.jsxs("p",{className:"text-sm",children:[": ",y.jsx("code",{className:"font-mono",children:n.replacementId||"N/A"})]})]});case"POST_ASSESSMENT":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-blue-600",children:""}),y.jsxs("p",{className:"text-sm",children:["ID : ",y.jsx("code",{className:"font-mono",children:n.borrowRequestId||"N/A"})]}),y.jsxs("p",{className:"text-sm",children:["ID : ",y.jsx("code",{className:"font-mono",children:n.equipmentId||"N/A"})]}),y.jsxs("p",{className:"text-sm",children:[": ",n.isAbnormal?y.jsx("span",{className:"text-red-600",children:""}):y.jsx("span",{className:"text-green-600",children:""})]}),n.isAbnormal&&y.jsxs("p",{className:"text-sm",children:[": ",n.estimatedCost||0," "]})]});case"CREATE_REPAIR_REQUEST_FROM_ASSESSMENT":return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:"font-semibold text-lg text-orange-600",children:""}),y.jsxs("p",{className:"text-sm",children:["ID : ",y.jsx("code",{className:"font-mono",children:n.repairId||"N/A"})]}),y.jsxs("p",{className:"text-sm",children:["ID : ",y.jsx("code",{className:"font-mono",children:n.equipmentId||"N/A"})]})]});default:return y.jsxs("div",{className:"space-y-2",children:[y.jsx("h4",{className:"font-semibold text-lg",children:" Log ()"}),y.jsx("pre",{className:"text-xs bg-gray-100 p-4 rounded-md overflow-x-auto",children:JSON.stringify(n,null,2)})]})}}catch(S){return console.error("Error rendering log detail:",S,e),y.jsxs("div",{className:"space-y-2 text-red-500",children:[y.jsx("h4",{className:"font-semibold text-lg",children:""}),y.jsx("p",{children:" log "}),y.jsx("pre",{className:"text-xs bg-gray-100 p-4 rounded-md overflow-x-auto text-black",children:JSON.stringify(e,null,2)})]})}};return y.jsxs("div",{className:"text-slate-800",children:[s(),y.jsxs("div",{className:"mt-4 pt-4 border-t text-xs text-slate-500",children:[y.jsxs("p",{children:[": ",y.jsx("span",{className:"font-medium",children:i||"N/A"})]}),y.jsxs("p",{children:[": ",y.jsx("span",{className:"font-medium",children:r&&typeof r.toDate=="function"?r.toDate().toLocaleString("th-TH"):"N/A"})]})]})]})},iZ=({userId:e})=>{const{user:t,showModal:n,hideModal:r}=$r(),[i,s]=G.useState([]),[c,u]=G.useState(!0),[h,p]=G.useState("all"),[g,x]=G.useState(""),[b,_]=G.useState([]);G.useEffect(()=>{u(!0);try{const A=b9(e,O=>{s(O),u(!1)});return()=>{A&&A()}}catch(A){console.error("Error fetching borrow history:",A),u(!1)}},[e]);const S=()=>{const A=t_.json_to_sheet(i.map(I=>{var M;return{BorrowId:I.id,EquipmentCount:((M=I.equipment_requests)==null?void 0:M.reduce((C,z)=>C+z.quantity,0))||0,BorrowDate:I.borrow_date,UserName:I.user_name,Status:I.status,Details:JSON.stringify(I.equipment_requests,null,2)}})),O=t_.book_new();t_.book_append_sheet(O,A,"Borrow History"),HJ(O,"borrow_history.xlsx")},E=async()=>{const A=prompt(":");if(A){try{await o3(A)}catch{alert(" ");return}if(window.confirm("-? "))try{await l3(),alert("-")}catch(O){console.error("Error clearing borrow history:",O),alert("")}}},T=async A=>{const O=await GE(void 0,void 0,void 0,A);_(O),n("",y.jsx("div",{children:O.map(I=>y.jsx(tS,{log:I},I.id))}))},k=i.filter(A=>{const O=()=>h==="all"?!0:h==="borrowed"?["pending_borrow_approval","pending_delivery","borrowed"].includes(A.status):h==="returned"?["returned","returned_pending_assessment","completed"].includes(A.status):!0,I=()=>g?A.borrow_date===g:!0;return O()&&I()});if(c)return y.jsx("p",{children:"Loading borrow history..."});const R=(t==null?void 0:t.role)==="admin";return y.jsx("div",{className:"tab-content",children:y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[y.jsxs("h3",{className:"text-lg font-semibold text-[var(--text-color-dark)]",children:["-",e?`: ${e}`:""]}),y.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4 mt-4",children:y.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.jsx("input",{type:"date",value:g,onChange:A=>x(A.target.value),className:"px-3 py-2 h-full rounded-lg border border-[var(--border-color)] text-sm focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)] bg-gray-50"}),y.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 p-1 rounded-lg",children:[y.jsx("button",{onClick:()=>p("all"),className:`px-3 py-1 text-sm rounded-md ${h==="all"?"bg-[var(--primary-color)] text-white shadow":"text-gray-600 hover:bg-gray-200"}`,children:""}),y.jsx("button",{onClick:()=>p("borrowed"),className:`px-3 py-1 text-sm rounded-md ${h==="borrowed"?"bg-[var(--primary-color)] text-white shadow":"text-gray-600 hover:bg-gray-200"}`,children:""}),y.jsx("button",{onClick:()=>p("returned"),className:`px-3 py-1 text-sm rounded-md ${h==="returned"?"bg-[var(--primary-color)] text-white shadow":"text-gray-600 hover:bg-gray-200"}`,children:""})]}),R&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:S,className:"px-4 py-2 rounded-lg bg-[var(--success-color)] text-white hover:opacity-90 text-sm",children:"Export to Excel"}),y.jsx("button",{onClick:E,className:"px-4 py-2 rounded-lg bg-[var(--danger-color)] text-white hover:opacity-90 text-sm",children:"Clear History"})]})]})}),y.jsx("div",{className:"mt-4 space-y-3 max-h-[60vh] overflow-y-auto pr-2 -mr-2",children:k.length===0?y.jsx("p",{className:"text-gray-500",children:""}):k.map(A=>{var M;const{text:O,color:I}=$9(A.status);return y.jsxs("div",{className:"p-3 rounded-lg border border-[var(--border-color)] text-sm bg-white shadow-sm",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("span",{className:"font-semibold text-[var(--text-color-dark)]",children:[" #",A.id.substring(0,6),"... (",((M=A.equipment_requests)==null?void 0:M.reduce((C,z)=>C+z.quantity,0))||0," )"]}),y.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${I}`,children:O})]}),y.jsxs("p",{className:"text-gray-600 mt-1",children:[": ",A.borrow_date," | : ",A.user_name]}),y.jsx("div",{className:"text-right mt-1",children:y.jsx("button",{onClick:()=>T(A.id),className:"text-xs text-[var(--primary-color)] hover:underline",children:""})})]},A.id)})})]})})},aZ=({faultyEquipment:e,onClose:t,onConfirmChange:n})=>{const[r,i]=G.useState([]),[s,c]=G.useState(""),[u,h]=G.useState(!0);G.useEffect(()=>{(async()=>{if(e!=null&&e.type){h(!0);try{const x=await yf({f:"available",t:e.type});i(x.filter(b=>b.id!==e.id))}catch(x){console.error("Error fetching replacement equipment:",x)}h(!1)}})()},[e]);const p=()=>{if(!s){alert("");return}n(s)};return y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-2",children:""}),y.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[" (",e.name,")  "]}),u?y.jsx("p",{children:"..."}):y.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2 -mr-2",children:r.length>0?y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(g=>y.jsxs("div",{onClick:()=>c(g.id),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${s===g.id?"border-blue-600 bg-blue-50":"border-gray-200 bg-white"}`,children:[y.jsx("img",{src:g.typeImageUrl||"https://via.placeholder.com/150",alt:g.name,className:"w-full h-32 object-cover rounded-md mb-2"}),y.jsx("p",{className:"font-semibold text-sm",children:g.name}),y.jsxs("p",{className:"text-xs text-gray-500",children:["S/N: ",g.serial]})]},g.id))}):y.jsx("p",{className:"text-center text-gray-500 py-4",children:""})}),y.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300",children:""}),y.jsx("button",{onClick:p,disabled:!s||u,className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:""})]})]})},lR=["","","","","","",""],sZ=({borrowRequest:e,equipment:t,onClose:n,onSuccess:r})=>{const{showModal:i,hideModal:s,showToast:c}=$r(),[u,h]=G.useState(lR.reduce((R,A)=>({...R,[A]:""}),{})),[p,g]=G.useState(""),[x,b]=G.useState(!1),_=(R,A)=>{h(O=>({...O,[R]:A}))},S=G.useMemo(()=>Object.values(u).some(R=>R===""),[u]),E=async(R,A)=>{b(!0);try{await j9(R,A),c("Success",""),r()}catch(O){console.error("Failed to change equipment:",O),c("Error","")}b(!1)},T=R=>{n(),i("",y.jsx(aZ,{faultyEquipment:t,onClose:()=>i(null,null),onConfirmChange:A=>E(R,A)}))},k=async()=>{const R={borrowRequestId:e.id,equipmentId:t.id,assessments:u,notes:p,assessedAt:new Date};if(S)T(R);else{b(!0);try{await L9(R),c("Success",""),r()}catch(A){console.error("Failed to confirm delivery:",A),c("Error","")}b(!1)}};return y.jsxs("div",{className:"p-4",children:[y.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[": ",t.name]}),y.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["S/N: ",t.serial," (: ",e.user_name,")"]}),y.jsx("div",{className:"space-y-3",children:lR.map((R,A)=>y.jsxs("div",{className:"p-3 border rounded-lg flex justify-between items-center bg-gray-50",children:[y.jsxs("span",{className:"font-medium text-sm",children:[A+1,". ",R]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("label",{className:"flex items-center gap-1 cursor-pointer",children:y.jsx("input",{type:"radio",name:`assessment-${R}`,checked:u[R]==="",onChange:()=>_(R,""),className:"h-4 w-4"})}),y.jsx("label",{className:"flex items-center gap-1 cursor-pointer",children:y.jsx("input",{type:"radio",name:`assessment-${R}`,checked:u[R]==="",onChange:()=>_(R,""),className:"h-4 w-4"})})]})]},R))}),y.jsxs("div",{className:"mt-4",children:[y.jsx("label",{htmlFor:"assessment-notes",className:"text-sm font-medium",children:""}),y.jsx("textarea",{id:"assessment-notes",value:p,onChange:R=>g(R.target.value),rows:3,className:"w-full mt-1 px-3 py-2 rounded-lg border border-gray-300"})]}),y.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[y.jsx("button",{onClick:n,disabled:x,className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300 disabled:opacity-50",children:""}),S?y.jsx("button",{onClick:k,disabled:x,className:"px-4 py-2 rounded-lg bg-yellow-500 text-white hover:bg-yellow-600 disabled:opacity-50",children:"/"}):y.jsx("button",{onClick:k,disabled:x,className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:" ()"})]})]})},cR=["","","","","","",""],oZ=({borrowRecord:e,equipment:t,onClose:n,onSubmit:r})=>{const[i,s]=G.useState(cR.reduce((k,R)=>({...k,[R]:""}),{})),[c,u]=G.useState(""),[h,p]=G.useState(""),[g,x]=G.useState(""),[b,_]=G.useState(""),S=G.useMemo(()=>Object.values(i).some(k=>k===""),[i]),E=G.useMemo(()=>!e.due_date||!e.returned_date?!1:new Date(e.returned_date)>new Date(e.due_date),[e]),T=()=>{if(E&&!b){alert("");return}if(S&&!h){alert("");return}const k={borrowRequestId:e.id,equipmentId:t.id,assessments:i,isAbnormal:S,damageDescription:S?h:null,estimatedCost:S?parseFloat(g)||0:null,isLate:E,lateReturnReason:E?b:null,notes:c,assessedAt:new Date};r(k)};return y.jsxs("div",{className:"p-4",children:[y.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[": ",t.name]}),y.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["S/N: ",t.serial," (: ",e.user_name,")"]}),y.jsxs("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto pr-2 -mr-2",children:[cR.map((k,R)=>y.jsxs("div",{className:"p-3 border rounded-lg flex justify-between items-center bg-gray-50",children:[y.jsxs("span",{className:"font-medium text-sm",children:[R+1,". ",k]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[y.jsx("input",{type:"radio",name:`assessment-${k}`,checked:i[k]==="",onChange:()=>s(A=>({...A,[k]:""})),className:"h-4 w-4"}),""]}),y.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[y.jsx("input",{type:"radio",name:`assessment-${k}`,checked:i[k]==="",onChange:()=>s(A=>({...A,[k]:""})),className:"h-4 w-4"}),""]})]})]},k)),E&&y.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-yellow-50 border border-yellow-200",children:[y.jsx("label",{htmlFor:"late-reason",className:"text-sm font-medium text-yellow-800",children:"!  :"}),y.jsx("textarea",{id:"late-reason",value:b,onChange:k=>_(k.target.value),rows:2,className:"w-full mt-1 px-3 py-2 rounded-lg border-yellow-300 focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]}),S&&y.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-red-50 border border-red-200",children:[y.jsx("label",{htmlFor:"damage-desc",className:"text-sm font-medium text-red-800",children:"*  :"}),y.jsx("textarea",{id:"damage-desc",value:h,onChange:k=>p(k.target.value),placeholder:"...",rows:3,className:"w-full mt-1 px-3 py-2 rounded-lg border-red-300 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0}),y.jsx("label",{htmlFor:"estimated-cost",className:"text-sm font-medium text-red-800 mt-2 block",children:" ():"}),y.jsx("input",{id:"estimated-cost",type:"number",value:g,onChange:k=>{const R=k.target.value;/^\d*\.?\d*$/.test(R)&&x(R)},placeholder:"0.00",className:"w-full mt-1 px-3 py-2 rounded-lg border-red-300 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),y.jsxs("div",{className:"mt-4",children:[y.jsx("label",{htmlFor:"assessment-notes",className:"text-sm font-medium",children:""}),y.jsx("textarea",{id:"assessment-notes",value:c,onChange:k=>u(k.target.value),rows:2,className:"w-full mt-1 px-3 py-2 rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"})]})]}),y.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[y.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300",children:""}),y.jsx("button",{onClick:T,className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:""})]})]})},lZ=({repairRequest:e,onClose:t,onSubmit:n})=>{const{user:r}=$r(),[i,s]=G.useState(e.repair_details||""),[c,u]=G.useState(e.cost||""),[h,p]=G.useState(e.replaced_parts||""),g=()=>{if(!i){alert("");return}console.log("User UID before submit:",r.uid);const x={repairId:e.id,repairDetails:i,finalCost:parseFloat(c)||0,replacedParts:h,completedAt:new Date,technicianId:r.uid,technicianName:r.name};n(x)};return y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:""}),y.jsxs("div",{className:"space-y-4 text-sm",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{type:"text",value:new Date().toLocaleDateString("th-TH"),className:"w-full px-3 py-2 rounded-lg border bg-gray-100",disabled:!0}),y.jsx("input",{type:"text",value:(r==null?void 0:r.displayName)||"",className:"w-full px-3 py-2 rounded-lg border bg-gray-100",disabled:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"font-medium text-gray-700",children:" ():"}),y.jsx("p",{className:"w-full mt-1 px-3 py-2 rounded-lg border bg-gray-100 min-h-[40px]",children:e.damage_description})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"repair-details",className:"font-medium text-gray-700",children:":"}),y.jsx("textarea",{id:"repair-details",value:i,onChange:x=>s(x.target.value),rows:3,className:"w-full mt-1 px-3 py-2 rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"replaced-parts",className:"font-medium text-gray-700",children:"/ ():"}),y.jsx("textarea",{id:"replaced-parts",value:h,onChange:x=>p(x.target.value),rows:2,className:"w-full mt-1 px-3 py-2 rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"final-cost",className:"font-medium text-gray-700",children:" ():"}),y.jsx("input",{id:"final-cost",type:"number",value:c,onChange:x=>{const b=x.target.value;/^\d*\.?\d*$/.test(b)&&u(b)},placeholder:"0.00",className:"w-full mt-1 px-3 py-2 rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]"})]})]}),y.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300",children:""}),y.jsx("button",{onClick:g,className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:""})]})]})},yL=({repair:e,onClose:t})=>{var u;const[n,r]=G.useState(null),[i,s]=G.useState(!0);G.useEffect(()=>{(async()=>{if(e.assessment_id)try{const p=await M9(e.assessment_id);r(p)}catch(p){console.error("Error fetching assessment details:",p)}s(!1)})()},[e.assessment_id]);const c=()=>n!=null&&n.assessments?y.jsx("div",{className:"space-y-1",children:Object.entries(n.assessments).map(([h,p])=>y.jsxs("div",{className:"flex justify-between items-center text-xs",children:[y.jsxs("span",{children:["- ",h]}),y.jsx("span",{className:`${p===""?"text-green-600":"text-red-600"} font-semibold`,children:p})]},h))}):null;return y.jsxs("div",{className:"p-4 text-gray-800",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:""}),y.jsxs("div",{className:"space-y-3 text-sm",children:[y.jsxs("p",{children:[y.jsx("strong",{children:":"})," ",e.equipment_name," (S/N: ",e.equipment_serial,")"]}),y.jsxs("p",{children:[y.jsx("strong",{children:":"})," ",e.equipment_type]}),y.jsxs("p",{children:[y.jsx("strong",{children:":"})," ",e.damage_description]}),e.cost>0&&y.jsxs("p",{children:[y.jsx("strong",{children:":"})," ",e.cost.toLocaleString()," "]}),y.jsxs("p",{children:[y.jsx("strong",{children:":"})," ",new Date((u=e.request_date)==null?void 0:u.toDate()).toLocaleString("th-TH")]}),i?y.jsx("p",{children:"Loading assessment details..."}):n&&y.jsxs("div",{className:"mt-4 pt-3 border-t",children:[y.jsx("p",{className:"font-semibold mb-2",children:":"}),c(),n.notes&&y.jsxs("p",{className:"text-xs mt-2 text-gray-600",children:[y.jsx("strong",{children:":"})," ",n.notes]})]})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300",children:""})})]})},cZ=()=>{const{showModal:e,hideModal:t,showToast:n}=$r(),[r,i]=G.useState([]),[s,c]=G.useState([]),[u,h]=G.useState([]),[p,g]=G.useState([]),[x,b]=G.useState(!0),_=async()=>{b(!0);try{const[I,M,C,z]=await Promise.all([N9(),S9(),T9(),P9()]);i(I),c(M),h(C),g(z)}catch(I){console.error("Error fetching tech data:",I),n("Error","Failed to fetch technician data.")}b(!1)};G.useEffect(()=>{_()},[]);const S=I=>{e("",y.jsx(yL,{repair:I,onClose:t}))},E=async I=>{try{await A9(I),n("Success",""),_()}catch(M){console.error("Failed to process return:",M),n("Error","")}},T=(I,M)=>{e(`: ${M.name}`,y.jsx(sZ,{borrowRequest:I,equipment:M,onClose:t,onSuccess:()=>{t(),_()}}))},k=async I=>{try{await B9(I),n("Success",""),t(),_()}catch(M){console.error("Failed to submit post-assessment:",M),n("Error","")}},R=(I,M)=>{e("",y.jsx(oZ,{borrowRecord:I,equipment:M,onClose:t,onSubmit:k}))},A=async I=>{try{await U9(I),n("Success",""),t(),_()}catch(M){console.error("Failed to complete repair:",M),n("Error","")}},O=I=>{e("",y.jsx(lZ,{repairRequest:I,onClose:t,onSubmit:A}))};return x?y.jsx("p",{children:"Loading..."}):y.jsx("div",{className:"tab-content",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-5",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-4 text-[var(--text-color-dark)]",children:[y.jsx("h3",{className:"text-base font-semibold",children:"1. "}),y.jsx("div",{className:"mt-3 space-y-3 max-h-[70vh] overflow-y-auto pr-2 -mr-2",children:s.length===0?y.jsx("p",{className:"text-gray-500 text-center py-4",children:""}):s.map(I=>{var M;return y.jsxs("div",{className:"p-3 rounded-lg border border-[var(--border-color)] bg-white shadow-sm text-sm",children:[y.jsxs("p",{className:"font-semibold text-gray-800",children:[": ",I.user_name]}),y.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[": ",I.borrow_date]}),((M=I.equipment_assigned)==null?void 0:M.map(C=>y.jsxs("div",{className:"p-2 mt-2 rounded-md bg-gray-50 border border-gray-200 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-gray-700",children:C.name}),y.jsxs("p",{className:"text-xs text-gray-500",children:["S/N: ",C.serial]})]}),y.jsx("button",{onClick:()=>T(I,C),className:"px-3 py-1 text-xs rounded-md bg-[var(--primary-color)] text-white hover:bg-[var(--primary-color-dark)] transition-colors",children:""})]},C.id)))||y.jsx("p",{className:"text-xs text-red-500 mt-2",children:""})]},I.id)})})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-4 text-[var(--text-color-dark)]",children:[y.jsx("h3",{className:"text-base font-semibold",children:"2.  ()"}),y.jsx("div",{className:"mt-3 space-y-3 max-h-[70vh] overflow-y-auto pr-2 -mr-2",children:u.length===0?y.jsx("p",{className:"text-gray-500 text-center py-4",children:""}):u.map(I=>{var M;return y.jsxs("div",{className:"p-3 rounded-lg border border-[var(--border-color)] bg-white shadow-sm text-sm",children:[y.jsxs("p",{className:"font-semibold text-gray-800",children:[": ",I.user_name]}),y.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[": ",I.due_date]}),y.jsx("ul",{className:"list-disc list-inside text-xs pl-1 space-y-1 mb-3 text-gray-700",children:(M=I.equipment_assigned)==null?void 0:M.map(C=>y.jsxs("li",{children:[C.name," (S/N: ",C.serial,")"]},C.id))}),y.jsx("button",{onClick:()=>E(I.id),className:"w-full px-3 py-1.5 text-sm rounded-md bg-orange-500 text-white hover:bg-orange-600 transition-colors",children:""})]},I.id)})})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-4 text-[var(--text-color-dark)]",children:[y.jsx("h3",{className:"text-base font-semibold",children:"3. "}),y.jsx("div",{className:"mt-3 space-y-3 max-h-[70vh] overflow-y-auto pr-2 -mr-2",children:p.length===0?y.jsx("p",{className:"text-gray-500 text-center py-4",children:""}):p.map(I=>{var M,C;return y.jsxs("div",{className:"p-3 rounded-lg border border-[var(--border-color)] bg-white shadow-sm text-sm",children:[y.jsxs("p",{className:"font-semibold text-gray-800",children:[": ",I.user_name]}),y.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[": ",((M=I.returned_date)==null?void 0:M.toDate().toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}))||"N/A"]}),(C=I.equipment_returned)==null?void 0:C.map(z=>y.jsxs("div",{className:"p-2 mt-2 rounded-md bg-gray-50 border border-gray-200 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-gray-700",children:z.name}),y.jsxs("p",{className:"text-xs text-gray-500",children:["S/N: ",z.serial]})]}),y.jsx("button",{onClick:()=>R(I,z),className:"px-3 py-1 text-xs rounded-md bg-green-600 text-white hover:bg-green-700 transition-colors",children:""})]},z.id))]},I.id)})})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-4 text-[var(--text-color-dark)]",children:[y.jsx("h3",{className:"text-base font-semibold",children:"4. "}),y.jsx("div",{className:"mt-3 space-y-3 max-h-[70vh] overflow-y-auto pr-2 -mr-2",children:r.length===0?y.jsx("p",{className:"text-gray-500 text-center py-4",children:""}):r.map(I=>{var z;const{text:M,color:C}=Q9(I.status);return y.jsxs("div",{className:"p-3 rounded-lg border border-[var(--border-color)] bg-white shadow-sm text-sm",children:[y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[y.jsx("span",{className:"font-semibold text-gray-800",children:I.equipment_name}),y.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${C}`,children:M})]}),y.jsxs("p",{className:"text-gray-600 truncate",children:[": ",I.damage_description]}),y.jsxs("p",{className:"text-xs text-gray-500",children:[": ",(z=I.request_date)==null?void 0:z.toDate().toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"})]}),y.jsxs("div",{className:"mt-3 flex justify-end items-center gap-2",children:[(I.status==="repair_approved"||I.status==="repair_in_progress")&&y.jsx("button",{onClick:()=>O(I),className:"px-3 py-1 text-xs rounded-md bg-purple-600 text-white hover:bg-purple-700 transition-colors",children:""}),y.jsx("button",{onClick:()=>S(I),className:"px-3 py-1 text-xs rounded-md bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors",children:""})]})]},I.id)})})]})]})})},uZ=({userId:e})=>{const{showModal:t}=$r(),[n,r]=G.useState([]),[i,s]=G.useState(!0),[c,u]=G.useState(""),[h,p]=G.useState("all");G.useEffect(()=>{(async()=>{s(!0);try{let _=(await GE(c,!1,e)).filter(S=>S.action.includes("ASSESSMENT")||S.action.includes("REPAIR")||S.action.includes("DELIVERY")||S.action.includes("CHANGE_EQUIPMENT"));h!=="all"&&(_=_.filter(S=>S.action.toLowerCase().includes(h))),r(_)}catch(b){console.error("Error fetching technician activity log:",b)}s(!1)})()},[e,c,h]);const g=x=>{t("",y.jsx(tS,{log:x},x.id))};return i?y.jsx("p",{children:"Loading history..."}):y.jsxs("div",{className:"bg-white rounded-2xl p-6 text-[var(--text-color-dark)]",children:[y.jsxs("h3",{className:"text-lg font-semibold",children:["",e?"":""]}),y.jsxs("div",{className:"flex flex-wrap items-center gap-4 my-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"history-date-filter",className:"text-sm font-medium text-gray-700",children:":"}),y.jsx("input",{type:"date",id:"history-date-filter",value:c,onChange:x=>u(x.target.value),className:"ml-2 px-3 py-2 rounded-lg border border-gray-300 text-sm bg-gray-50"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"history-action-filter",className:"text-sm font-medium text-gray-700",children:":"}),y.jsxs("select",{id:"history-action-filter",value:h,onChange:x=>p(x.target.value),className:"ml-2 px-3 py-2 rounded-lg border border-gray-300 text-sm bg-gray-50",children:[y.jsx("option",{value:"all",children:""}),y.jsx("option",{value:"assessment",children:""}),y.jsx("option",{value:"repair",children:""})]})]})]}),y.jsx("div",{className:"mt-4 space-y-3 max-h-[60vh] overflow-y-auto pr-2 -mr-2",children:n.length===0?y.jsx("p",{className:"text-gray-500",children:""}):n.map(x=>{var b;return y.jsxs("div",{className:"p-3 rounded-lg border border-gray-200 text-sm",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("p",{className:"font-semibold text-gray-800",children:x.action.replace(/_/g," ")}),y.jsx("button",{onClick:()=>g(x),className:"text-xs text-[var(--primary-color)] hover:underline",children:""})]}),y.jsxs("p",{className:"text-xs text-gray-500",children:[": ",new Date((b=x.timestamp)==null?void 0:b.toDate()).toLocaleString()]})]},x.id)})})]})},fZ=({borrow:e,onClose:t})=>{const[n,r]=G.useState(new Map),[i,s]=G.useState(!0);return G.useEffect(()=>{(async()=>{try{const u=await yf(),h=new Map;u.forEach(p=>{p.type&&p.typeImageUrl&&!h.has(p.type)&&h.set(p.type,p.typeImageUrl)}),r(h)}catch(u){console.error("Error fetching equipment images:",u)}s(!1)})()},[]),y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:""}),y.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[y.jsxs("p",{children:[y.jsx("strong",{children:":"})," ",e.user_name]}),y.jsxs("p",{children:[y.jsx("strong",{children:":"})," ",e.borrow_date]}),y.jsxs("p",{children:[y.jsx("strong",{children:":"})," ",e.due_date]}),y.jsxs("p",{children:[y.jsx("strong",{children:"/:"})," ",e.purpose]}),y.jsxs("p",{children:[y.jsx("strong",{children:":"})," ",e.contact_name]}),y.jsxs("p",{children:[y.jsx("strong",{children:":"})," ",e.contact_phone]}),e.notes&&y.jsxs("p",{children:[y.jsx("strong",{children:":"})," ",e.notes]}),y.jsxs("div",{className:"mt-4 pt-4 border-t",children:[y.jsx("p",{className:"font-semibold mb-2",children:":"}),y.jsx("div",{className:"space-y-3",children:e.equipment_requests&&e.equipment_requests.map((c,u)=>{const h=n.get(c.type);return y.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-md",children:[i?y.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded animate-pulse"}):y.jsx("img",{src:h||"https://placehold.co/100x100?text=No+Image",alt:c.type,className:"w-12 h-12 object-cover rounded-md"}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("p",{className:"font-medium",children:c.type}),y.jsxs("p",{className:"text-xs text-gray-600",children:[": ",c.quantity]})]})]},u)})})]})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300",children:""})})]})},hZ=()=>{const{showModal:e,hideModal:t}=$r(),[n,r]=G.useState([]),[i,s]=G.useState([]),[c,u]=G.useState(!0),h=async()=>{u(!0);try{const[b,_]=await Promise.all([w9(),k9()]);r(b),s(_)}catch(b){console.error("Error fetching approval data:",b)}u(!1)};G.useEffect(()=>{h()},[]);const p=async(b,_,S)=>{try{await b(_),alert(S),h()}catch(E){console.error("Action failed:",E),alert(`: ${E.message}`)}},g=b=>{e("",y.jsx(fZ,{borrow:b,onClose:t}))},x=b=>{e("",y.jsx(yL,{repair:b,onClose:t}))};return c?y.jsx("div",{className:"text-center p-4",children:"Loading approval queues..."}):y.jsx("div",{className:"tab-content",children:y.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 grid-mobile-1",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-6 text-[var(--text-color-dark)]",children:[y.jsx("h3",{className:"text-lg font-semibold",children:""}),y.jsx("div",{className:"mt-3 space-y-3 max-h-[60vh] overflow-y-auto pr-2 -mr-2",children:n.length===0?y.jsx("p",{className:"text-gray-500",children:""}):n.map(b=>{var _;return y.jsxs("div",{className:"p-3 rounded-lg border border-[var(--border-color)]",children:[y.jsxs("p",{children:[y.jsx("span",{className:"font-semibold",children:b.user_name}),"  ",y.jsxs("span",{className:"font-semibold",children:[((_=b.equipment_requests)==null?void 0:_.reduce((S,E)=>S+E.quantity,0))||0," "]})]}),y.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded-md mt-1",children:[y.jsxs("p",{children:[y.jsx("strong",{children:":"})," ",b.purpose]}),y.jsx("p",{children:y.jsx("strong",{children:":"})}),y.jsx("ul",{className:"list-disc pl-5",children:b.equipment_requests.map(S=>y.jsxs("li",{children:[S.type," (: ",S.quantity,")"]},S.type))})]}),y.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>p(_9,b.id,""),className:"px-3 py-1 text-sm rounded bg-[var(--success-color)] text-white hover:opacity-90",children:""}),y.jsx("button",{onClick:()=>p(E9,b.id,""),className:"px-3 py-1 text-sm rounded bg-[var(--danger-color)] text-white hover:opacity-90",children:""})]}),y.jsx("button",{onClick:()=>g(b),className:"text-xs text-[var(--primary-color)] hover:underline",children:""})]})]},b.id)})})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-6 text-[var(--text-color-dark)]",children:[y.jsx("h3",{className:"text-lg font-semibold",children:""}),y.jsx("div",{className:"mt-3 space-y-3 max-h-[60vh] overflow-y-auto pr-2 -mr-2",children:i.length===0?y.jsx("p",{className:"text-gray-500",children:""}):i.map(b=>y.jsxs("div",{className:"p-3 rounded-lg border border-[var(--border-color)]",children:[y.jsxs("p",{children:[" ",y.jsx("span",{className:"font-semibold",children:b.equipment_name})]}),y.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded-md mt-1",children:[y.jsxs("p",{className:"truncate",children:[y.jsx("strong",{children:":"})," ",b.damage_description]}),b.cost&&y.jsxs("p",{children:[y.jsx("strong",{children:":"})," ",b.cost.toLocaleString()," "]})]}),y.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>p(C9,b.id,""),className:"px-3 py-1 text-sm rounded bg-[var(--success-color)] text-white hover:opacity-90",children:""}),y.jsx("button",{onClick:()=>p(R9,b.id,""),className:"px-3 py-1 text-sm rounded bg-[var(--danger-color)] text-white hover:opacity-90",children:""})]}),y.jsx("button",{onClick:()=>x(b),className:"text-xs text-[var(--primary-color)] hover:underline",children:""})]})]},b.id))})]})]})})},dZ=({userId:e})=>{const{user:t,showModal:n}=$r(),[r,i]=G.useState([]),[s,c]=G.useState(!0),[u,h]=G.useState(""),[p,g]=G.useState("all"),[x,b]=G.useState("all");G.useEffect(()=>{(async()=>{c(!0);try{let T=(await GE(u,(t==null?void 0:t.role)==="admin",e)).filter(k=>k.action.includes("APPROVE")||k.action.includes("REJECT"));p!=="all"&&(T=T.filter(k=>k.action.toLowerCase().includes(p))),x!=="all"&&(x==="approved"?T=T.filter(k=>k.action.startsWith("APPROVE")):x==="rejected"&&(T=T.filter(k=>k.action.startsWith("REJECT")))),i(T)}catch(E){console.error("Error fetching approval activity log:",E)}c(!1)})()},[e,t==null?void 0:t.role,u,p,x]);const _=S=>{n("",y.jsx(tS,{log:S},S.id))};return s?y.jsx("p",{children:"Loading approval history..."}):y.jsx("div",{className:"tab-content",children:y.jsxs("div",{className:"bg-white rounded-2xl p-6 text-[var(--text-color-dark)]",children:[y.jsxs("h3",{className:"text-lg font-semibold",children:["",e?"":""]}),y.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"approval-history-date",className:"text-sm font-medium text-gray-700",children:":"}),y.jsx("input",{type:"date",id:"approval-history-date",value:u,onChange:S=>h(S.target.value),className:"ml-2 px-3 py-2 rounded-lg border border-[var(--border-color)] text-sm bg-gray-50"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"action-type-filter",className:"text-sm font-medium text-gray-700",children:":"}),y.jsxs("select",{id:"action-type-filter",value:p,onChange:S=>g(S.target.value),className:"ml-2 px-3 py-2 rounded-lg border border-[var(--border-color)] text-sm bg-gray-50",children:[y.jsx("option",{value:"all",children:""}),y.jsx("option",{value:"user",children:""}),y.jsx("option",{value:"borrow",children:""}),y.jsx("option",{value:"repair",children:""})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"action-result-filter",className:"text-sm font-medium text-gray-700",children:":"}),y.jsxs("select",{id:"action-result-filter",value:x,onChange:S=>b(S.target.value),className:"ml-2 px-3 py-2 rounded-lg border border-[var(--border-color)] text-sm bg-gray-50",children:[y.jsx("option",{value:"all",children:""}),y.jsx("option",{value:"approved",children:""}),y.jsx("option",{value:"rejected",children:""})]})]})]}),y.jsx("div",{className:"mt-4 space-y-3 max-h-[60vh] overflow-y-auto pr-2 -mr-2",children:r.length===0?y.jsx("p",{className:"text-gray-500",children:""}):r.map(S=>{var E;return y.jsxs("div",{className:"p-3 rounded-lg border border-[var(--border-color)] text-sm",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("p",{className:`font-semibold ${S.action.startsWith("APPROVE")?"text-green-600":"text-red-600"}`,children:S.action.replace(/_/g," ")}),y.jsx("button",{onClick:()=>_(S),className:"text-xs text-[var(--primary-color)] hover:underline",children:""})]}),y.jsxs("p",{className:"text-gray-600",children:[": ",S.adminName," : ",new Date((E=S.timestamp)==null?void 0:E.toDate()).toLocaleString()]})]},S.id)})})]})})},bL=({equipment:e,onClose:t,onSubmit:n,readOnlyData:r})=>{var De,ve,ee,J,Ee,ne,Ie,j,F;const i=!!r,[s,c]=G.useState(i?r.externalCondition:""),[u,h]=G.useState(i?r.engineStart:""),[p,g]=G.useState(i?r.internalCleanliness||[]:[]),[x,b]=G.useState(i?(De=r.testChemical)==null?void 0:De.name:""),[_,S]=G.useState(i&&((ee=(ve=r.testChemical)==null?void 0:ve.concentration)==null?void 0:ee.toString())||""),[E,T]=G.useState(i?(J=r.testChemical)==null?void 0:J.mixingRatio:""),[k,R]=G.useState(i&&((ne=(Ee=r.testResult)==null?void 0:Ee.nozzleTemp)==null?void 0:ne.toString())||""),[A,O]=G.useState(i&&((j=(Ie=r.testResult)==null?void 0:Ie.flowRate)==null?void 0:j.toString())||""),[I,M]=G.useState(i?(F=r.testResult)==null?void 0:F.suggestions:""),[C,z]=G.useState(i?r.newStatus:e.status),[B,re]=G.useState(i?r.damageDescription:""),te=V=>{if(i)return;const{value:H,checked:W}=V.target;g(se=>W?[...se,H]:se.filter(we=>we!==H))},Z=V=>H=>{if(i)return;const{value:W}=H.target;/^\d*\.?\d*$/.test(W)&&V(W)},xe=()=>{if(i||!n)return;if(C==="under_maintenance"&&!B){alert("");return}const V={equipmentId:e.id,equipmentName:e.name,equipmentType:e.type,assessedAt:new Date,externalCondition:s,engineStart:u,internalCleanliness:p,testChemical:{name:x,concentration:parseFloat(_)||0,mixingRatio:E},testResult:{nozzleTemp:parseFloat(k)||0,flowRate:parseFloat(A)||0,suggestions:I},newStatus:C,damageDescription:C==="under_maintenance"?B:null};n(V)};return y.jsxs("div",{className:"p-4 max-h-[80vh] overflow-y-auto",children:[y.jsx("h3",{className:"text-lg font-semibold mb-2",children:i?"":""}),y.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[": ",y.jsx("span",{className:"font-semibold",children:(e==null?void 0:e.name)||r.equipmentName})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"1. "}),y.jsxs("div",{className:"flex gap-4 mt-1",children:[y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"radio",value:"",checked:s==="",onChange:V=>!i&&c(V.target.value),disabled:i,className:"mr-1"})," "]}),y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"radio",value:"",checked:s==="",onChange:V=>!i&&c(V.target.value),disabled:i,className:"mr-1"})," "]}),y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"radio",value:"",checked:s==="",onChange:V=>!i&&c(V.target.value),disabled:i,className:"mr-1"})," "]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"2. "}),y.jsxs("div",{className:"flex gap-4 mt-1",children:[y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"radio",value:"",checked:u==="",onChange:V=>!i&&h(V.target.value),disabled:i,className:"mr-1"})," "]}),y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"radio",value:"",checked:u==="",onChange:V=>!i&&h(V.target.value),disabled:i,className:"mr-1"})," "]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"3. "}),y.jsxs("div",{className:"flex gap-4 mt-1 flex-wrap",children:[y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",value:"",checked:p.includes(""),onChange:te,disabled:i,className:"mr-1"})," "]}),y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",value:"",checked:p.includes(""),onChange:te,disabled:i,className:"mr-1"})," "]}),y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",value:"",checked:p.includes(""),onChange:te,disabled:i,className:"mr-1"})," "]}),y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",value:"",checked:p.includes(""),onChange:te,disabled:i,className:"mr-1"})," "]})]})]}),y.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50",children:[y.jsx("h4",{className:"font-medium mb-2",children:"4. "}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[y.jsx("input",{type:"text",value:x,onChange:V=>!i&&b(V.target.value),disabled:i,placeholder:"",className:"w-full px-3 py-2 border rounded-lg"}),y.jsx("input",{type:"text",value:_,onChange:Z(S),disabled:i,placeholder:" (%)",className:"w-full px-3 py-2 border rounded-lg"}),y.jsx("input",{type:"text",value:E,onChange:V=>!i&&T(V.target.value),disabled:i,placeholder:"",className:"w-full px-3 py-2 border rounded-lg"})]})]}),y.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50",children:[y.jsx("h4",{className:"font-medium mb-2",children:"5. "}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[y.jsx("input",{type:"text",value:k,onChange:Z(R),disabled:i,placeholder:" ()",className:"w-full px-3 py-2 border rounded-lg"}),y.jsx("input",{type:"text",value:A,onChange:Z(O),disabled:i,placeholder:" (./)",className:"w-full px-3 py-2 border rounded-lg"})]}),y.jsx("textarea",{value:I,onChange:V=>!i&&M(V.target.value),disabled:i,placeholder:"",rows:3,className:"w-full px-3 py-2 border rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"newStatus",className:"block text-sm font-medium text-gray-700",children:"6. "}),y.jsxs("select",{id:"newStatus",value:C,onChange:V=>!i&&z(V.target.value),disabled:i,className:"w-full mt-1 px-3 py-2 border rounded-lg bg-white",children:[y.jsx("option",{value:"available",children:""}),y.jsx("option",{value:"under_maintenance",children:""})]})]}),C==="under_maintenance"&&!i&&y.jsxs("div",{children:[y.jsx("label",{htmlFor:"damage-desc",className:"block text-sm font-medium text-red-700",children:""}),y.jsx("textarea",{id:"damage-desc",value:B,onChange:V=>!i&&re(V.target.value),disabled:i,rows:3,className:"w-full mt-1 px-3 py-2 border rounded-lg border-red-300",required:!0})]})]}),y.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300",children:i?"":""}),!i&&y.jsx("button",{onClick:xe,className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700",children:""})]})]})},pZ=()=>{const{showModal:e,hideModal:t,showToast:n}=$r(),[r,i]=G.useState([]),[s,c]=G.useState(!0),[u,h]=G.useState([]),[p,g]=G.useState(""),x=async()=>{c(!0);try{const[S,E]=await Promise.all([yf({includeDeleted:!1}),qE()]);i(S),h(E)}catch(S){console.error("Error fetching data for assessment tab:",S)}c(!1)};G.useEffect(()=>{x()},[]);const b=S=>{e("",y.jsx(bL,{equipment:S,onClose:t,onSubmit:async E=>{try{await z9(E),n("Success",""),x(),t()}catch(T){console.error("Failed to submit standard assessment:",T),n("Error","")}}}))},_=r.filter(S=>p===""||S.type===p);return s?y.jsx("p",{children:"Loading equipment..."}):y.jsx("div",{id:"assessmentTab",className:"tab-content",children:y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-[var(--text-color-dark)]",children:""}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsxs("select",{value:p,onChange:S=>g(S.target.value),className:"px-3 py-2 rounded-lg border border-gray-300 text-sm",children:[y.jsx("option",{value:"",children:""}),u.map(S=>y.jsx("option",{value:S,children:S},S))]})})]}),y.jsx("div",{className:"mt-4 grid sm:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[65vh] overflow-y-auto pr-2 -mr-2",children:_.map(S=>{var E,T;return y.jsxs("div",{className:"p-4 rounded-lg border border-[var(--border-color)] flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-gray-800",children:S.name}),y.jsxs("p",{className:"text-sm text-gray-500",children:["S/N: ",S.serial]}),y.jsx("span",{className:`mt-2 inline-block text-xs font-medium px-2 py-1 rounded-full ${((E=Hs[S.status])==null?void 0:E.color)||"bg-gray-100 text-gray-800"}`,children:((T=Hs[S.status])==null?void 0:T.text)||S.status})]}),y.jsx("button",{onClick:()=>b(S),className:"px-4 py-2 text-sm rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:""})]},S.id)})})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function x1(e){return e+.5|0}const uf=(e,t,n)=>Math.max(Math.min(e,n),t);function Rx(e){return uf(x1(e*2.55),0,255)}function gf(e){return uf(x1(e*255),0,255)}function Rc(e){return uf(x1(e/2.55)/100,0,1)}function uR(e){return uf(x1(e*100),0,100)}const js={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},p2=[..."0123456789ABCDEF"],mZ=e=>p2[e&15],gZ=e=>p2[(e&240)>>4]+p2[e&15],Dw=e=>(e&240)>>4===(e&15),vZ=e=>Dw(e.r)&&Dw(e.g)&&Dw(e.b)&&Dw(e.a);function xZ(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&js[e[1]]*17,g:255&js[e[2]]*17,b:255&js[e[3]]*17,a:t===5?js[e[4]]*17:255}:(t===7||t===9)&&(n={r:js[e[1]]<<4|js[e[2]],g:js[e[3]]<<4|js[e[4]],b:js[e[5]]<<4|js[e[6]],a:t===9?js[e[7]]<<4|js[e[8]]:255})),n}const yZ=(e,t)=>e<255?t(e):"";function bZ(e){var t=vZ(e)?mZ:gZ;return e?"#"+t(e.r)+t(e.g)+t(e.b)+yZ(e.a,t):void 0}const wZ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function wL(e,t,n){const r=t*Math.min(n,1-n),i=(s,c=(s+e/30)%12)=>n-r*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function _Z(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function EZ(e,t,n){const r=wL(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function SZ(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Pk(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),c=Math.min(n,r,i),u=(s+c)/2;let h,p,g;return s!==c&&(g=s-c,p=u>.5?g/(2-s-c):g/(s+c),h=SZ(n,r,i,g,s),h=h*60+.5),[h|0,p||0,u]}function Bk(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(gf)}function Uk(e,t,n){return Bk(wL,e,t,n)}function TZ(e,t,n){return Bk(EZ,e,t,n)}function AZ(e,t,n){return Bk(_Z,e,t,n)}function _L(e){return(e%360+360)%360}function kZ(e){const t=wZ.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?Rx(+t[5]):gf(+t[5]));const i=_L(+t[2]),s=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?r=TZ(i,s,c):t[1]==="hsv"?r=AZ(i,s,c):r=Uk(i,s,c),{r:r[0],g:r[1],b:r[2],a:n}}function NZ(e,t){var n=Pk(e);n[0]=_L(n[0]+t),n=Uk(n),e.r=n[0],e.g=n[1],e.b=n[2]}function CZ(e){if(!e)return;const t=Pk(e),n=t[0],r=uR(t[1]),i=uR(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${Rc(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const fR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function RZ(){const e={},t=Object.keys(hR),n=Object.keys(fR);let r,i,s,c,u;for(r=0;r<t.length;r++){for(c=u=t[r],i=0;i<n.length;i++)s=n[i],u=u.replace(s,fR[s]);s=parseInt(hR[c],16),e[u]=[s>>16&255,s>>8&255,s&255]}return e}let Iw;function DZ(e){Iw||(Iw=RZ(),Iw.transparent=[0,0,0,0]);const t=Iw[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const IZ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function OZ(e){const t=IZ.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const c=+t[7];n=t[8]?Rx(c):uf(c*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?Rx(r):uf(r,0,255)),i=255&(t[4]?Rx(i):uf(i,0,255)),s=255&(t[6]?Rx(s):uf(s,0,255)),{r,g:i,b:s,a:n}}}function FZ(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Rc(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const hT=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Zp=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function MZ(e,t,n){const r=Zp(Rc(e.r)),i=Zp(Rc(e.g)),s=Zp(Rc(e.b));return{r:gf(hT(r+n*(Zp(Rc(t.r))-r))),g:gf(hT(i+n*(Zp(Rc(t.g))-i))),b:gf(hT(s+n*(Zp(Rc(t.b))-s))),a:e.a+n*(t.a-e.a)}}function Ow(e,t,n){if(e){let r=Pk(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Uk(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function EL(e,t){return e&&Object.assign(t||{},e)}function dR(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=gf(e[3]))):(t=EL(e,{r:0,g:0,b:0,a:1}),t.a=gf(t.a)),t}function LZ(e){return e.charAt(0)==="r"?OZ(e):kZ(e)}class My{constructor(t){if(t instanceof My)return t;const n=typeof t;let r;n==="object"?r=dR(t):n==="string"&&(r=xZ(t)||DZ(t)||LZ(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=EL(this._rgb);return t&&(t.a=Rc(t.a)),t}set rgb(t){this._rgb=dR(t)}rgbString(){return this._valid?FZ(this._rgb):void 0}hexString(){return this._valid?bZ(this._rgb):void 0}hslString(){return this._valid?CZ(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const c=n===s?.5:n,u=2*c-1,h=r.a-i.a,p=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;s=1-p,r.r=255&p*r.r+s*i.r+.5,r.g=255&p*r.g+s*i.g+.5,r.b=255&p*r.b+s*i.b+.5,r.a=c*r.a+(1-c)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=MZ(this._rgb,t._rgb,n)),this}clone(){return new My(this.rgb)}alpha(t){return this._rgb.a=gf(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=x1(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ow(this._rgb,2,t),this}darken(t){return Ow(this._rgb,2,-t),this}saturate(t){return Ow(this._rgb,1,t),this}desaturate(t){return Ow(this._rgb,1,-t),this}rotate(t){return NZ(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function kc(){}const jZ=(()=>{let e=0;return()=>e++})();function Yn(e){return e==null}function Xr(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ht(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ys(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function kl(e,t){return Ys(e)?e:t}function Pt(e,t){return typeof e>"u"?t:e}const PZ=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,SL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function In(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function hn(e,t,n,r){let i,s,c;if(Xr(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(Ht(e))for(c=Object.keys(e),s=c.length,i=0;i<s;i++)t.call(n,e[c[i]],c[i])}function Y_(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function $_(e){if(Xr(e))return e.map($_);if(Ht(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=$_(e[n[i]]);return t}return e}function TL(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function BZ(e,t,n,r){if(!TL(e))return;const i=t[e],s=n[e];Ht(i)&&Ht(s)?Ly(i,s,r):t[e]=$_(s)}function Ly(e,t,n){const r=Xr(t)?t:[t],i=r.length;if(!Ht(e))return e;n=n||{};const s=n.merger||BZ;let c;for(let u=0;u<i;++u){if(c=r[u],!Ht(c))continue;const h=Object.keys(c);for(let p=0,g=h.length;p<g;++p)s(h[p],e,c,n)}return e}function Qx(e,t){return Ly(e,t,{merger:UZ})}function UZ(e,t,n){if(!TL(e))return;const r=t[e],i=n[e];Ht(r)&&Ht(i)?Qx(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=$_(i))}const pR={"":e=>e,x:e=>e.x,y:e=>e.y};function zZ(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function VZ(e){const t=zZ(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function jy(e,t){return(pR[t]||(pR[t]=VZ(t)))(e)}function zk(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Q_=e=>typeof e<"u",Sf=e=>typeof e=="function",mR=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function HZ(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const dn=Math.PI,sr=2*dn,qZ=sr+dn,J_=Number.POSITIVE_INFINITY,GZ=dn/180,Lr=dn/2,fd=dn/4,gR=dn*2/3,AL=Math.log10,Bm=Math.sign;function Jx(e,t,n){return Math.abs(e-t)<n}function vR(e){const t=Math.round(e);e=Jx(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(AL(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function WZ(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function XZ(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Z_(e){return!XZ(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function KZ(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function YZ(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Fc(e){return e*(dn/180)}function $Z(e){return e*(180/dn)}function xR(e){if(!Ys(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function kL(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*dn&&(s+=sr),{angle:s,distance:i}}function m2(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function QZ(e,t){return(e-t+qZ)%sr-dn}function Oo(e){return(e%sr+sr)%sr}function Py(e,t,n,r){const i=Oo(e),s=Oo(t),c=Oo(n),u=Oo(s-i),h=Oo(c-i),p=Oo(i-s),g=Oo(i-c);return i===s||i===c||r&&s===c||u>h&&p<g}function Fa(e,t,n){return Math.max(t,Math.min(n,e))}function JZ(e){return Fa(e,-32768,32767)}function ff(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Vk(e,t,n){n=n||(c=>e[c]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const g2=(e,t,n,r)=>Vk(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),ZZ=(e,t,n)=>Vk(e,n,r=>e[r][t]>=n);function eee(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const NL=["push","pop","shift","splice","unshift"];function tee(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),NL.forEach(n=>{const r="_onData"+zk(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const c=i.apply(this,s);return e._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...s)}),c}})})}function yR(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(NL.forEach(s=>{delete e[s]}),delete e._chartjs)}function nee(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const CL=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function RL(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,CL.call(window,()=>{r=!1,e.apply(t,n)}))}}function ree(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Hk=e=>e==="start"?"left":e==="end"?"right":"center",Oi=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,iee=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t,Fw=e=>e===0||e===1,bR=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*sr/n)),wR=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*sr/n)+1,Zx={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Lr)+1,easeOutSine:e=>Math.sin(e*Lr),easeInOutSine:e=>-.5*(Math.cos(dn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Fw(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Fw(e)?e:bR(e,.075,.3),easeOutElastic:e=>Fw(e)?e:wR(e,.075,.3),easeInOutElastic(e){return Fw(e)?e:e<.5?.5*bR(e*2,.1125,.45):.5+.5*wR(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Zx.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Zx.easeInBounce(e*2)*.5:Zx.easeOutBounce(e*2-1)*.5+.5};function qk(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function _R(e){return qk(e)?e:new My(e)}function dT(e){return qk(e)?e:new My(e).saturate(.5).darken(.1).hexString()}const aee=["x","y","borderWidth","radius","tension"],see=["color","borderColor","backgroundColor"];function oee(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:see},numbers:{type:"number",properties:aee}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function lee(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ER=new Map;function cee(e,t){t=t||{};const n=e+JSON.stringify(t);let r=ER.get(n);return r||(r=new Intl.NumberFormat(e,t),ER.set(n,r)),r}function Gk(e,t,n){return cee(t,n).format(e)}const uee={values(e){return Xr(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(i="scientific"),s=fee(e,n)}const c=AL(Math.abs(s)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),Gk(e,r,h)}};function fee(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var DL={formatters:uee};function hee(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:DL.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Wd=Object.create(null),v2=Object.create(null);function ey(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function pT(e,t,n){return typeof t=="string"?Ly(ey(e,t),n):Ly(ey(e,""),t)}class dee{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>dT(i.backgroundColor),this.hoverBorderColor=(r,i)=>dT(i.borderColor),this.hoverColor=(r,i)=>dT(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return pT(this,t,n)}get(t){return ey(this,t)}describe(t,n){return pT(v2,t,n)}override(t,n){return pT(Wd,t,n)}route(t,n,r,i){const s=ey(this,t),c=ey(this,r),u="_"+n;Object.defineProperties(s,{[u]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[u],p=c[i];return Ht(h)?Object.assign({},p,h):Pt(h,p)},set(h){this[u]=h}}})}apply(t){t.forEach(n=>n(this))}}var pr=new dee({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[oee,lee,hee]);function pee(e){return!e||Yn(e.size)||Yn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function SR(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function hd(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function TR(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function x2(e,t,n,r){IL(e,t,n,r,null)}function IL(e,t,n,r,i){let s,c,u,h,p,g,x,b;const _=t.pointStyle,S=t.rotation,E=t.radius;let T=(S||0)*GZ;if(_&&typeof _=="object"&&(s=_.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(T),e.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),e.restore();return}if(!(isNaN(E)||E<=0)){switch(e.beginPath(),_){default:i?e.ellipse(n,r,i/2,E,0,0,sr):e.arc(n,r,E,0,sr),e.closePath();break;case"triangle":g=i?i/2:E,e.moveTo(n+Math.sin(T)*g,r-Math.cos(T)*E),T+=gR,e.lineTo(n+Math.sin(T)*g,r-Math.cos(T)*E),T+=gR,e.lineTo(n+Math.sin(T)*g,r-Math.cos(T)*E),e.closePath();break;case"rectRounded":p=E*.516,h=E-p,c=Math.cos(T+fd)*h,x=Math.cos(T+fd)*(i?i/2-p:h),u=Math.sin(T+fd)*h,b=Math.sin(T+fd)*(i?i/2-p:h),e.arc(n-x,r-u,p,T-dn,T-Lr),e.arc(n+b,r-c,p,T-Lr,T),e.arc(n+x,r+u,p,T,T+Lr),e.arc(n-b,r+c,p,T+Lr,T+dn),e.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*E,g=i?i/2:h,e.rect(n-g,r-h,2*g,2*h);break}T+=fd;case"rectRot":x=Math.cos(T)*(i?i/2:E),c=Math.cos(T)*E,u=Math.sin(T)*E,b=Math.sin(T)*(i?i/2:E),e.moveTo(n-x,r-u),e.lineTo(n+b,r-c),e.lineTo(n+x,r+u),e.lineTo(n-b,r+c),e.closePath();break;case"crossRot":T+=fd;case"cross":x=Math.cos(T)*(i?i/2:E),c=Math.cos(T)*E,u=Math.sin(T)*E,b=Math.sin(T)*(i?i/2:E),e.moveTo(n-x,r-u),e.lineTo(n+x,r+u),e.moveTo(n+b,r-c),e.lineTo(n-b,r+c);break;case"star":x=Math.cos(T)*(i?i/2:E),c=Math.cos(T)*E,u=Math.sin(T)*E,b=Math.sin(T)*(i?i/2:E),e.moveTo(n-x,r-u),e.lineTo(n+x,r+u),e.moveTo(n+b,r-c),e.lineTo(n-b,r+c),T+=fd,x=Math.cos(T)*(i?i/2:E),c=Math.cos(T)*E,u=Math.sin(T)*E,b=Math.sin(T)*(i?i/2:E),e.moveTo(n-x,r-u),e.lineTo(n+x,r+u),e.moveTo(n+b,r-c),e.lineTo(n-b,r+c);break;case"line":c=i?i/2:Math.cos(T)*E,u=Math.sin(T)*E,e.moveTo(n-c,r-u),e.lineTo(n+c,r+u);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(T)*(i?i/2:E),r+Math.sin(T)*E);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function By(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Wk(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Xk(e){e.restore()}function mee(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function gee(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function vee(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Yn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function xee(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),c=t-s.actualBoundingBoxLeft,u=t+s.actualBoundingBoxRight,h=n-s.actualBoundingBoxAscent,p=n+s.actualBoundingBoxDescent,g=i.strikethrough?(h+p)/2:p;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(c,g),e.lineTo(u,g),e.stroke()}}function yee(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Uy(e,t,n,r,i,s={}){const c=Xr(t)?t:[t],u=s.strokeWidth>0&&s.strokeColor!=="";let h,p;for(e.save(),e.font=i.string,vee(e,s),h=0;h<c.length;++h)p=c[h],s.backdrop&&yee(e,s.backdrop),u&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Yn(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(p,n,r,s.maxWidth)),e.fillText(p,n,r,s.maxWidth),xee(e,n,r,p,s),r+=Number(i.lineHeight);e.restore()}function eE(e,t){const{x:n,y:r,w:i,h:s,radius:c}=t;e.arc(n+c.topLeft,r+c.topLeft,c.topLeft,1.5*dn,dn,!0),e.lineTo(n,r+s-c.bottomLeft),e.arc(n+c.bottomLeft,r+s-c.bottomLeft,c.bottomLeft,dn,Lr,!0),e.lineTo(n+i-c.bottomRight,r+s),e.arc(n+i-c.bottomRight,r+s-c.bottomRight,c.bottomRight,Lr,0,!0),e.lineTo(n+i,r+c.topRight),e.arc(n+i-c.topRight,r+c.topRight,c.topRight,0,-Lr,!0),e.lineTo(n+c.topLeft,r)}const bee=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,wee=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _ee(e,t){const n=(""+e).match(bee);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Eee=e=>+e||0;function Kk(e,t){const n={},r=Ht(t),i=r?Object.keys(t):t,s=Ht(e)?r?c=>Pt(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of i)n[c]=Eee(s(c));return n}function OL(e){return Kk(e,{top:"y",right:"x",bottom:"y",left:"x"})}function mm(e){return Kk(e,["topLeft","topRight","bottomLeft","bottomRight"])}function $s(e){const t=OL(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function zi(e,t){e=e||{},t=t||pr.font;let n=Pt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=Pt(e.style,t.style);r&&!(""+r).match(wee)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Pt(e.family,t.family),lineHeight:_ee(Pt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Pt(e.weight,t.weight),string:""};return i.string=pee(i),i}function Mw(e,t,n,r){let i,s,c;for(i=0,s=e.length;i<s;++i)if(c=e[i],c!==void 0&&c!==void 0)return c}function See(e,t,n){const{min:r,max:i}=e,s=SL(t,(i-r)/2),c=(u,h)=>n&&u===0?0:u+h;return{min:c(r,-Math.abs(s)),max:c(i,s)}}function o0(e,t){return Object.assign(Object.create(e),t)}function Yk(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=jL("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:u=>Yk([u,...e],t,s,r)};return new Proxy(c,{deleteProperty(u,h){return delete u[h],delete u._keys,delete e[0][h],!0},get(u,h){return ML(u,h,()=>Iee(h,t,e,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,h){return kR(u).includes(h)},ownKeys(u){return kR(u)},set(u,h,p){const g=u._storage||(u._storage=i());return u[h]=g[h]=p,delete u._keys,!0}})}function Um(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:FL(e,r),setContext:s=>Um(e,s,n,r),override:s=>Um(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,c){return delete s[c],delete e[c],!0},get(s,c,u){return ML(s,c,()=>Aee(s,c,u))},getOwnPropertyDescriptor(s,c){return s._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(s,c,u){return e[c]=u,delete s[c],!0}})}function FL(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Sf(n)?n:()=>n,isIndexable:Sf(r)?r:()=>r}}const Tee=(e,t)=>e?e+zk(t):t,$k=(e,t)=>Ht(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function ML(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function Aee(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:c}=e;let u=r[t];return Sf(u)&&c.isScriptable(t)&&(u=kee(t,u,e,n)),Xr(u)&&u.length&&(u=Nee(t,u,e,c.isIndexable)),$k(t,u)&&(u=Um(u,i,s&&s[t],c)),u}function kee(e,t,n,r){const{_proxy:i,_context:s,_subProxy:c,_stack:u}=n;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let h=t(s,c||r);return u.delete(e),$k(e,h)&&(h=Qk(i._scopes,i,e,h)),h}function Nee(e,t,n,r){const{_proxy:i,_context:s,_subProxy:c,_descriptors:u}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(Ht(t[0])){const h=t,p=i._scopes.filter(g=>g!==h);t=[];for(const g of h){const x=Qk(p,i,e,g);t.push(Um(x,s,c&&c[e],u))}}return t}function LL(e,t,n){return Sf(e)?e(t,n):e}const Cee=(e,t)=>e===!0?t:typeof e=="string"?jy(t,e):void 0;function Ree(e,t,n,r,i){for(const s of t){const c=Cee(n,s);if(c){e.add(c);const u=LL(c._fallback,n,i);if(typeof u<"u"&&u!==n&&u!==r)return u}else if(c===!1&&typeof r<"u"&&n!==r)return null}return!1}function Qk(e,t,n,r){const i=t._rootScopes,s=LL(t._fallback,n,r),c=[...e,...i],u=new Set;u.add(r);let h=AR(u,c,n,s||n,r);return h===null||typeof s<"u"&&s!==n&&(h=AR(u,c,s,h,r),h===null)?!1:Yk(Array.from(u),[""],i,s,()=>Dee(t,n,r))}function AR(e,t,n,r,i){for(;n;)n=Ree(e,t,n,r,i);return n}function Dee(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return Xr(i)&&Ht(n)?n:i||{}}function Iee(e,t,n,r){let i;for(const s of t)if(i=jL(Tee(s,e),n),typeof i<"u")return $k(e,i)?Qk(n,r,e,i):i}function jL(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function kR(e){let t=e._keys;return t||(t=e._keys=Oee(e._scopes)),t}function Oee(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}const Fee=Number.EPSILON||1e-14,zm=(e,t)=>t<e.length&&!e[t].skip&&e[t],PL=e=>e==="x"?"y":"x";function Mee(e,t,n,r){const i=e.skip?t:e,s=t,c=n.skip?t:n,u=m2(s,i),h=m2(c,s);let p=u/(u+h),g=h/(u+h);p=isNaN(p)?0:p,g=isNaN(g)?0:g;const x=r*p,b=r*g;return{previous:{x:s.x-x*(c.x-i.x),y:s.y-x*(c.y-i.y)},next:{x:s.x+b*(c.x-i.x),y:s.y+b*(c.y-i.y)}}}function Lee(e,t,n){const r=e.length;let i,s,c,u,h,p=zm(e,0);for(let g=0;g<r-1;++g)if(h=p,p=zm(e,g+1),!(!h||!p)){if(Jx(t[g],0,Fee)){n[g]=n[g+1]=0;continue}i=n[g]/t[g],s=n[g+1]/t[g],u=Math.pow(i,2)+Math.pow(s,2),!(u<=9)&&(c=3/Math.sqrt(u),n[g]=i*c*t[g],n[g+1]=s*c*t[g])}}function jee(e,t,n="x"){const r=PL(n),i=e.length;let s,c,u,h=zm(e,0);for(let p=0;p<i;++p){if(c=u,u=h,h=zm(e,p+1),!u)continue;const g=u[n],x=u[r];c&&(s=(g-c[n])/3,u[`cp1${n}`]=g-s,u[`cp1${r}`]=x-s*t[p]),h&&(s=(h[n]-g)/3,u[`cp2${n}`]=g+s,u[`cp2${r}`]=x+s*t[p])}}function Pee(e,t="x"){const n=PL(t),r=e.length,i=Array(r).fill(0),s=Array(r);let c,u,h,p=zm(e,0);for(c=0;c<r;++c)if(u=h,h=p,p=zm(e,c+1),!!h){if(p){const g=p[t]-h[t];i[c]=g!==0?(p[n]-h[n])/g:0}s[c]=u?p?Bm(i[c-1])!==Bm(i[c])?0:(i[c-1]+i[c])/2:i[c-1]:i[c]}Lee(e,i,s),jee(e,s,t)}function Lw(e,t,n){return Math.max(Math.min(e,n),t)}function Bee(e,t){let n,r,i,s,c,u=By(e[0],t);for(n=0,r=e.length;n<r;++n)c=s,s=u,u=n<r-1&&By(e[n+1],t),s&&(i=e[n],c&&(i.cp1x=Lw(i.cp1x,t.left,t.right),i.cp1y=Lw(i.cp1y,t.top,t.bottom)),u&&(i.cp2x=Lw(i.cp2x,t.left,t.right),i.cp2y=Lw(i.cp2y,t.top,t.bottom)))}function Uee(e,t,n,r,i){let s,c,u,h;if(t.spanGaps&&(e=e.filter(p=>!p.skip)),t.cubicInterpolationMode==="monotone")Pee(e,i);else{let p=r?e[e.length-1]:e[0];for(s=0,c=e.length;s<c;++s)u=e[s],h=Mee(p,u,e[Math.min(s+1,c-(r?0:1))%c],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,p=u}t.capBezierPoints&&Bee(e,n)}function Jk(){return typeof window<"u"&&typeof document<"u"}function Zk(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function tE(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const nS=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function zee(e,t){return nS(e).getPropertyValue(t)}const Vee=["top","right","bottom","left"];function Id(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=Vee[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Hee=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function qee(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let c=!1,u,h;if(Hee(i,s,e.target))u=i,h=s;else{const p=t.getBoundingClientRect();u=r.clientX-p.left,h=r.clientY-p.top,c=!0}return{x:u,y:h,box:c}}function md(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=nS(n),s=i.boxSizing==="border-box",c=Id(i,"padding"),u=Id(i,"border","width"),{x:h,y:p,box:g}=qee(e,n),x=c.left+(g&&u.left),b=c.top+(g&&u.top);let{width:_,height:S}=t;return s&&(_-=c.width+u.width,S-=c.height+u.height),{x:Math.round((h-x)/_*n.width/r),y:Math.round((p-b)/S*n.height/r)}}function Gee(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&Zk(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const c=s.getBoundingClientRect(),u=nS(s),h=Id(u,"border","width"),p=Id(u,"padding");t=c.width-p.width-h.width,n=c.height-p.height-h.height,r=tE(u.maxWidth,s,"clientWidth"),i=tE(u.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||J_,maxHeight:i||J_}}const hf=e=>Math.round(e*10)/10;function Wee(e,t,n,r){const i=nS(e),s=Id(i,"margin"),c=tE(i.maxWidth,e,"clientWidth")||J_,u=tE(i.maxHeight,e,"clientHeight")||J_,h=Gee(e,t,n);let{width:p,height:g}=h;if(i.boxSizing==="content-box"){const b=Id(i,"border","width"),_=Id(i,"padding");p-=_.width+b.width,g-=_.height+b.height}return p=Math.max(0,p-s.width),g=Math.max(0,r?p/r:g-s.height),p=hf(Math.min(p,c,h.maxWidth)),g=hf(Math.min(g,u,h.maxHeight)),p&&!g&&(g=hf(p/2)),(t!==void 0||n!==void 0)&&r&&h.height&&g>h.height&&(g=h.height,p=hf(Math.floor(g*r))),{width:p,height:g}}function NR(e,t,n){const r=t||1,i=hf(e.height*r),s=hf(e.width*r);e.height=hf(e.height),e.width=hf(e.width);const c=e.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||c.height!==i||c.width!==s?(e.currentDevicePixelRatio=r,c.height=i,c.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Xee=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Jk()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function CR(e,t){const n=zee(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function gd(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Kee(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function Yee(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},c=gd(e,i,n),u=gd(i,s,n),h=gd(s,t,n),p=gd(c,u,n),g=gd(u,h,n);return gd(p,g,n)}const $ee=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Qee=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function gm(e,t,n){return e?$ee(t,n):Qee()}function BL(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function UL(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function zL(e){return e==="angle"?{between:Py,compare:QZ,normalize:Oo}:{between:ff,compare:(t,n)=>t-n,normalize:t=>t}}function RR({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function Jee(e,t,n){const{property:r,start:i,end:s}=n,{between:c,normalize:u}=zL(r),h=t.length;let{start:p,end:g,loop:x}=e,b,_;if(x){for(p+=h,g+=h,b=0,_=h;b<_&&c(u(t[p%h][r]),i,s);++b)p--,g--;p%=h,g%=h}return g<p&&(g+=h),{start:p,end:g,loop:x,style:e.style}}function Zee(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,c=t.length,{compare:u,between:h,normalize:p}=zL(r),{start:g,end:x,loop:b,style:_}=Jee(e,t,n),S=[];let E=!1,T=null,k,R,A;const O=()=>h(i,A,k)&&u(i,A)!==0,I=()=>u(s,k)===0||h(s,A,k),M=()=>E||O(),C=()=>!E||I();for(let z=g,B=g;z<=x;++z)R=t[z%c],!R.skip&&(k=p(R[r]),k!==A&&(E=h(k,i,s),T===null&&M()&&(T=u(k,i)===0?z:B),T!==null&&C()&&(S.push(RR({start:T,end:z,loop:b,count:c,style:_})),T=null),B=z,A=k));return T!==null&&S.push(RR({start:T,end:x,loop:b,count:c,style:_})),S}function ete(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=Zee(r[i],e.points,t);s.length&&n.push(...s)}return n}function tte(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function nte(e,t,n,r){const i=e.length,s=[];let c=t,u=e[t],h;for(h=t+1;h<=n;++h){const p=e[h%i];p.skip||p.stop?u.skip||(r=!1,s.push({start:t%i,end:(h-1)%i,loop:r}),t=c=p.stop?h:null):(c=h,u.skip&&(t=h)),u=p}return c!==null&&s.push({start:t%i,end:c%i,loop:r}),s}function rte(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:c,end:u}=tte(n,i,s,r);if(r===!0)return DR(e,[{start:c,end:u,loop:s}],n,t);const h=u<c?u+i:u,p=!!e._fullLoop&&c===0&&u===i-1;return DR(e,nte(n,c,h,p),n,t)}function DR(e,t,n,r){return!r||!r.setContext||!n?t:ite(e,t,n,r)}function ite(e,t,n,r){const i=e._chart.getContext(),s=IR(e.options),{_datasetIndex:c,options:{spanGaps:u}}=e,h=n.length,p=[];let g=s,x=t[0].start,b=x;function _(S,E,T,k){const R=u?-1:1;if(S!==E){for(S+=h;n[S%h].skip;)S-=R;for(;n[E%h].skip;)E+=R;S%h!==E%h&&(p.push({start:S%h,end:E%h,loop:T,style:k}),g=k,x=E%h)}}for(const S of t){x=u?x:S.start;let E=n[x%h],T;for(b=x+1;b<=S.end;b++){const k=n[b%h];T=IR(r.setContext(o0(i,{type:"segment",p0:E,p1:k,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:c}))),ate(T,g)&&_(x,b-1,S.loop,g),E=k,g=T}x<b-1&&_(x,b-1,S.loop,g)}return p}function IR(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ate(e,t){if(!t)return!1;const n=[],r=function(i,s){return qk(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function jw(e,t,n){return e.options.clip?e[n]:t[n]}function ste(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:jw(n,t,"left"),right:jw(n,t,"right"),top:jw(r,t,"top"),bottom:jw(r,t,"bottom")}:t}function ote(e,t){const n=t._clip;if(n.disabled)return!1;const r=ste(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class lte{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],c=n.duration;s.forEach(u=>u({chart:t,initial:n.initial,numSteps:c,currentStep:Math.min(r-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=CL.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let c=s.length-1,u=!1,h;for(;c>=0;--c)h=s[c],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(t),u=!0):(s[c]=s[s.length-1],s.pop());u&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Nc=new lte;const OR="transparent",cte={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=_R(e||OR),i=r.valid&&_R(t||OR);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class ute{constructor(t,n,r,i){const s=n[r];i=Mw([t.to,i,s,t.from]);const c=Mw([t.from,s,i]);this._active=!0,this._fn=t.fn||cte[t.type||typeof c],this._easing=Zx[t.easing]||Zx.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,c=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Mw([t.to,n,i,t.from]),this._from=Mw([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,c=this._loop,u=this._to;let h;if(this._active=s!==u&&(c||n<r),!this._active){this._target[i]=u,this._notify(!0);return}if(n<0){this._target[i]=s;return}h=n/r%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(s,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class VL{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Ht(t))return;const n=Object.keys(pr.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!Ht(s))return;const c={};for(const u of n)c[u]=s[u];(Xr(s.properties)&&s.properties||[i]).forEach(u=>{(u===i||!r.has(u))&&r.set(u,c)})})}_animateOptions(t,n){const r=n.options,i=hte(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&fte(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),c=Object.keys(n),u=Date.now();let h;for(h=c.length-1;h>=0;--h){const p=c[h];if(p.charAt(0)==="$")continue;if(p==="options"){i.push(...this._animateOptions(t,n));continue}const g=n[p];let x=s[p];const b=r.get(p);if(x)if(b&&x.active()){x.update(b,g,u);continue}else x.cancel();if(!b||!b.duration){t[p]=g;continue}s[p]=x=new ute(b,t,p,g),i.push(x)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Nc.add(this._chart,r),!0}}function fte(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function hte(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function FR(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function dte(e,t,n){if(n===!1)return!1;const r=FR(e,n),i=FR(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function pte(e){let t,n,r,i;return Ht(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function HL(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function MR(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let c,u,h,p;if(t===null)return;let g=!1;for(c=0,u=i.length;c<u;++c){if(h=+i[c],h===n){if(g=!0,r.all)continue;break}p=e.values[h],Ys(p)&&(s||t===0||Bm(t)===Bm(p))&&(t+=p)}return!g&&!r.all?0:t}function mte(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",c=Object.keys(e),u=new Array(c.length);let h,p,g;for(h=0,p=c.length;h<p;++h)g=c[h],u[h]={[i]:g,[s]:e[g]};return u}function mT(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function gte(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function vte(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function xte(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function LR(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function jR(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:c,index:u}=r,h=s.axis,p=c.axis,g=gte(s,c,r),x=t.length;let b;for(let _=0;_<x;++_){const S=t[_],{[h]:E,[p]:T}=S,k=S._stacks||(S._stacks={});b=k[p]=xte(i,g,E),b[u]=T,b._top=LR(b,c,!0,r.type),b._bottom=LR(b,c,!1,r.type);const R=b._visualValues||(b._visualValues={});R[u]=T}}function gT(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function yte(e,t){return o0(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function bte(e,t,n){return o0(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function bx(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const vT=e=>e==="reset"||e==="none",PR=(e,t)=>t?e:Object.assign({},e),wte=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:HL(n,!0),values:null};class ty{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=mT(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&bx(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(x,b,_,S)=>x==="x"?b:x==="r"?S:_,s=n.xAxisID=Pt(r.xAxisID,gT(t,"x")),c=n.yAxisID=Pt(r.yAxisID,gT(t,"y")),u=n.rAxisID=Pt(r.rAxisID,gT(t,"r")),h=n.indexAxis,p=n.iAxisID=i(h,s,c,u),g=n.vAxisID=i(h,c,s,u);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&yR(this._data,this),t._stacked&&bx(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Ht(n)){const i=this._cachedMeta;this._data=mte(n,i)}else if(r!==n){if(r){yR(r,this);const i=this._cachedMeta;bx(i),i._parsed=[]}n&&Object.isExtensible(n)&&tee(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=mT(n.vScale,n),n.stack!==r.stack&&(i=!0,bx(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(jR(this,n._parsed),n._stacked=mT(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:c}=r,u=s.axis;let h=t===0&&n===i.length?!0:r._sorted,p=t>0&&r._parsed[t-1],g,x,b;if(this._parsing===!1)r._parsed=i,r._sorted=!0,b=i;else{Xr(i[t])?b=this.parseArrayData(r,i,t,n):Ht(i[t])?b=this.parseObjectData(r,i,t,n):b=this.parsePrimitiveData(r,i,t,n);const _=()=>x[u]===null||p&&x[u]<p[u];for(g=0;g<n;++g)r._parsed[g+t]=x=b[g],h&&(_()&&(h=!1),p=x);r._sorted=h}c&&jR(this,b)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:c}=t,u=s.axis,h=c.axis,p=s.getLabels(),g=s===c,x=new Array(i);let b,_,S;for(b=0,_=i;b<_;++b)S=b+r,x[b]={[u]:g||s.parse(p[S],S),[h]:c.parse(n[S],S)};return x}parseArrayData(t,n,r,i){const{xScale:s,yScale:c}=t,u=new Array(i);let h,p,g,x;for(h=0,p=i;h<p;++h)g=h+r,x=n[g],u[h]={x:s.parse(x[0],g),y:c.parse(x[1],g)};return u}parseObjectData(t,n,r,i){const{xScale:s,yScale:c}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,p=new Array(i);let g,x,b,_;for(g=0,x=i;g<x;++g)b=g+r,_=n[b],p[g]={x:s.parse(jy(_,u),b),y:c.parse(jy(_,h),b)};return p}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,c=n[t.axis],u={keys:HL(i,!0),values:n._stacks[t.axis]._visualValues};return MR(u,c,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let c=s===null?NaN:s;const u=i&&r._stacks[n.axis];i&&u&&(i.values=u,c=MR(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,c=i.length,u=this._getOtherScale(t),h=wte(n,r,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:x}=vte(u);let b,_;function S(){_=i[b];const E=_[u.axis];return!Ys(_[t.axis])||g>E||x<E}for(b=0;b<c&&!(!S()&&(this.updateRangeFromParsed(p,t,_,h),s));++b);if(s){for(b=c-1;b>=0;--b)if(!S()){this.updateRangeFromParsed(p,t,_,h);break}}return p}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,c;for(i=0,s=n.length;i<s;++i)c=n[i][t.axis],Ys(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=pte(Pt(this.options.clip,dte(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,c=[],u=this._drawStart||0,h=this._drawCount||i.length-u,p=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(t,s,u,h),g=u;g<u+h;++g){const x=i[g];x.hidden||(x.active&&p?c.push(x):x.draw(t,s))}for(g=0;g<c.length;++g)c[g].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];s=c.$context||(c.$context=bte(this.getContext(),t,c)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=yte(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,c=t+"-"+n,u=s[c],h=this.enableOptionSharing&&Q_(r);if(u)return PR(u,h);const p=this.chart.config,g=p.datasetElementScopeKeys(this._type,t),x=i?[`${t}Hover`,"hover",t,""]:[t,""],b=p.getOptionScopes(this.getDataset(),g),_=Object.keys(pr.elements[t]),S=()=>this.getContext(r,i,n),E=p.resolveNamedOptions(b,_,S,x);return E.$shared&&(E.$shared=h,s[c]=Object.freeze(PR(E,h))),E}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,c=`animation-${n}`,u=s[c];if(u)return u;let h;if(i.options.animation!==!1){const g=this.chart.config,x=g.datasetAnimationScopeKeys(this._type,n),b=g.getOptionScopes(this.getDataset(),x);h=g.createResolver(b,this.getContext(t,r,n))}const p=new VL(i,h&&h.animations);return h&&h._cacheable&&(s[c]=Object.freeze(p)),p}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||vT(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),c=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:c}}updateElement(t,n,r,i){vT(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!vT(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[u,h,p]of this._syncList)this[u](h,p);this._syncList=[];const i=r.length,s=n.length,c=Math.min(s,i);c&&this.parse(0,c),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,c=t+n;let u;const h=p=>{for(p.length+=n,u=p.length-1;u>=c;u--)p[u]=p[u-n]};for(h(s),u=t;u<c;++u)s[u]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&bx(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}tt(ty,"defaults",{}),tt(ty,"datasetElementType",null),tt(ty,"dataElementType",null);function _te(e,t,n){let r=1,i=1,s=0,c=0;if(t<sr){const u=e,h=u+t,p=Math.cos(u),g=Math.sin(u),x=Math.cos(h),b=Math.sin(h),_=(A,O,I)=>Py(A,u,h,!0)?1:Math.max(O,O*n,I,I*n),S=(A,O,I)=>Py(A,u,h,!0)?-1:Math.min(O,O*n,I,I*n),E=_(0,p,x),T=_(Lr,g,b),k=S(dn,p,x),R=S(dn+Lr,g,b);r=(E-k)/2,i=(T-R)/2,s=-(E+k)/2,c=-(T+R)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:c}}class Dx extends ty{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=h=>+r[h];if(Ht(r[t])){const{key:h="value"}=this._parsing;s=p=>+jy(r[p],h)}let c,u;for(c=t,u=t+n;c<u;++c)i._parsed[c]=s(c)}}_getRotation(){return Fc(this.options.rotation-90)}_getCircumference(){return Fc(this.options.circumference)}_getRotationExtents(){let t=sr,n=-sr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),c=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+c)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,c=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-c)/2,0),h=Math.min(PZ(this.options.cutout,u),1),p=this._getRingWeight(this.index),{circumference:g,rotation:x}=this._getRotationExtents(),{ratioX:b,ratioY:_,offsetX:S,offsetY:E}=_te(x,g,h),T=(r.width-c)/b,k=(r.height-c)/_,R=Math.max(Math.min(T,k)/2,0),A=SL(this.options.radius,R),O=Math.max(A*h,0),I=(A-O)/this._getVisibleDatasetWeightTotal();this.offsetX=S*A,this.offsetY=E*A,i.total=this.calculateTotal(),this.outerRadius=A-I*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-I*p,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/sr)}updateElements(t,n,r,i){const s=i==="reset",c=this.chart,u=c.chartArea,p=c.options.animation,g=(u.left+u.right)/2,x=(u.top+u.bottom)/2,b=s&&p.animateScale,_=b?0:this.innerRadius,S=b?0:this.outerRadius,{sharedOptions:E,includeOptions:T}=this._getSharedOptions(n,i);let k=this._getRotation(),R;for(R=0;R<n;++R)k+=this._circumference(R,s);for(R=n;R<n+r;++R){const A=this._circumference(R,s),O=t[R],I={x:g+this.offsetX,y:x+this.offsetY,startAngle:k,endAngle:k+A,circumference:A,outerRadius:S,innerRadius:_};T&&(I.options=E||this.resolveDataElementOptions(R,O.active?"active":i)),k+=A,this.updateElement(O,R,I,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?sr*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Gk(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,c,u,h;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){c=r.getDatasetMeta(i),t=c.data,u=c.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)h=u.resolveDataElementOptions(i),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(Pt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}tt(Dx,"id","doughnut"),tt(Dx,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),tt(Dx,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),tt(Dx,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:c,borderRadius:u}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((h,p)=>{const x=t.getDatasetMeta(0).controller.getStyle(p);return{text:h,fillStyle:x.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(p),lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:x.borderWidth,strokeStyle:x.borderColor,textAlign:i,pointStyle:r,borderRadius:c&&(u||x.borderRadius),index:p}}):[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class y2 extends Dx{}tt(y2,"id","pie"),tt(y2,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function dd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class eN{constructor(t){tt(this,"options");this.options=t||{}}static override(t){Object.assign(eN.prototype,t)}init(){}formats(){return dd()}parse(){return dd()}format(){return dd()}add(){return dd()}diff(){return dd()}startOf(){return dd()}endOf(){return dd()}}var Ete={_date:eN};function Ste(e,t,n,r){const{controller:i,data:s,_sorted:c}=e,u=i._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&c&&s.length){const p=u._reversePixels?ZZ:g2;if(r){if(i._sharedOptions){const g=s[0],x=typeof g.getRange=="function"&&g.getRange(t);if(x){const b=p(s,t,n-x),_=p(s,t,n+x);return{lo:b.lo,hi:_.hi}}}}else{const g=p(s,t,n);if(h){const{vScale:x}=i._cachedMeta,{_parsed:b}=e,_=b.slice(0,g.lo+1).reverse().findIndex(E=>!Yn(E[x.axis]));g.lo-=Math.max(0,_);const S=b.slice(g.hi).findIndex(E=>!Yn(E[x.axis]));g.hi+=Math.max(0,S)}return g}}return{lo:0,hi:s.length-1}}function rS(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),c=n[t];for(let u=0,h=s.length;u<h;++u){const{index:p,data:g}=s[u],{lo:x,hi:b}=Ste(s[u],t,c,i);for(let _=x;_<=b;++_){const S=g[_];S.skip||r(S,p,_)}}}function Tte(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,c=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(c,2))}}function xT(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||rS(e,n,t,function(u,h,p){!i&&!By(u,e.chartArea,0)||u.inRange(t.x,t.y,r)&&s.push({element:u,datasetIndex:h,index:p})},!0),s}function Ate(e,t,n,r){let i=[];function s(c,u,h){const{startAngle:p,endAngle:g}=c.getProps(["startAngle","endAngle"],r),{angle:x}=kL(c,{x:t.x,y:t.y});Py(x,p,g)&&i.push({element:c,datasetIndex:u,index:h})}return rS(e,n,t,s),i}function kte(e,t,n,r,i,s){let c=[];const u=Tte(n);let h=Number.POSITIVE_INFINITY;function p(g,x,b){const _=g.inRange(t.x,t.y,i);if(r&&!_)return;const S=g.getCenterPoint(i);if(!(!!s||e.isPointInArea(S))&&!_)return;const T=u(t,S);T<h?(c=[{element:g,datasetIndex:x,index:b}],h=T):T===h&&c.push({element:g,datasetIndex:x,index:b})}return rS(e,n,t,p),c}function yT(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?Ate(e,t,n,i):kte(e,t,n,r,i,s)}function BR(e,t,n,r,i){const s=[],c=n==="x"?"inXRange":"inYRange";let u=!1;return rS(e,n,t,(h,p,g)=>{h[c]&&h[c](t[n],i)&&(s.push({element:h,datasetIndex:p,index:g}),u=u||h.inRange(t.x,t.y,i))}),r&&!u?[]:s}var Nte={modes:{index(e,t,n,r){const i=md(t,e),s=n.axis||"x",c=n.includeInvisible||!1,u=n.intersect?xT(e,i,s,r,c):yT(e,i,s,!1,r,c),h=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(p=>{const g=u[0].index,x=p.data[g];x&&!x.skip&&h.push({element:x,datasetIndex:p.index,index:g})}),h):[]},dataset(e,t,n,r){const i=md(t,e),s=n.axis||"xy",c=n.includeInvisible||!1;let u=n.intersect?xT(e,i,s,r,c):yT(e,i,s,!1,r,c);if(u.length>0){const h=u[0].datasetIndex,p=e.getDatasetMeta(h).data;u=[];for(let g=0;g<p.length;++g)u.push({element:p[g],datasetIndex:h,index:g})}return u},point(e,t,n,r){const i=md(t,e),s=n.axis||"xy",c=n.includeInvisible||!1;return xT(e,i,s,r,c)},nearest(e,t,n,r){const i=md(t,e),s=n.axis||"xy",c=n.includeInvisible||!1;return yT(e,i,s,n.intersect,r,c)},x(e,t,n,r){const i=md(t,e);return BR(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=md(t,e);return BR(e,i,"y",n.intersect,r)}}};const qL=["left","top","right","bottom"];function wx(e,t){return e.filter(n=>n.pos===t)}function UR(e,t){return e.filter(n=>qL.indexOf(n.pos)===-1&&n.box.axis===t)}function _x(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function Cte(e){const t=[];let n,r,i,s,c,u;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:c,stackWeight:u=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&s+c,stackWeight:u});return t}function Rte(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!qL.includes(i))continue;const c=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=s}return t}function Dte(e,t){const n=Rte(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,c,u;for(s=0,c=e.length;s<c;++s){u=e[s];const{fullSize:h}=u.box,p=n[u.stack],g=p&&u.stackWeight/p.weight;u.horizontal?(u.width=g?g*r:h&&t.availableWidth,u.height=i):(u.width=r,u.height=g?g*i:h&&t.availableHeight)}return n}function Ite(e){const t=Cte(e),n=_x(t.filter(p=>p.box.fullSize),!0),r=_x(wx(t,"left"),!0),i=_x(wx(t,"right")),s=_x(wx(t,"top"),!0),c=_x(wx(t,"bottom")),u=UR(t,"x"),h=UR(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(h).concat(c).concat(u),chartArea:wx(t,"chartArea"),vertical:r.concat(i).concat(h),horizontal:s.concat(c).concat(u)}}function zR(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function GL(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Ote(e,t,n,r){const{pos:i,box:s}=n,c=e.maxPadding;if(!Ht(i)){n.size&&(e[i]-=n.size);const x=r[n.stack]||{size:0,count:1};x.size=Math.max(x.size,n.horizontal?s.height:s.width),n.size=x.size/x.count,e[i]+=n.size}s.getPadding&&GL(c,s.getPadding());const u=Math.max(0,t.outerWidth-zR(c,e,"left","right")),h=Math.max(0,t.outerHeight-zR(c,e,"top","bottom")),p=u!==e.w,g=h!==e.h;return e.w=u,e.h=h,n.horizontal?{same:p,other:g}:{same:g,other:p}}function Fte(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Mte(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{s[c]=Math.max(t[c],n[c])}),s}return r(e?["left","right"]:["top","bottom"])}function Ix(e,t,n,r){const i=[];let s,c,u,h,p,g;for(s=0,c=e.length,p=0;s<c;++s){u=e[s],h=u.box,h.update(u.width||t.w,u.height||t.h,Mte(u.horizontal,t));const{same:x,other:b}=Ote(t,n,u,r);p|=x&&i.length,g=g||b,h.fullSize||i.push(u)}return p&&Ix(i,t,n,r)||g}function Pw(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function VR(e,t,n,r){const i=n.padding;let{x:s,y:c}=t;for(const u of e){const h=u.box,p=r[u.stack]||{placed:0,weight:1},g=u.stackWeight/p.weight||1;if(u.horizontal){const x=t.w*g,b=p.size||h.height;Q_(p.start)&&(c=p.start),h.fullSize?Pw(h,i.left,c,n.outerWidth-i.right-i.left,b):Pw(h,t.left+p.placed,c,x,b),p.start=c,p.placed+=x,c=h.bottom}else{const x=t.h*g,b=p.size||h.width;Q_(p.start)&&(s=p.start),h.fullSize?Pw(h,s,i.top,b,n.outerHeight-i.bottom-i.top):Pw(h,s,t.top+p.placed,b,x),p.start=s,p.placed+=x,s=h.right}}t.x=s,t.y=c}var Ws={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=$s(e.options.layout.padding),s=Math.max(t-i.width,0),c=Math.max(n-i.height,0),u=Ite(e.boxes),h=u.vertical,p=u.horizontal;hn(e.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const g=h.reduce((E,T)=>T.box.options&&T.box.options.display===!1?E:E+1,0)||1,x=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:c,vBoxMaxWidth:s/2/g,hBoxMaxHeight:c/2}),b=Object.assign({},i);GL(b,$s(r));const _=Object.assign({maxPadding:b,w:s,h:c,x:i.left,y:i.top},i),S=Dte(h.concat(p),x);Ix(u.fullSize,_,x,S),Ix(h,_,x,S),Ix(p,_,x,S)&&Ix(h,_,x,S),Fte(_),VR(u.leftAndTop,_,x,S),_.x+=_.w,_.y+=_.h,VR(u.rightAndBottom,_,x,S),e.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},hn(u.chartArea,E=>{const T=E.box;Object.assign(T,e.chartArea),T.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class WL{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class Lte extends WL{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const n_="$chartjs",jte={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},HR=e=>e===null||e==="";function Pte(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[n_]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",HR(i)){const s=CR(e,"width");s!==void 0&&(e.width=s)}if(HR(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=CR(e,"height");s!==void 0&&(e.height=s)}return e}const XL=Xee?{passive:!0}:!1;function Bte(e,t,n){e&&e.addEventListener(t,n,XL)}function Ute(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,XL)}function zte(e,t){const n=jte[e.type]||e.type,{x:r,y:i}=md(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function nE(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Vte(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let c=!1;for(const u of s)c=c||nE(u.addedNodes,r),c=c&&!nE(u.removedNodes,r);c&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Hte(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let c=!1;for(const u of s)c=c||nE(u.removedNodes,r),c=c&&!nE(u.addedNodes,r);c&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const zy=new Map;let qR=0;function KL(){const e=window.devicePixelRatio;e!==qR&&(qR=e,zy.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function qte(e,t){zy.size||window.addEventListener("resize",KL),zy.set(e,t)}function Gte(e){zy.delete(e),zy.size||window.removeEventListener("resize",KL)}function Wte(e,t,n){const r=e.canvas,i=r&&Zk(r);if(!i)return;const s=RL((u,h)=>{const p=i.clientWidth;n(u,h),p<i.clientWidth&&n()},window),c=new ResizeObserver(u=>{const h=u[0],p=h.contentRect.width,g=h.contentRect.height;p===0&&g===0||s(p,g)});return c.observe(i),qte(e,s),c}function bT(e,t,n){n&&n.disconnect(),t==="resize"&&Gte(e)}function Xte(e,t,n){const r=e.canvas,i=RL(s=>{e.ctx!==null&&n(zte(s,e))},e);return Bte(r,t,i),i}class Kte extends WL{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(Pte(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[n_])return!1;const r=n[n_].initial;["height","width"].forEach(s=>{const c=r[s];Yn(c)?n.removeAttribute(s):n.setAttribute(s,c)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[n_],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),c={attach:Vte,detach:Hte,resize:Wte}[n]||Xte;i[n]=c(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:bT,detach:bT,resize:bT}[n]||Ute)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return Wee(t,n,r,i)}isAttached(t){const n=t&&Zk(t);return!!(n&&n.isConnected)}}function Yte(e){return!Jk()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Lte:Kte}var qw;let Qc=(qw=class{constructor(){tt(this,"x");tt(this,"y");tt(this,"active",!1);tt(this,"options");tt(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Z_(this.x)&&Z_(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},tt(qw,"defaults",{}),tt(qw,"defaultRoutes"),qw);function $te(e,t){const n=e.options.ticks,r=Qte(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Zte(t):[],c=s.length,u=s[0],h=s[c-1],p=[];if(c>i)return ene(t,p,s,c/i),p;const g=Jte(s,t,i);if(c>0){let x,b;const _=c>1?Math.round((h-u)/(c-1)):null;for(Bw(t,p,g,Yn(_)?0:u-_,u),x=0,b=c-1;x<b;x++)Bw(t,p,g,s[x],s[x+1]);return Bw(t,p,g,h,Yn(_)?t.length:h+_),p}return Bw(t,p,g),p}function Qte(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function Jte(e,t,n){const r=tne(e),i=t.length/n;if(!r)return Math.max(i,1);const s=WZ(r);for(let c=0,u=s.length-1;c<u;c++){const h=s[c];if(h>i)return h}return Math.max(i,1)}function Zte(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function ene(e,t,n,r){let i=0,s=n[0],c;for(r=Math.ceil(r),c=0;c<e.length;c++)c===s&&(t.push(e[c]),i++,s=n[i*r])}function Bw(e,t,n,r,i){const s=Pt(r,0),c=Math.min(Pt(i,e.length),e.length);let u=0,h,p,g;for(n=Math.ceil(n),i&&(h=i-r,n=h/Math.floor(h/n)),g=s;g<0;)u++,g=Math.round(s+u*n);for(p=Math.max(s,0);p<c;p++)p===g&&(t.push(e[p]),u++,g=Math.round(s+u*n))}function tne(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const nne=e=>e==="left"?"right":e==="right"?"left":e,GR=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,WR=(e,t)=>Math.min(t||e,e);function XR(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function rne(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,c=e._endPixel,u=1e-6;let h=e.getPixelForTick(i),p;if(!(n&&(r===1?p=Math.max(h-s,c-h):t===0?p=(e.getPixelForTick(1)-h)/2:p=(h-e.getPixelForTick(i-1))/2,h+=i<t?p:-p,h<s-u||h>c+u)))return h}function ine(e,t){hn(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Ex(e){return e.drawTicks?e.tickLength:0}function KR(e,t){if(!e.display)return 0;const n=zi(e.font,t),r=$s(e.padding);return(Xr(e.text)?e.text.length:1)*n.lineHeight+r.height}function ane(e,t){return o0(e,{scale:t,type:"scale"})}function sne(e,t,n){return o0(e,{tick:n,index:t,type:"tick"})}function one(e,t,n){let r=Hk(e);return(n&&t!=="right"||!n&&t==="right")&&(r=nne(r)),r}function lne(e,t,n,r){const{top:i,left:s,bottom:c,right:u,chart:h}=e,{chartArea:p,scales:g}=h;let x=0,b,_,S;const E=c-i,T=u-s;if(e.isHorizontal()){if(_=Oi(r,s,u),Ht(n)){const k=Object.keys(n)[0],R=n[k];S=g[k].getPixelForValue(R)+E-t}else n==="center"?S=(p.bottom+p.top)/2+E-t:S=GR(e,n,t);b=u-s}else{if(Ht(n)){const k=Object.keys(n)[0],R=n[k];_=g[k].getPixelForValue(R)-T+t}else n==="center"?_=(p.left+p.right)/2-T+t:_=GR(e,n,t);S=Oi(r,c,i),x=n==="left"?-Lr:Lr}return{titleX:_,titleY:S,maxWidth:b,rotation:x}}class rg extends Qc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=kl(t,Number.POSITIVE_INFINITY),n=kl(n,Number.NEGATIVE_INFINITY),r=kl(r,Number.POSITIVE_INFINITY),i=kl(i,Number.NEGATIVE_INFINITY),{min:kl(t,r),max:kl(n,i),minDefined:Ys(t),maxDefined:Ys(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),c;if(i&&s)return{min:n,max:r};const u=this.getMatchingVisibleMetas();for(let h=0,p=u.length;h<p;++h)c=u[h].controller.getMinMax(this,t),i||(n=Math.min(n,c.min)),s||(r=Math.max(r,c.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:kl(n,kl(r,n)),max:kl(r,kl(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){In(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=See(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?XR(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=$te(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){In(this.options.afterUpdate,[this])}beforeSetDimensions(){In(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){In(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),In(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){In(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=In(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){In(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){In(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=WR(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let c=i,u,h,p;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const g=this._getLabelSizes(),x=g.widest.width,b=g.highest.height,_=Fa(this.chart.width-x,0,this.maxWidth);u=t.offset?this.maxWidth/r:_/(r-1),x+6>u&&(u=_/(r-(t.offset?.5:1)),h=this.maxHeight-Ex(t.grid)-n.padding-KR(t.title,this.chart.options.font),p=Math.sqrt(x*x+b*b),c=$Z(Math.min(Math.asin(Fa((g.highest.height+6)/u,-1,1)),Math.asin(Fa(h/p,-1,1))-Math.asin(Fa(b/p,-1,1)))),c=Math.max(i,Math.min(s,c))),this.labelRotation=c}afterCalculateLabelRotation(){In(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){In(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const h=KR(i,n.options.font);if(u?(t.width=this.maxWidth,t.height=Ex(s)+h):(t.height=this.maxHeight,t.width=Ex(s)+h),r.display&&this.ticks.length){const{first:p,last:g,widest:x,highest:b}=this._getLabelSizes(),_=r.padding*2,S=Fc(this.labelRotation),E=Math.cos(S),T=Math.sin(S);if(u){const k=r.mirror?0:T*x.width+E*b.height;t.height=Math.min(this.maxHeight,t.height+k+_)}else{const k=r.mirror?0:E*x.width+T*b.height;t.width=Math.min(this.maxWidth,t.width+k+_)}this._calculatePadding(p,g,T,E)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:c},position:u}=this.options,h=this.labelRotation!==0,p=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,_=0;h?p?(b=i*t.width,_=r*n.height):(b=r*t.height,_=i*n.width):s==="start"?_=n.width:s==="end"?b=t.width:s!=="inner"&&(b=t.width/2,_=n.width/2),this.paddingLeft=Math.max((b-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((_-x+c)*this.width/(this.width-x),0)}else{let g=n.height/2,x=t.height/2;s==="start"?(g=0,x=t.height):s==="end"&&(g=n.height,x=0),this.paddingTop=g+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){In(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Yn(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=XR(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,c=[],u=[],h=Math.floor(n/WR(n,r));let p=0,g=0,x,b,_,S,E,T,k,R,A,O,I;for(x=0;x<n;x+=h){if(S=t[x].label,E=this._resolveTickFontOptions(x),i.font=T=E.string,k=s[T]=s[T]||{data:{},gc:[]},R=E.lineHeight,A=O=0,!Yn(S)&&!Xr(S))A=SR(i,k.data,k.gc,A,S),O=R;else if(Xr(S))for(b=0,_=S.length;b<_;++b)I=S[b],!Yn(I)&&!Xr(I)&&(A=SR(i,k.data,k.gc,A,I),O+=R);c.push(A),u.push(O),p=Math.max(A,p),g=Math.max(O,g)}ine(s,n);const M=c.indexOf(p),C=u.indexOf(g),z=B=>({width:c[B]||0,height:u[B]||0});return{first:z(0),last:z(n-1),widest:z(M),highest:z(C),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return JZ(this._alignToPixels?hd(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=sne(this.getContext(),t,r))}return this.$context||(this.$context=ane(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Fc(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),c=t.autoSkipPadding||0,u=s?s.widest.width+c:0,h=s?s.highest.height+c:0;return this.isHorizontal()?h*r>u*i?u/r:h/i:h*i<u*r?h/r:u/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:c,border:u}=i,h=s.offset,p=this.isHorizontal(),x=this.ticks.length+(h?1:0),b=Ex(s),_=[],S=u.setContext(this.getContext()),E=S.display?S.width:0,T=E/2,k=function(ee){return hd(r,ee,E)};let R,A,O,I,M,C,z,B,re,te,Z,xe;if(c==="top")R=k(this.bottom),C=this.bottom-b,B=R-T,te=k(t.top)+T,xe=t.bottom;else if(c==="bottom")R=k(this.top),te=t.top,xe=k(t.bottom)-T,C=R+T,B=this.top+b;else if(c==="left")R=k(this.right),M=this.right-b,z=R-T,re=k(t.left)+T,Z=t.right;else if(c==="right")R=k(this.left),re=t.left,Z=k(t.right)-T,M=R+T,z=this.left+b;else if(n==="x"){if(c==="center")R=k((t.top+t.bottom)/2+.5);else if(Ht(c)){const ee=Object.keys(c)[0],J=c[ee];R=k(this.chart.scales[ee].getPixelForValue(J))}te=t.top,xe=t.bottom,C=R+T,B=C+b}else if(n==="y"){if(c==="center")R=k((t.left+t.right)/2);else if(Ht(c)){const ee=Object.keys(c)[0],J=c[ee];R=k(this.chart.scales[ee].getPixelForValue(J))}M=R-T,z=M-b,re=t.left,Z=t.right}const De=Pt(i.ticks.maxTicksLimit,x),ve=Math.max(1,Math.ceil(x/De));for(A=0;A<x;A+=ve){const ee=this.getContext(A),J=s.setContext(ee),Ee=u.setContext(ee),ne=J.lineWidth,Ie=J.color,j=Ee.dash||[],F=Ee.dashOffset,V=J.tickWidth,H=J.tickColor,W=J.tickBorderDash||[],se=J.tickBorderDashOffset;O=rne(this,A,h),O!==void 0&&(I=hd(r,O,ne),p?M=z=re=Z=I:C=B=te=xe=I,_.push({tx1:M,ty1:C,tx2:z,ty2:B,x1:re,y1:te,x2:Z,y2:xe,width:ne,color:Ie,borderDash:j,borderDashOffset:F,tickWidth:V,tickColor:H,tickBorderDash:W,tickBorderDashOffset:se}))}return this._ticksLength=x,this._borderValue=R,_}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,c=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:p,padding:g,mirror:x}=s,b=Ex(r.grid),_=b+g,S=x?-g:_,E=-Fc(this.labelRotation),T=[];let k,R,A,O,I,M,C,z,B,re,te,Z,xe="middle";if(i==="top")M=this.bottom-S,C=this._getXAxisLabelAlignment();else if(i==="bottom")M=this.top+S,C=this._getXAxisLabelAlignment();else if(i==="left"){const ve=this._getYAxisLabelAlignment(b);C=ve.textAlign,I=ve.x}else if(i==="right"){const ve=this._getYAxisLabelAlignment(b);C=ve.textAlign,I=ve.x}else if(n==="x"){if(i==="center")M=(t.top+t.bottom)/2+_;else if(Ht(i)){const ve=Object.keys(i)[0],ee=i[ve];M=this.chart.scales[ve].getPixelForValue(ee)+_}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")I=(t.left+t.right)/2-_;else if(Ht(i)){const ve=Object.keys(i)[0],ee=i[ve];I=this.chart.scales[ve].getPixelForValue(ee)}C=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(h==="start"?xe="top":h==="end"&&(xe="bottom"));const De=this._getLabelSizes();for(k=0,R=u.length;k<R;++k){A=u[k],O=A.label;const ve=s.setContext(this.getContext(k));z=this.getPixelForTick(k)+s.labelOffset,B=this._resolveTickFontOptions(k),re=B.lineHeight,te=Xr(O)?O.length:1;const ee=te/2,J=ve.color,Ee=ve.textStrokeColor,ne=ve.textStrokeWidth;let Ie=C;c?(I=z,C==="inner"&&(k===R-1?Ie=this.options.reverse?"left":"right":k===0?Ie=this.options.reverse?"right":"left":Ie="center"),i==="top"?p==="near"||E!==0?Z=-te*re+re/2:p==="center"?Z=-De.highest.height/2-ee*re+re:Z=-De.highest.height+re/2:p==="near"||E!==0?Z=re/2:p==="center"?Z=De.highest.height/2-ee*re:Z=De.highest.height-te*re,x&&(Z*=-1),E!==0&&!ve.showLabelBackdrop&&(I+=re/2*Math.sin(E))):(M=z,Z=(1-te)*re/2);let j;if(ve.showLabelBackdrop){const F=$s(ve.backdropPadding),V=De.heights[k],H=De.widths[k];let W=Z-F.top,se=0-F.left;switch(xe){case"middle":W-=V/2;break;case"bottom":W-=V;break}switch(C){case"center":se-=H/2;break;case"right":se-=H;break;case"inner":k===R-1?se-=H:k>0&&(se-=H/2);break}j={left:se,top:W,width:H+F.width,height:V+F.height,color:ve.backdropColor}}T.push({label:O,font:B,textOffset:Z,options:{rotation:E,color:J,strokeColor:Ee,strokeWidth:ne,textAlign:Ie,textBaseline:xe,translation:[I,M],backdrop:j}})}return T}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Fc(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,c=this._getLabelSizes(),u=t+s,h=c.widest.width;let p,g;return n==="left"?i?(g=this.right+s,r==="near"?p="left":r==="center"?(p="center",g+=h/2):(p="right",g+=h)):(g=this.right-u,r==="near"?p="right":r==="center"?(p="center",g-=h/2):(p="left",g=this.left)):n==="right"?i?(g=this.left+s,r==="near"?p="right":r==="center"?(p="center",g-=h/2):(p="left",g-=h)):(g=this.left+u,r==="near"?p="left":r==="center"?(p="center",g+=h/2):(p="right",g=this.right)):p="right",{textAlign:p,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:c}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,c),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,c;const u=(h,p,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(p.x,p.y),r.stroke(),r.restore())};if(n.display)for(s=0,c=i.length;s<c;++s){const h=i[s];n.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),c=r.display?s.width:0;if(!c)return;const u=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,g,x,b;this.isHorizontal()?(p=hd(t,this.left,c)-c/2,g=hd(t,this.right,u)+u/2,x=b=h):(x=hd(t,this.top,c)-c/2,b=hd(t,this.bottom,u)+u/2,p=g=h),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(p,x),n.lineTo(g,b),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Wk(r,i);const s=this.getLabelItems(t);for(const c of s){const u=c.options,h=c.font,p=c.label,g=c.textOffset;Uy(r,p,0,g,h,u)}i&&Xk(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=zi(r.font),c=$s(r.padding),u=r.align;let h=s.lineHeight/2;n==="bottom"||n==="center"||Ht(n)?(h+=c.bottom,Xr(r.text)&&(h+=s.lineHeight*(r.text.length-1))):h+=c.top;const{titleX:p,titleY:g,maxWidth:x,rotation:b}=lne(this,h,n,u);Uy(t,r.text,0,0,s,{color:r.color,maxWidth:x,rotation:b,textAlign:one(u,n,i),textBaseline:"middle",translation:[p,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=Pt(t.grid&&t.grid.z,-1),i=Pt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==rg.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,c;for(s=0,c=n.length;s<c;++s){const u=n[s];u[r]===this.id&&(!t||u.type===t)&&i.push(u)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return zi(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Uw{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;fne(n)&&(r=this.register(n));const i=this.items,s=t.id,c=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,cne(t,c,r),this.override&&pr.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in pr[i]&&(delete pr[i][r],this.override&&delete Wd[r])}}function cne(e,t,n){const r=Ly(Object.create(null),[n?pr.get(n):{},pr.get(t),e.defaults]);pr.set(t,r),e.defaultRoutes&&une(t,e.defaultRoutes),e.descriptors&&pr.describe(t,e.descriptors)}function une(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),c=t[n].split("."),u=c.pop(),h=c.join(".");pr.route(s,i,h,u)})}function fne(e){return"id"in e&&"defaults"in e}class hne{constructor(){this.controllers=new Uw(ty,"datasets",!0),this.elements=new Uw(Qc,"elements"),this.plugins=new Uw(Object,"plugins"),this.scales=new Uw(rg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):hn(i,c=>{const u=r||this._getRegistryForType(c);this._exec(t,u,c)})})}_exec(t,n,r){const i=zk(t);In(r["before"+i],[],r),n[t](r),In(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Il=new hne;class dne{constructor(){this._init=void 0}notify(t,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const s=i?this._descriptors(t).filter(i):this._descriptors(t),c=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,n,r,i){i=i||{};for(const s of t){const c=s.plugin,u=c[r],h=[n,i,s.options];if(In(u,h,c)===!1&&i.cancelable)return!1}return!0}invalidate(){Yn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=Pt(r.options&&r.options.plugins,{}),s=pne(r);return i===!1&&!n?[]:gne(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,c)=>s.filter(u=>!c.some(h=>u.plugin.id===h.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function pne(e){const t={},n=[],r=Object.keys(Il.plugins.items);for(let s=0;s<r.length;s++)n.push(Il.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const c=i[s];n.indexOf(c)===-1&&(n.push(c),t[c.id]=!0)}return{plugins:n,localIds:t}}function mne(e,t){return!t&&e===!1?null:e===!0?{}:e}function gne(e,{plugins:t,localIds:n},r,i){const s=[],c=e.getContext();for(const u of t){const h=u.id,p=mne(r[h],i);p!==null&&s.push({plugin:u,options:vne(e.config,{plugin:u,local:n[h]},p,c)})}return s}function vne(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),c=e.getOptionScopes(r,s);return n&&t.defaults&&c.push(t.defaults),e.createResolver(c,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function b2(e,t){const n=pr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function xne(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function yne(e,t){return e===t?"_index_":"_value_"}function YR(e){if(e==="x"||e==="y"||e==="r")return e}function bne(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function w2(e,...t){if(YR(e))return e;for(const n of t){const r=n.axis||bne(n.position)||e.length>1&&YR(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function $R(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function wne(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return $R(e,"x",n[0])||$R(e,"y",n[0])}return{}}function _ne(e,t){const n=Wd[e.type]||{scales:{}},r=t.scales||{},i=b2(e.type,t),s=Object.create(null);return Object.keys(r).forEach(c=>{const u=r[c];if(!Ht(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=w2(c,u,wne(c,e),pr.scales[u.type]),p=yne(h,i),g=n.scales||{};s[c]=Qx(Object.create(null),[{axis:h},u,g[h],g[p]])}),e.data.datasets.forEach(c=>{const u=c.type||e.type,h=c.indexAxis||b2(u,t),g=(Wd[u]||{}).scales||{};Object.keys(g).forEach(x=>{const b=xne(x,h),_=c[b+"AxisID"]||b;s[_]=s[_]||Object.create(null),Qx(s[_],[{axis:b},r[_],g[x]])})}),Object.keys(s).forEach(c=>{const u=s[c];Qx(u,[pr.scales[u.type],pr.scale])}),s}function YL(e){const t=e.options||(e.options={});t.plugins=Pt(t.plugins,{}),t.scales=_ne(e,t)}function $L(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Ene(e){return e=e||{},e.data=$L(e.data),YL(e),e}const QR=new Map,QL=new Set;function zw(e,t){let n=QR.get(e);return n||(n=t(),QR.set(e,n),QL.add(n)),n}const Sx=(e,t,n)=>{const r=jy(t,n);r!==void 0&&e.add(r)};class Sne{constructor(t){this._config=Ene(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=$L(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),YL(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return zw(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return zw(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return zw(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return zw(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,c=this._cachedScopes(t,r),u=c.get(n);if(u)return u;const h=new Set;n.forEach(g=>{t&&(h.add(t),g.forEach(x=>Sx(h,t,x))),g.forEach(x=>Sx(h,i,x)),g.forEach(x=>Sx(h,Wd[s]||{},x)),g.forEach(x=>Sx(h,pr,x)),g.forEach(x=>Sx(h,v2,x))});const p=Array.from(h);return p.length===0&&p.push(Object.create(null)),QL.has(n)&&c.set(n,p),p}chartOptionScopes(){const{options:t,type:n}=this;return[t,Wd[n]||{},pr.datasets[n]||{},{type:n},pr,v2]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:c,subPrefixes:u}=JR(this._resolverCache,t,i);let h=c;if(Ane(c,n)){s.$shared=!1,r=Sf(r)?r():r;const p=this.createResolver(t,r,u);h=Um(c,r,p)}for(const p of n)s[p]=h[p];return s}createResolver(t,n,r=[""],i){const{resolver:s}=JR(this._resolverCache,t,r);return Ht(n)?Um(s,n,void 0,i):s}}function JR(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Yk(t,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,s)),s}const Tne=e=>Ht(e)&&Object.getOwnPropertyNames(e).some(t=>Sf(e[t]));function Ane(e,t){const{isScriptable:n,isIndexable:r}=FL(e);for(const i of t){const s=n(i),c=r(i),u=(c||s)&&e[i];if(s&&(Sf(u)||Tne(u))||c&&Xr(u))return!0}return!1}var kne="4.5.1";const Nne=["top","bottom","left","right","chartArea"];function ZR(e,t){return e==="top"||e==="bottom"||Nne.indexOf(e)===-1&&t==="x"}function eD(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function tD(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),In(n&&n.onComplete,[e],t)}function Cne(e){const t=e.chart,n=t.options.animation;In(n&&n.onProgress,[e],t)}function JL(e){return Jk()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const r_={},nD=e=>{const t=JL(e);return Object.values(r_).filter(n=>n.canvas===t).pop()};function Rne(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const c=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=c)}}}function Dne(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}var tf;let iS=(tf=class{static register(...t){Il.add(...t),rD()}static unregister(...t){Il.remove(...t),rD()}constructor(t,n){const r=this.config=new Sne(n),i=JL(t),s=nD(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Yte(i)),this.platform.updateConfig(r);const u=this.platform.acquireContext(i,c.aspectRatio),h=u&&u.canvas,p=h&&h.height,g=h&&h.width;if(this.id=jZ(),this.ctx=u,this.canvas=h,this.width=g,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dne,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ree(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],r_[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Nc.listen(this,"complete",tD),Nc.listen(this,"progress",Cne),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Yn(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Il}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():NR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return TR(this.canvas,this.ctx),this}stop(){return Nc.stop(this),this}resize(t,n){Nc.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(i,t,n,s),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,NR(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),In(r.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};hn(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((c,u)=>(c[u]=!1,c),{});let s=[];n&&(s=s.concat(Object.keys(n).map(c=>{const u=n[c],h=w2(c,u),p=h==="r",g=h==="x";return{options:u,dposition:p?"chartArea":g?"bottom":"left",dtype:p?"radialLinear":g?"category":"linear"}}))),hn(s,c=>{const u=c.options,h=u.id,p=w2(h,u),g=Pt(u.type,c.dtype);(u.position===void 0||ZR(u.position,p)!==ZR(c.dposition))&&(u.position=c.dposition),i[h]=!0;let x=null;if(h in r&&r[h].type===g)x=r[h];else{const b=Il.getScale(g);x=new b({id:h,type:g,ctx:this.ctx,chart:this}),r[x.id]=x}x.init(u,t)}),hn(i,(c,u)=>{c||delete r[u]}),hn(r,c=>{Ws.configure(this,c,c.options),Ws.addBox(this,c)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(eD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let c=this.getDatasetMeta(r);const u=s.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=u,c.indexAxis=s.indexAxis||b2(u,this.options),c.order=s.order||0,c.index=r,c.label=""+s.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const h=Il.getController(u),{datasetElementType:p,dataElementType:g}=pr.datasets[u];Object.assign(h,{dataElementType:Il.getElement(g),datasetElementType:p&&Il.getElement(p)}),c.controller=new h(this,r),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){hn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,g=this.data.datasets.length;p<g;p++){const{controller:x}=this.getDatasetMeta(p),b=!i&&s.indexOf(x)===-1;x.buildOrUpdateElements(b),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),i||hn(s,p=>{p.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(eD("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){hn(this.scales,t=>{Ws.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!mR(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const c=r==="_removeElements"?-s:s;Rne(t,i,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(c=>c[0]===s).map((c,u)=>u+","+c.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!mR(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ws.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],hn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Sf(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Nc.has(this)?this.attached&&!Nc.running(this)&&Nc.start(this):(this.draw(),tD({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const c=n[i];(!t||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=ote(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Wk(n,i),t.controller.draw(),i&&Xk(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return By(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=Nte.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=o0(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),c=s.controller._resolveAnimations(void 0,i);Q_(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),c.update(s,{visible:r}),this.update(u=>u.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Nc.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),TR(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete r_[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,c)=>{n.addEventListener(this,s,c),t[s]=c},i=(s,c,u)=>{s.offsetX=c,s.offsetY=u,this._eventHandler(s)};hn(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(h,p)=>{n.addEventListener(this,h,p),t[h]=p},i=(h,p)=>{t[h]&&(n.removeEventListener(this,h,p),delete t[h])},s=(h,p)=>{this.canvas&&this.resize(h,p)};let c;const u=()=>{i("attach",u),this.attached=!0,this.resize(),r("resize",s),r("detach",c)};c=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",u)},n.isAttached(this.canvas)?u():c()}unbindEvents(){hn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},hn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,c,u,h;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){c=t[u];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:c})=>{const u=this.getDatasetMeta(s);if(!u)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:u.data[c],index:c}});!Y_(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(h,p)=>h.filter(g=>!p.some(x=>g.datasetIndex===x.datasetIndex&&g.index===x.index)),c=s(n,t),u=r?t:s(t,n);c.length&&this.updateHoverStyle(c,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,c=n,u=this._getActiveElements(t,i,r,c),h=HZ(t),p=Dne(t,this._lastEvent,r,h);r&&(this._lastEvent=null,In(s.onHover,[t,u,this],this),h&&In(s.onClick,[t,u,this],this));const g=!Y_(u,i);return(g||n)&&(this._active=u,this._updateHoverStyles(u,i,n)),this._lastEvent=p,g}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}},tt(tf,"defaults",pr),tt(tf,"instances",r_),tt(tf,"overrides",Wd),tt(tf,"registry",Il),tt(tf,"version",kne),tt(tf,"getChart",nD),tf);function rD(){return hn(iS.instances,e=>e._plugins.invalidate())}function Ine(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:c,innerRadius:u,options:h}=t,{borderWidth:p,borderJoinStyle:g}=h,x=Math.min(p/c,Oo(r-n));if(e.beginPath(),e.arc(i,s,c-p/2,r+x/2,n-x/2),u>0){const b=Math.min(p/u,Oo(r-n));e.arc(i,s,u+p/2,n-b/2,r+b/2,!0)}else{const b=Math.min(p/2,c*Oo(r-n));if(g==="round")e.arc(i,s,b,n-dn/2,r+dn/2,!0);else if(g==="bevel"){const _=2*b*b,S=-_*Math.cos(n+dn/2)+i,E=-_*Math.sin(n+dn/2)+s,T=_*Math.cos(r+dn/2)+i,k=_*Math.sin(r+dn/2)+s;e.lineTo(S,E),e.lineTo(T,k)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function One(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:c,outerRadius:u,innerRadius:h}=t;let p=i/u;e.beginPath(),e.arc(s,c,u,r-p,n+p),h>i?(p=i/h,e.arc(s,c,h,n+p,r-p,!0)):e.arc(s,c,i,n+Lr,r-Lr),e.closePath(),e.clip()}function Fne(e){return Kk(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Mne(e,t,n,r){const i=Fne(e.options.borderRadius),s=(n-t)/2,c=Math.min(s,r*t/2),u=h=>{const p=(n-Math.min(s,h))*r/2;return Fa(h,0,Math.min(s,p))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:Fa(i.innerStart,0,c),innerEnd:Fa(i.innerEnd,0,c)}}function em(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function rE(e,t,n,r,i,s){const{x:c,y:u,startAngle:h,pixelMargin:p,innerRadius:g}=t,x=Math.max(t.outerRadius+r+n-p,0),b=g>0?g+r+n+p:0;let _=0;const S=i-h;if(r){const ve=g>0?g-r:0,ee=x>0?x-r:0,J=(ve+ee)/2,Ee=J!==0?S*J/(J+r):S;_=(S-Ee)/2}const E=Math.max(.001,S*x-n/dn)/x,T=(S-E)/2,k=h+T+_,R=i-T-_,{outerStart:A,outerEnd:O,innerStart:I,innerEnd:M}=Mne(t,b,x,R-k),C=x-A,z=x-O,B=k+A/C,re=R-O/z,te=b+I,Z=b+M,xe=k+I/te,De=R-M/Z;if(e.beginPath(),s){const ve=(B+re)/2;if(e.arc(c,u,x,B,ve),e.arc(c,u,x,ve,re),O>0){const ne=em(z,re,c,u);e.arc(ne.x,ne.y,O,re,R+Lr)}const ee=em(Z,R,c,u);if(e.lineTo(ee.x,ee.y),M>0){const ne=em(Z,De,c,u);e.arc(ne.x,ne.y,M,R+Lr,De+Math.PI)}const J=(R-M/b+(k+I/b))/2;if(e.arc(c,u,b,R-M/b,J,!0),e.arc(c,u,b,J,k+I/b,!0),I>0){const ne=em(te,xe,c,u);e.arc(ne.x,ne.y,I,xe+Math.PI,k-Lr)}const Ee=em(C,k,c,u);if(e.lineTo(Ee.x,Ee.y),A>0){const ne=em(C,B,c,u);e.arc(ne.x,ne.y,A,k-Lr,B)}}else{e.moveTo(c,u);const ve=Math.cos(B)*x+c,ee=Math.sin(B)*x+u;e.lineTo(ve,ee);const J=Math.cos(re)*x+c,Ee=Math.sin(re)*x+u;e.lineTo(J,Ee)}e.closePath()}function Lne(e,t,n,r,i){const{fullCircles:s,startAngle:c,circumference:u}=t;let h=t.endAngle;if(s){rE(e,t,n,r,h,i);for(let p=0;p<s;++p)e.fill();isNaN(u)||(h=c+(u%sr||sr))}return rE(e,t,n,r,h,i),e.fill(),h}function jne(e,t,n,r,i){const{fullCircles:s,startAngle:c,circumference:u,options:h}=t,{borderWidth:p,borderJoinStyle:g,borderDash:x,borderDashOffset:b,borderRadius:_}=h,S=h.borderAlign==="inner";if(!p)return;e.setLineDash(x||[]),e.lineDashOffset=b,S?(e.lineWidth=p*2,e.lineJoin=g||"round"):(e.lineWidth=p,e.lineJoin=g||"bevel");let E=t.endAngle;if(s){rE(e,t,n,r,E,i);for(let T=0;T<s;++T)e.stroke();isNaN(u)||(E=c+(u%sr||sr))}S&&One(e,t,E),h.selfJoin&&E-c>=dn&&_===0&&g!=="miter"&&Ine(e,t,E),s||(rE(e,t,n,r,E,i),e.stroke())}class Ox extends Qc{constructor(n){super();tt(this,"circumference");tt(this,"endAngle");tt(this,"fullCircles");tt(this,"innerRadius");tt(this,"outerRadius");tt(this,"pixelMargin");tt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:c,distance:u}=kL(s,{x:n,y:r}),{startAngle:h,endAngle:p,innerRadius:g,outerRadius:x,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),_=(this.options.spacing+this.options.borderWidth)/2,S=Pt(b,p-h),E=Py(c,h,p)&&h!==p,T=S>=sr||E,k=ff(u,g+_,x+_);return T&&k}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:c,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:p,spacing:g}=this.options,x=(s+c)/2,b=(u+h+g+p)/2;return{x:r+Math.cos(x)*b,y:i+Math.sin(x)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,c=(r.spacing||0)/2,u=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>sr?Math.floor(i/sr):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*s,Math.sin(h)*s);const p=1-Math.sin(Math.min(dn,i||0)),g=s*p;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,Lne(n,this,g,c,u),jne(n,this,g,c,u),n.restore()}}tt(Ox,"id","arc"),tt(Ox,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),tt(Ox,"defaultRoutes",{backgroundColor:"backgroundColor"}),tt(Ox,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function ZL(e,t,n=t){e.lineCap=Pt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Pt(n.borderDash,t.borderDash)),e.lineDashOffset=Pt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Pt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Pt(n.borderWidth,t.borderWidth),e.strokeStyle=Pt(n.borderColor,t.borderColor)}function Pne(e,t,n){e.lineTo(n.x,n.y)}function Bne(e){return e.stepped?mee:e.tension||e.cubicInterpolationMode==="monotone"?gee:Pne}function ej(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:c,end:u}=t,h=Math.max(i,c),p=Math.min(s,u),g=i<c&&s<c||i>u&&s>u;return{count:r,start:h,loop:t.loop,ilen:p<h&&!g?r+p-h:p-h}}function Une(e,t,n,r){const{points:i,options:s}=t,{count:c,start:u,loop:h,ilen:p}=ej(i,n,r),g=Bne(s);let{move:x=!0,reverse:b}=r||{},_,S,E;for(_=0;_<=p;++_)S=i[(u+(b?p-_:_))%c],!S.skip&&(x?(e.moveTo(S.x,S.y),x=!1):g(e,E,S,b,s.stepped),E=S);return h&&(S=i[(u+(b?p:0))%c],g(e,E,S,b,s.stepped)),!!h}function zne(e,t,n,r){const i=t.points,{count:s,start:c,ilen:u}=ej(i,n,r),{move:h=!0,reverse:p}=r||{};let g=0,x=0,b,_,S,E,T,k;const R=O=>(c+(p?u-O:O))%s,A=()=>{E!==T&&(e.lineTo(g,T),e.lineTo(g,E),e.lineTo(g,k))};for(h&&(_=i[R(0)],e.moveTo(_.x,_.y)),b=0;b<=u;++b){if(_=i[R(b)],_.skip)continue;const O=_.x,I=_.y,M=O|0;M===S?(I<E?E=I:I>T&&(T=I),g=(x*g+O)/++x):(A(),e.lineTo(O,I),S=M,x=0,E=T=I),k=I}A()}function _2(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?zne:Une}function Vne(e){return e.stepped?Kee:e.tension||e.cubicInterpolationMode==="monotone"?Yee:gd}function Hne(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),ZL(e,t.options),e.stroke(i)}function qne(e,t,n,r){const{segments:i,options:s}=t,c=_2(t);for(const u of i)ZL(e,s,u.style),e.beginPath(),c(e,t,u,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const Gne=typeof Path2D=="function";function Wne(e,t,n,r){Gne&&!t.options.segment?Hne(e,t,n,r):qne(e,t,n,r)}class Fx extends Qc{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;Uee(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=rte(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,c=ete(this,{property:n,start:i,end:i});if(!c.length)return;const u=[],h=Vne(r);let p,g;for(p=0,g=c.length;p<g;++p){const{start:x,end:b}=c[p],_=s[x],S=s[b];if(_===S){u.push(_);continue}const E=Math.abs((i-_[n])/(S[n]-_[n])),T=h(_,S,E,r.stepped);T[n]=t[n],u.push(T)}return u.length===1?u[0]:u}pathSegment(t,n,r){return _2(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=_2(this);let c=this._loop;n=n||0,r=r||this.points.length-n;for(const u of i)c&=s(t,this,u,{start:n,end:n+r-1});return!!c}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),Wne(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}tt(Fx,"id","line"),tt(Fx,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),tt(Fx,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),tt(Fx,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function iD(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class i_ extends Qc{constructor(n){super();tt(this,"parsed");tt(this,"skip");tt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:c,y:u}=this.getProps(["x","y"],i);return Math.pow(n-c,2)+Math.pow(r-u,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return iD(this,n,"x",r)}inYRange(n,r){return iD(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!By(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,x2(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}tt(i_,"id","point"),tt(i_,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),tt(i_,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function tj(e,t){const{x:n,y:r,base:i,width:s,height:c}=e.getProps(["x","y","base","width","height"],t);let u,h,p,g,x;return e.horizontal?(x=c/2,u=Math.min(n,i),h=Math.max(n,i),p=r-x,g=r+x):(x=s/2,u=n-x,h=n+x,p=Math.min(r,i),g=Math.max(r,i)),{left:u,top:p,right:h,bottom:g}}function df(e,t,n,r){return e?0:Fa(t,n,r)}function Xne(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=OL(r);return{t:df(i.top,s.top,0,n),r:df(i.right,s.right,0,t),b:df(i.bottom,s.bottom,0,n),l:df(i.left,s.left,0,t)}}function Kne(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=mm(i),c=Math.min(t,n),u=e.borderSkipped,h=r||Ht(i);return{topLeft:df(!h||u.top||u.left,s.topLeft,0,c),topRight:df(!h||u.top||u.right,s.topRight,0,c),bottomLeft:df(!h||u.bottom||u.left,s.bottomLeft,0,c),bottomRight:df(!h||u.bottom||u.right,s.bottomRight,0,c)}}function Yne(e){const t=tj(e),n=t.right-t.left,r=t.bottom-t.top,i=Xne(e,n/2,r/2),s=Kne(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function wT(e,t,n,r){const i=t===null,s=n===null,u=e&&!(i&&s)&&tj(e,r);return u&&(i||ff(t,u.left,u.right))&&(s||ff(n,u.top,u.bottom))}function $ne(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Qne(e,t){e.rect(t.x,t.y,t.w,t.h)}function _T(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,c=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+c,radius:e.radius}}class a_ extends Qc{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:c}=Yne(this),u=$ne(c.radius)?eE:Qne;t.save(),(c.w!==s.w||c.h!==s.h)&&(t.beginPath(),u(t,_T(c,n,s)),t.clip(),u(t,_T(s,-n,c)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),u(t,_T(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return wT(this,t,n,r)}inXRange(t,n){return wT(this,t,null,n)}inYRange(t,n){return wT(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}tt(a_,"id","bar"),tt(a_,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),tt(a_,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const aD=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},Jne=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class sD extends Qc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=In(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=zi(r.font),s=i.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=aD(r,s);let p,g;n.font=i.string,this.isHorizontal()?(p=this.maxWidth,g=this._fitRows(c,s,u,h)+10):(g=this.maxHeight,p=this._fitCols(c,i,u,h)+10),this.width=Math.min(p,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],g=i+u;let x=t;s.textAlign="left",s.textBaseline="middle";let b=-1,_=-g;return this.legendItems.forEach((S,E)=>{const T=r+n/2+s.measureText(S.text).width;(E===0||p[p.length-1]+T+2*u>c)&&(x+=g,p[p.length-(E>0?0:1)]=0,_+=g,b++),h[E]={left:0,top:_,row:b,width:T,height:i},p[p.length-1]+=T+u}),x}_fitCols(t,n,r,i){const{ctx:s,maxHeight:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],g=c-t;let x=u,b=0,_=0,S=0,E=0;return this.legendItems.forEach((T,k)=>{const{itemWidth:R,itemHeight:A}=Zne(r,n,s,T,i);k>0&&_+A+2*u>g&&(x+=b+u,p.push({width:b,height:_}),S+=b+u,E++,b=_=0),h[k]={left:S,top:_,col:E,width:R,height:A},b=Math.max(b,R),_+=A+u}),x+=b,p.push({width:b,height:_}),x}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,c=gm(s,this.left,this.width);if(this.isHorizontal()){let u=0,h=Oi(r,this.left+i,this.right-this.lineWidths[u]);for(const p of n)u!==p.row&&(u=p.row,h=Oi(r,this.left+i,this.right-this.lineWidths[u])),p.top+=this.top+t+i,p.left=c.leftForLtr(c.x(h),p.width),h+=p.width+i}else{let u=0,h=Oi(r,this.top+t+i,this.bottom-this.columnSizes[u].height);for(const p of n)p.col!==u&&(u=p.col,h=Oi(r,this.top+t+i,this.bottom-this.columnSizes[u].height)),p.top=h,p.left+=this.left+i,p.left=c.leftForLtr(c.x(p.left),p.width),h+=p.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Wk(t,this),this._draw(),Xk(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:c}=t,u=pr.color,h=gm(t.rtl,this.left,this.width),p=zi(c.font),{padding:g}=c,x=p.size,b=x/2;let _;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=p.string;const{boxWidth:S,boxHeight:E,itemHeight:T}=aD(c,x),k=function(M,C,z){if(isNaN(S)||S<=0||isNaN(E)||E<0)return;i.save();const B=Pt(z.lineWidth,1);if(i.fillStyle=Pt(z.fillStyle,u),i.lineCap=Pt(z.lineCap,"butt"),i.lineDashOffset=Pt(z.lineDashOffset,0),i.lineJoin=Pt(z.lineJoin,"miter"),i.lineWidth=B,i.strokeStyle=Pt(z.strokeStyle,u),i.setLineDash(Pt(z.lineDash,[])),c.usePointStyle){const re={radius:E*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:B},te=h.xPlus(M,S/2),Z=C+b;IL(i,re,te,Z,c.pointStyleWidth&&S)}else{const re=C+Math.max((x-E)/2,0),te=h.leftForLtr(M,S),Z=mm(z.borderRadius);i.beginPath(),Object.values(Z).some(xe=>xe!==0)?eE(i,{x:te,y:re,w:S,h:E,radius:Z}):i.rect(te,re,S,E),i.fill(),B!==0&&i.stroke()}i.restore()},R=function(M,C,z){Uy(i,z.text,M,C+T/2,p,{strikethrough:z.hidden,textAlign:h.textAlign(z.textAlign)})},A=this.isHorizontal(),O=this._computeTitleHeight();A?_={x:Oi(s,this.left+g,this.right-r[0]),y:this.top+g+O,line:0}:_={x:this.left+g,y:Oi(s,this.top+O+g,this.bottom-n[0].height),line:0},BL(this.ctx,t.textDirection);const I=T+g;this.legendItems.forEach((M,C)=>{i.strokeStyle=M.fontColor,i.fillStyle=M.fontColor;const z=i.measureText(M.text).width,B=h.textAlign(M.textAlign||(M.textAlign=c.textAlign)),re=S+b+z;let te=_.x,Z=_.y;h.setWidth(this.width),A?C>0&&te+re+g>this.right&&(Z=_.y+=I,_.line++,te=_.x=Oi(s,this.left+g,this.right-r[_.line])):C>0&&Z+I>this.bottom&&(te=_.x=te+n[_.line].width+g,_.line++,Z=_.y=Oi(s,this.top+O+g,this.bottom-n[_.line].height));const xe=h.x(te);if(k(xe,Z,M),te=iee(B,te+S+b,A?te+re:this.right,t.rtl),R(h.x(te),Z,M),A)_.x+=re+g;else if(typeof M.text!="string"){const De=p.lineHeight;_.y+=nj(M,De)+g}else _.y+=I}),UL(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=zi(n.font),i=$s(n.padding);if(!n.display)return;const s=gm(t.rtl,this.left,this.width),c=this.ctx,u=n.position,h=r.size/2,p=i.top+h;let g,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+p,x=Oi(t.align,x,this.right-b);else{const S=this.columnSizes.reduce((E,T)=>Math.max(E,T.height),0);g=p+Oi(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const _=Oi(u,x,x+b);c.textAlign=s.textAlign(Hk(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=r.string,Uy(c,n.text,_,g,r)}_computeTitleHeight(){const t=this.options.title,n=zi(t.font),r=$s(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(ff(t,this.left,this.right)&&ff(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],ff(t,i.left,i.left+i.width)&&ff(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!nre(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=Jne(i,r);i&&!s&&In(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&In(n.onHover,[t,r,this],this)}else r&&In(n.onClick,[t,r,this],this)}}function Zne(e,t,n,r,i){const s=ere(r,e,t,n),c=tre(i,r,t.lineHeight);return{itemWidth:s,itemHeight:c}}function ere(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,c)=>s.length>c.length?s:c)),t+n.size/2+r.measureText(i).width}function tre(e,t,n){let r=e;return typeof t.text!="string"&&(r=nj(t,n)),r}function nj(e,t){const n=e.text?e.text.length:0;return t*n}function nre(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var rre={id:"legend",_element:sD,start(e,t,n){const r=e.legend=new sD({ctx:e.ctx,options:n,chart:e});Ws.configure(e,r,n),Ws.addBox(e,r)},stop(e){Ws.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Ws.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:c,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(n?0:void 0),g=$s(p.borderWidth);return{text:t[h.index].label,fillStyle:p.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:p.borderColor,pointStyle:r||p.pointStyle,rotation:p.rotation,textAlign:i||p.textAlign,borderRadius:c&&(u||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class rj extends Qc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Xr(r.text)?r.text.length:1;this._padding=$s(r.padding);const s=i*zi(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:c}=this,u=c.align;let h=0,p,g,x;return this.isHorizontal()?(g=Oi(u,r,s),x=n+t,p=s-r):(c.position==="left"?(g=r+t,x=Oi(u,i,n),h=dn*-.5):(g=s-t,x=Oi(u,n,i),h=dn*.5),p=i-n),{titleX:g,titleY:x,maxWidth:p,rotation:h}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=zi(n.font),s=r.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:h,rotation:p}=this._drawArgs(s);Uy(t,n.text,0,0,r,{color:n.color,maxWidth:h,rotation:p,textAlign:Hk(n.align),textBaseline:"middle",translation:[c,u]})}}function ire(e,t){const n=new rj({ctx:e.ctx,options:t,chart:e});Ws.configure(e,n,t),Ws.addBox(e,n),e.titleBlock=n}var are={id:"title",_element:rj,start(e,t,n){ire(e,n)},stop(e){const t=e.titleBlock;Ws.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Ws.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mx={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const u=e[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();r.add(h.x),i+=h.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((u,h)=>u+h)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,c,u;for(s=0,c=e.length;s<c;++s){const h=e[s].element;if(h&&h.hasValue()){const p=h.getCenterPoint(),g=m2(t,p);g<i&&(i=g,u=h)}}if(u){const h=u.tooltipPosition();n=h.x,r=h.y}return{x:n,y:r}}};function Rl(e,t){return t&&(Xr(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Cc(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function sre(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:c,value:u}=s.getLabelAndValue(i);return{chart:e,label:c,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:u,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function oD(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:c,boxHeight:u}=t,h=zi(t.bodyFont),p=zi(t.titleFont),g=zi(t.footerFont),x=s.length,b=i.length,_=r.length,S=$s(t.padding);let E=S.height,T=0,k=r.reduce((O,I)=>O+I.before.length+I.lines.length+I.after.length,0);if(k+=e.beforeBody.length+e.afterBody.length,x&&(E+=x*p.lineHeight+(x-1)*t.titleSpacing+t.titleMarginBottom),k){const O=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;E+=_*O+(k-_)*h.lineHeight+(k-1)*t.bodySpacing}b&&(E+=t.footerMarginTop+b*g.lineHeight+(b-1)*t.footerSpacing);let R=0;const A=function(O){T=Math.max(T,n.measureText(O).width+R)};return n.save(),n.font=p.string,hn(e.title,A),n.font=h.string,hn(e.beforeBody.concat(e.afterBody),A),R=t.displayColors?c+2+t.boxPadding:0,hn(r,O=>{hn(O.before,A),hn(O.lines,A),hn(O.after,A)}),R=0,n.font=g.string,hn(e.footer,A),n.restore(),T+=S.width,{width:T,height:E}}function ore(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function lre(e,t,n,r){const{x:i,width:s}=r,c=n.caretSize+n.caretPadding;if(e==="left"&&i+s+c>t.width||e==="right"&&i-s-c<0)return!0}function cre(e,t,n,r){const{x:i,width:s}=n,{width:c,chartArea:{left:u,right:h}}=e;let p="center";return r==="center"?p=i<=(u+h)/2?"left":"right":i<=s/2?p="left":i>=c-s/2&&(p="right"),lre(p,e,t,n)&&(p="center"),p}function lD(e,t,n){const r=n.yAlign||t.yAlign||ore(e,n);return{xAlign:n.xAlign||t.xAlign||cre(e,t,n,r),yAlign:r}}function ure(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function fre(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function cD(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:c}=e,{xAlign:u,yAlign:h}=n,p=i+s,{topLeft:g,topRight:x,bottomLeft:b,bottomRight:_}=mm(c);let S=ure(t,u);const E=fre(t,h,p);return h==="center"?u==="left"?S+=p:u==="right"&&(S-=p):u==="left"?S-=Math.max(g,b)+i:u==="right"&&(S+=Math.max(x,_)+i),{x:Fa(S,0,r.width-t.width),y:Fa(E,0,r.height-t.height)}}function Vw(e,t,n){const r=$s(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function uD(e){return Rl([],Cc(e))}function hre(e,t,n){return o0(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function fD(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const ij={beforeTitle:kc,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:kc,beforeBody:kc,beforeLabel:kc,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Yn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:kc,afterBody:kc,beforeFooter:kc,footer:kc,afterFooter:kc};function Ra(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?ij[t].call(n,r):i}class E2 extends Qc{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new VL(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=hre(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=Ra(r,"beforeTitle",this,t),s=Ra(r,"title",this,t),c=Ra(r,"afterTitle",this,t);let u=[];return u=Rl(u,Cc(i)),u=Rl(u,Cc(s)),u=Rl(u,Cc(c)),u}getBeforeBody(t,n){return uD(Ra(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return hn(t,s=>{const c={before:[],lines:[],after:[]},u=fD(r,s);Rl(c.before,Cc(Ra(u,"beforeLabel",this,s))),Rl(c.lines,Ra(u,"label",this,s)),Rl(c.after,Cc(Ra(u,"afterLabel",this,s))),i.push(c)}),i}getAfterBody(t,n){return uD(Ra(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=Ra(r,"beforeFooter",this,t),s=Ra(r,"footer",this,t),c=Ra(r,"afterFooter",this,t);let u=[];return u=Rl(u,Cc(i)),u=Rl(u,Cc(s)),u=Rl(u,Cc(c)),u}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],c=[];let u=[],h,p;for(h=0,p=n.length;h<p;++h)u.push(sre(this.chart,n[h]));return t.filter&&(u=u.filter((g,x,b)=>t.filter(g,x,b,r))),t.itemSort&&(u=u.sort((g,x)=>t.itemSort(g,x,r))),hn(u,g=>{const x=fD(t.callbacks,g);i.push(Ra(x,"labelColor",this,g)),s.push(Ra(x,"labelPointStyle",this,g)),c.push(Ra(x,"labelTextColor",this,g))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=c,this.dataPoints=u,u}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,c=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const u=Mx[r.position].call(this,i,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const h=this._size=oD(this,r),p=Object.assign({},u,h),g=lD(this.chart,r,p),x=cD(r,p,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,s={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:c,cornerRadius:u}=r,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:x}=mm(u),{x:b,y:_}=t,{width:S,height:E}=n;let T,k,R,A,O,I;return s==="center"?(O=_+E/2,i==="left"?(T=b,k=T-c,A=O+c,I=O-c):(T=b+S,k=T+c,A=O-c,I=O+c),R=T):(i==="left"?k=b+Math.max(h,g)+c:i==="right"?k=b+S-Math.max(p,x)-c:k=this.caretX,s==="top"?(A=_,O=A-c,T=k-c,R=k+c):(A=_+E,O=A+c,T=k+c,R=k-c),I=A),{x1:T,x2:k,x3:R,y1:A,y2:O,y3:I}}drawTitle(t,n,r){const i=this.title,s=i.length;let c,u,h;if(s){const p=gm(r.rtl,this.x,this.width);for(t.x=Vw(this,r.titleAlign,r),n.textAlign=p.textAlign(r.titleAlign),n.textBaseline="middle",c=zi(r.titleFont),u=r.titleSpacing,n.fillStyle=r.titleColor,n.font=c.string,h=0;h<s;++h)n.fillText(i[h],p.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+u,h+1===s&&(t.y+=r.titleMarginBottom-u)}}_drawColorBox(t,n,r,i,s){const c=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:h,boxWidth:p}=s,g=zi(s.bodyFont),x=Vw(this,"left",s),b=i.x(x),_=h<g.lineHeight?(g.lineHeight-h)/2:0,S=n.y+_;if(s.usePointStyle){const E={radius:Math.min(p,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},T=i.leftForLtr(b,p)+p/2,k=S+h/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,x2(t,E,T,k),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,x2(t,E,T,k)}else{t.lineWidth=Ht(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const E=i.leftForLtr(b,p),T=i.leftForLtr(i.xPlus(b,1),p-2),k=mm(c.borderRadius);Object.values(k).some(R=>R!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,eE(t,{x:E,y:S,w:p,h,radius:k}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),eE(t,{x:T,y:S+1,w:p-2,h:h-2,radius:k}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(E,S,p,h),t.strokeRect(E,S,p,h),t.fillStyle=c.backgroundColor,t.fillRect(T,S+1,p-2,h-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:c,displayColors:u,boxHeight:h,boxWidth:p,boxPadding:g}=r,x=zi(r.bodyFont);let b=x.lineHeight,_=0;const S=gm(r.rtl,this.x,this.width),E=function(z){n.fillText(z,S.x(t.x+_),t.y+b/2),t.y+=b+s},T=S.textAlign(c);let k,R,A,O,I,M,C;for(n.textAlign=c,n.textBaseline="middle",n.font=x.string,t.x=Vw(this,T,r),n.fillStyle=r.bodyColor,hn(this.beforeBody,E),_=u&&T!=="right"?c==="center"?p/2+g:p+2+g:0,O=0,M=i.length;O<M;++O){for(k=i[O],R=this.labelTextColors[O],n.fillStyle=R,hn(k.before,E),A=k.lines,u&&A.length&&(this._drawColorBox(n,t,O,S,r),b=Math.max(x.lineHeight,h)),I=0,C=A.length;I<C;++I)E(A[I]),b=x.lineHeight;hn(k.after,E)}_=0,b=x.lineHeight,hn(this.afterBody,E),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let c,u;if(s){const h=gm(r.rtl,this.x,this.width);for(t.x=Vw(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=h.textAlign(r.footerAlign),n.textBaseline="middle",c=zi(r.footerFont),n.fillStyle=r.footerColor,n.font=c.string,u=0;u<s;++u)n.fillText(i[u],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:c}=this,{x:u,y:h}=t,{width:p,height:g}=r,{topLeft:x,topRight:b,bottomLeft:_,bottomRight:S}=mm(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(u+x,h),c==="top"&&this.drawCaret(t,n,r,i),n.lineTo(u+p-b,h),n.quadraticCurveTo(u+p,h,u+p,h+b),c==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(u+p,h+g-S),n.quadraticCurveTo(u+p,h+g,u+p-S,h+g),c==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(u+_,h+g),n.quadraticCurveTo(u,h+g,u,h+g-_),c==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(u,h+x),n.quadraticCurveTo(u,h,u+x,h),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const c=Mx[t.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=oD(this,t),h=Object.assign({},c,this._size),p=lD(n,t,h),g=cD(t,h,p,n);(i._to!==g.x||s._to!==g.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=$s(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),BL(t,n.textDirection),s.y+=c.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),UL(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:u,index:h})=>{const p=this.chart.getDatasetMeta(u);if(!p)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:p.data[h],index:h}}),s=!Y_(r,i),c=this._positionChanged(i,n);(s||c)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],c=this._getActiveElements(t,s,n,r),u=this._positionChanged(c,t),h=n||!Y_(c,s)||u;return h&&(this._active=c,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&c.reverse(),c}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,c=Mx[s.position].call(this,t,n);return c!==!1&&(r!==c.x||i!==c.y)}}tt(E2,"positioners",Mx);var dre={id:"tooltip",_element:E2,positioners:Mx,afterInit(e,t,n){n&&(e.tooltip=new E2({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ij},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const pre=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function mre(e,t,n,r){const i=e.indexOf(t);if(i===-1)return pre(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const gre=(e,t)=>e===null?null:Fa(Math.round(e),0,t);function hD(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class S2 extends rg{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Yn(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:mre(r,t,Pt(n,t),this._addedLabels),gre(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=t;c<=n;c++)i.push({value:c});return i}getLabelForValue(t){return hD.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}tt(S2,"id","category"),tt(S2,"defaults",{ticks:{callback:hD}});function vre(e,t){const n=[],{bounds:i,step:s,min:c,max:u,precision:h,count:p,maxTicks:g,maxDigits:x,includeBounds:b}=e,_=s||1,S=g-1,{min:E,max:T}=t,k=!Yn(c),R=!Yn(u),A=!Yn(p),O=(T-E)/(x+1);let I=vR((T-E)/S/_)*_,M,C,z,B;if(I<1e-14&&!k&&!R)return[{value:E},{value:T}];B=Math.ceil(T/I)-Math.floor(E/I),B>S&&(I=vR(B*I/S/_)*_),Yn(h)||(M=Math.pow(10,h),I=Math.ceil(I*M)/M),i==="ticks"?(C=Math.floor(E/I)*I,z=Math.ceil(T/I)*I):(C=E,z=T),k&&R&&s&&KZ((u-c)/s,I/1e3)?(B=Math.round(Math.min((u-c)/I,g)),I=(u-c)/B,C=c,z=u):A?(C=k?c:C,z=R?u:z,B=p-1,I=(z-C)/B):(B=(z-C)/I,Jx(B,Math.round(B),I/1e3)?B=Math.round(B):B=Math.ceil(B));const re=Math.max(xR(I),xR(C));M=Math.pow(10,Yn(h)?re:h),C=Math.round(C*M)/M,z=Math.round(z*M)/M;let te=0;for(k&&(b&&C!==c?(n.push({value:c}),C<c&&te++,Jx(Math.round((C+te*I)*M)/M,c,dD(c,O,e))&&te++):C<c&&te++);te<B;++te){const Z=Math.round((C+te*I)*M)/M;if(R&&Z>u)break;n.push({value:Z})}return R&&b&&z!==u?n.length&&Jx(n[n.length-1].value,u,dD(u,O,e))?n[n.length-1].value=u:n.push({value:u}):(!R||z===u)&&n.push({value:z}),n}function dD(e,t,{horizontal:n,minRotation:r}){const i=Fc(r),s=(n?Math.sin(i):Math.cos(i))||.001,c=.75*t*(""+e).length;return Math.min(t/s,c)}class xre extends rg{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Yn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const c=h=>i=n?i:h,u=h=>s=r?s:h;if(t){const h=Bm(i),p=Bm(s);h<0&&p<0?u(0):h>0&&p>0&&c(0)}if(i===s){let h=s===0?1:Math.abs(s*.05);u(s+h),t||c(i-h)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,c=vre(i,s);return t.bounds==="ticks"&&YZ(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Gk(t,this.chart.options.locale,this.options.ticks.format)}}class T2 extends xre{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ys(t)?t:0,this.max=Ys(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=Fc(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}tt(T2,"id","linear"),tt(T2,"defaults",{ticks:{callback:DL.formatters.numeric}});const aS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ia=Object.keys(aS);function pD(e,t){return e-t}function mD(e,t){if(Yn(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let c=t;return typeof r=="function"&&(c=r(c)),Ys(c)||(c=typeof r=="string"?n.parse(c,r):n.parse(c)),c===null?null:(i&&(c=i==="week"&&(Z_(s)||s===!0)?n.startOf(c,"isoWeek",s):n.startOf(c,i)),+c)}function gD(e,t,n,r){const i=Ia.length;for(let s=Ia.indexOf(e);s<i-1;++s){const c=aS[Ia[s]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-t)/(u*c.size))<=r)return Ia[s]}return Ia[i-1]}function yre(e,t,n,r,i){for(let s=Ia.length-1;s>=Ia.indexOf(n);s--){const c=Ia[s];if(aS[c].common&&e._adapter.diff(i,r,c)>=t-1)return c}return Ia[n?Ia.indexOf(n):0]}function bre(e){for(let t=Ia.indexOf(e)+1,n=Ia.length;t<n;++t)if(aS[Ia[t]].common)return Ia[t]}function vD(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Vk(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function wre(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),c=t[t.length-1].value;let u,h;for(u=s;u<=c;u=+i.add(u,1,r))h=n[u],h>=0&&(t[h].major=!0);return t}function xD(e,t,n){const r=[],i={},s=t.length;let c,u;for(c=0;c<s;++c)u=t[c],i[u]=c,r.push({value:u,major:!1});return s===0||!n?r:wre(e,r,i,n)}class iE extends rg{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new Ete._date(t.adapters.date);i.init(n),Qx(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:mD(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:c,maxDefined:u}=this.getUserBounds();function h(p){!c&&!isNaN(p.min)&&(i=Math.min(i,p.min)),!u&&!isNaN(p.max)&&(s=Math.max(s,p.max))}(!c||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=Ys(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Ys(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,c=this.max,u=eee(i,s,c);return this._unit=n.unit||(r.autoSkip?gD(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):yre(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:bre(this._unit),this.initOffsets(i),t.reverse&&u.reverse(),xD(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;n=Fa(n,0,c),r=Fa(r,0,c),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,c=s.unit||gD(s.minUnit,n,r,this._getLabelCapacity(n)),u=Pt(i.ticks.stepSize,1),h=c==="week"?s.isoWeekday:!1,p=Z_(h)||h===!0,g={};let x=n,b,_;if(p&&(x=+t.startOf(x,"isoWeek",h)),x=+t.startOf(x,p?"day":c),t.diff(r,n,c)>1e5*u)throw new Error(n+" and "+r+" are too far apart with stepSize of "+u+" "+c);const S=i.ticks.source==="data"&&this.getDataTimestamps();for(b=x,_=0;b<r;b=+t.add(b,u,c),_++)vD(g,b,S);return(b===r||i.bounds==="ticks"||_===1)&&vD(g,b,S),Object.keys(g).sort(pD).map(E=>+E)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,c=n||i[s];return this._adapter.format(t,c)}_tickFormatFunction(t,n,r,i){const s=this.options,c=s.ticks.callback;if(c)return In(c,[t,n,r],this);const u=s.time.displayFormats,h=this._unit,p=this._majorUnit,g=h&&u[h],x=p&&u[p],b=r[n],_=p&&x&&b&&b.major;return this._adapter.format(t,i||(_?x:g))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=Fc(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),c=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:r*s+u*c,h:r*c+u*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,xD(this,[t],this._majorUnit),i),c=this._getLabelSize(s),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(mD(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return nee(t.sort(pD))}}tt(iE,"id","time"),tt(iE,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Hw(e,t,n){let r=0,i=e.length-1,s,c,u,h;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=g2(e,"pos",t)),{pos:s,time:u}=e[r],{pos:c,time:h}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=g2(e,"time",t)),{time:s,pos:u}=e[r],{time:c,pos:h}=e[i]);const p=c-s;return p?u+(h-u)*(t-s)/p:u}class yD extends iE{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Hw(n,this.min),this._tableRange=Hw(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let c,u,h,p,g;for(c=0,u=t.length;c<u;++c)p=t[c],p>=n&&p<=r&&i.push(p);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(c=0,u=i.length;c<u;++c)g=i[c+1],h=i[c-1],p=i[c],Math.round((g+h)/2)!==p&&s.push({time:p,pos:c/(u-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Hw(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Hw(this._table,r*this._tableRange+this._minPos,!0)}}tt(yD,"id","timeseries"),tt(yD,"defaults",iE.defaults);const aj="label";function bD(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function _re(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function sj(e,t){e.labels=t}function oj(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:aj;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(c=>c[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Ere(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aj;const n={labels:[],datasets:[]};return sj(n,e.labels),oj(n,e.datasets,t),n}function Sre(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:c,data:u,options:h,plugins:p=[],fallbackContent:g,updateMode:x,...b}=e,_=G.useRef(null),S=G.useRef(null),E=()=>{_.current&&(S.current=new iS(_.current,{type:c,data:Ere(u,s),options:h&&{...h},plugins:p}),bD(t,S.current))},T=()=>{bD(t,null),S.current&&(S.current.destroy(),S.current=null)};return G.useEffect(()=>{!i&&S.current&&h&&_re(S.current,h)},[i,h]),G.useEffect(()=>{!i&&S.current&&sj(S.current.config.data,u.labels)},[i,u.labels]),G.useEffect(()=>{!i&&S.current&&u.datasets&&oj(S.current.config.data,u.datasets,s)},[i,u.datasets]),G.useEffect(()=>{S.current&&(i?(T(),setTimeout(E)):S.current.update(x))},[i,h,u.labels,u.datasets,x]),G.useEffect(()=>{S.current&&(T(),setTimeout(E))},[c]),G.useEffect(()=>(E(),()=>T()),[]),k2.createElement("canvas",{ref:_,role:"img",height:n,width:r,...b},g)}const Tre=G.forwardRef(Sre);function Are(e,t){return iS.register(t),G.forwardRef((n,r)=>k2.createElement(Tre,{...n,ref:r,type:e}))}const kre=Are("pie",y2);iS.register(S2,T2,a_,Fx,i_,Ox,are,dre,rre);const Nre=()=>{const[e,t]=G.useState(null),[n,r]=G.useState(!0),[i,s]=G.useState(new Date().toISOString().slice(0,7));if(G.useEffect(()=>{(async()=>{r(!0);try{const h=await D9(i);t(h)}catch(h){console.error("Error fetching report data:",h)}r(!1)})()},[i]),n||!e)return y.jsx("p",{children:"Loading reports..."});const c={labels:Object.keys(e.borrowingByType),datasets:[{label:"",data:Object.values(e.borrowingByType),backgroundColor:["#4f46e5","#7c3aed","#0ea5e9","#f59e0b","#10b981","#ef4444"]}]};return y.jsx("div",{className:"tab-content",children:y.jsxs("div",{className:"card rounded-2xl p-6 text-slate-900 mb-6",children:[y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:""}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"month",value:i,onChange:u=>s(u.target.value),className:"px-3 py-2 text-sm rounded-lg border border-slate-200"}),y.jsx("button",{className:"px-4 py-2 text-sm rounded-lg bg-slate-200 text-slate-800 hover:bg-slate-300",children:"Export"})]})]}),y.jsxs("div",{className:"mt-4 grid sm:grid-cols-2 lg:grid-cols-4 gap-4 grid-mobile-1",children:[y.jsxs("div",{className:"rounded-xl p-4 bg-indigo-100 text-indigo-800",children:[y.jsx("div",{className:"text-sm",children:" ()"}),y.jsx("div",{className:"text-3xl font-bold mt-1",children:e.totalBorrows})]}),y.jsxs("div",{className:"rounded-xl p-4 bg-amber-100 text-amber-800",children:[y.jsx("div",{className:"text-sm",children:" ()"}),y.jsx("div",{className:"text-3xl font-bold mt-1",children:e.totalRepairs})]}),y.jsxs("div",{className:"rounded-xl p-4 bg-red-100 text-red-800",children:[y.jsx("div",{className:"text-sm",children:" ()"}),y.jsxs("div",{className:"text-3xl font-bold mt-1",children:[e.totalRepairCost.toLocaleString(),".-"]})]})]}),y.jsx("div",{className:"mt-8 grid md:grid-cols-2 gap-6 grid-mobile-1",children:y.jsxs("div",{className:"chart-container",children:[y.jsx("h5",{className:"font-semibold mb-2 text-slate-800 text-center",children:""}),Object.keys(e.borrowingByType).length>0?y.jsx(kre,{data:c}):y.jsx("p",{className:"text-center text-slate-500",children:""})]})})]})})},Cre=({onConfirm:e,onCancel:t})=>y.jsxs("div",{children:[y.jsx("p",{className:"mb-4",children:" ?"}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-slate-200 text-slate-800 hover:bg-slate-300 text-sm",children:""}),y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 text-sm",children:""})]})]}),wD=({user:e,users:t,onSuccess:n})=>{const{showModal:r,hideModal:i}=$r(),[s,c]=G.useState(e?e.name:""),[u,h]=G.useState(e?e.email:""),[p,g]=G.useState(""),[x,b]=G.useState(e?e.role:"user"),[_,S]=G.useState(""),[E,T]=G.useState(!1),k=async R=>{R.preventDefault(),T(!0),S("");try{if(e)await M_(e.id,{name:s,email:u,role:x}),alert("");else{const A=t.find(O=>O.email===u);if(A)if(A.status==="deleted"){r("",y.jsx(Cre,{onCancel:i,onConfirm:async()=>{try{await M_(A.id,{status:"active"}),alert(""),n(),i()}catch(O){S(O.message),alert(": "+O.message)}finally{T(!1)}}}));return}else{alert(""),T(!1);return}else await s3(u,p,s,{role:x}),alert("")}n()}catch(A){S(A.message),alert(": "+A.message)}finally{T(!1)}};return y.jsxs("form",{onSubmit:k,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"-"}),y.jsx("input",{type:"text",value:s,onChange:R=>c(R.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),y.jsx("input",{type:"email",value:u,onChange:R=>h(R.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0,disabled:!!e})]}),!e&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),y.jsx("input",{type:"password",value:p,onChange:R=>g(R.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),y.jsx("select",{value:x,onChange:R=>b(R.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:Object.entries(e_).map(([R,A])=>y.jsx("option",{value:R,children:A},R))})]}),_&&y.jsx("p",{className:"text-red-500 text-sm",children:_}),y.jsx("div",{className:"flex justify-end",children:y.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:E,children:E?"...":""})})]})},_D=({onConfirm:e,onCancel:t})=>{const[n,r]=G.useState(""),i=()=>{n.trim()?e(n):alert("")};return y.jsxs("div",{children:[y.jsx("p",{className:"mb-4",children:" ( deleted):"}),y.jsx("textarea",{value:n,onChange:s=>r(s.target.value),className:"w-full px-3 py-2 rounded-lg border border-slate-200 text-sm text-black",rows:3}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-slate-200 text-slate-800 hover:bg-slate-300 text-sm",children:""}),y.jsx("button",{onClick:i,className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 text-sm",children:""})]})]})},Rre=()=>{const{showModal:e,hideModal:t,user:n}=$r(),[r,i]=G.useState("users"),[s,c]=G.useState([]),[u,h]=G.useState([]),[p,g]=G.useState(!0),[x,b]=G.useState(""),[_,S]=G.useState(""),[E,T]=G.useState(""),[k,R]=G.useState([]),[A,O]=G.useState(""),[I,M]=G.useState(""),C=async()=>{g(!0);try{const[j,F]=await Promise.all([a3(),GE(I,n==null?void 0:n.isMainAccount,A)]);c(j),h(F)}catch(j){console.error("Error fetching admin data:",j)}g(!1)};G.useEffect(()=>{C()},[I,A]);const z=async(j,F)=>{if(window.confirm(` ${e_[F]} ?`))try{await M_(j,{role:F}),C(),alert("")}catch(V){console.error("Failed to update role:",V),alert("")}},B=j=>{e("",y.jsx(_D,{onCancel:t,onConfirm:async F=>{try{await YC(j,F),C(),t(),alert("")}catch(V){console.error("Failed to delete user:",V),alert("")}}}))},re=()=>{e("",y.jsx(_D,{onCancel:t,onConfirm:async j=>{try{await Promise.all(k.map(F=>YC(F,j))),C(),R([]),t(),alert("")}catch(F){console.error("Failed to delete selected users:",F),alert("")}}}))},te=async j=>{if(window.confirm("?"))try{await f9(j),C(),alert("")}catch(F){console.error("Failed to recover user:",F),alert("")}},Z=j=>{R(F=>F.includes(j)?F.filter(V=>V!==j):[...F,j])},xe=j=>{j.target.checked?R(J.map(F=>F.id)):R([])},De=()=>{e("",y.jsx(wD,{users:s,onSuccess:()=>{C(),t()}}))},ve=j=>{e("",y.jsx(wD,{user:j,users:s,onSuccess:()=>{C(),t()}}))},ee=j=>{e("",y.jsx(tS,{log:j},j.id))},J=s.filter(j=>{var H,W;const F=x.toLowerCase(),V=E===""?j.status!=="deleted"&&j.status!=="pending_approval":j.status===E;return(_===""||j.role===_)&&V&&(x===""||((H=j.name)==null?void 0:H.toLowerCase().includes(F))||((W=j.email)==null?void 0:W.toLowerCase().includes(F)))}),Ee=async()=>{const j=prompt(":");if(j){try{await o3(j)}catch{alert(" ");return}if(window.confirm(" (  Admin )? "))try{await Promise.all([I9(),O9(),l3(),F9(),deleteAllUsersExceptAdmin(n.uid)]),alert(" ( Admin)"),C()}catch(F){console.error("Error clearing all data:",F),alert("")}}},ne=()=>y.jsxs("div",{children:[y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.jsx("input",{value:x,onChange:j=>b(j.target.value),placeholder:"",className:"px-3 py-2 rounded-lg border border-[var(--border-color)] text-sm"}),y.jsxs("select",{value:_,onChange:j=>S(j.target.value),className:"px-3 py-2 rounded-lg border border-[var(--border-color)] text-sm",children:[y.jsx("option",{value:"",children:""}),Object.entries(e_).map(([j,F])=>y.jsx("option",{value:j,children:F},j))]}),y.jsxs("select",{value:E,onChange:j=>T(j.target.value),className:"px-3 py-2 rounded-lg border border-[var(--border-color)] text-sm",children:[y.jsx("option",{value:"",children:""}),y.jsx("option",{value:"active",children:""}),y.jsx("option",{value:"deleted",children:""})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:De,className:"px-4 py-2 rounded-lg bg-[var(--primary-color)] text-white hover:opacity-90 text-sm",children:""}),y.jsx("button",{onClick:re,disabled:k.length===0,className:"px-4 py-2 rounded-lg bg-[var(--danger-color)] text-white hover:opacity-80 text-sm disabled:opacity-50",children:""})]})]}),y.jsx("div",{className:"overflow-y-auto max-h-[60vh] pr-2 -mr-2",children:y.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[y.jsx("thead",{className:"text-xs text-gray-600 uppercase bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"p-4",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{id:"checkbox-all-search",type:"checkbox",onChange:xe,checked:k.length>0&&k.length===J.length,className:"w-4 h-4 text-[var(--primary-color)] bg-gray-100 border-[var(--border-color)] rounded focus:ring-[var(--primary-color)]"}),y.jsx("label",{htmlFor:"checkbox-all-search",className:"sr-only",children:"checkbox"})]})}),y.jsx("th",{scope:"col",className:"px-4 py-3",children:"-"}),y.jsx("th",{scope:"col",className:"px-4 py-3",children:""}),y.jsx("th",{scope:"col",className:"px-4 py-3",children:""}),y.jsx("th",{scope:"col",className:"px-4 py-3",children:""}),y.jsx("th",{scope:"col",className:"px-4 py-3",children:""})]})}),y.jsx("tbody",{children:J.map(j=>y.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[y.jsx("td",{className:"w-4 p-4",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{id:`checkbox-table-search-${j.id}`,type:"checkbox",onChange:()=>Z(j.id),checked:k.includes(j.id),className:"w-4 h-4 text-[var(--primary-color)] bg-gray-100 border-[var(--border-color)] rounded focus:ring-[var(--primary-color)]"}),y.jsx("label",{htmlFor:`checkbox-table-search-${j.id}`,className:"sr-only",children:"checkbox"})]})}),y.jsx("td",{className:"px-4 py-2 font-medium text-[var(--text-color-dark)]",children:j.name}),y.jsx("td",{className:"px-4 py-2",children:y.jsx("select",{value:j.role,onChange:F=>z(j.id,F.target.value),className:"p-1 rounded-md border-[var(--border-color)] text-xs",children:Object.entries(e_).map(([F,V])=>y.jsx("option",{value:F,children:V},F))})}),y.jsx("td",{className:"px-4 py-2",children:y.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j.status==="active"?"bg-green-100 text-green-800":j.status==="deleted"?"bg-gray-200 text-gray-600":""}`,children:j.status==="deleted"?"":j.status==="active"?"":""})}),y.jsx("td",{className:"px-4 py-2",children:j.email}),y.jsxs("td",{className:"px-4 py-2",children:[y.jsx("button",{onClick:()=>ve(j),className:"text-xs text-[var(--primary-color)] hover:underline",children:""}),j.status!=="deleted"?y.jsx("button",{onClick:()=>B(j.id),className:"text-xs text-[var(--danger-color)] hover:underline ml-2",children:""}):y.jsx("button",{onClick:()=>te(j.id),className:"text-xs text-[var(--success-color)] hover:underline ml-2",children:""})]})]},j.id))})]})})]}),Ie=()=>y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("label",{htmlFor:"history-date",className:"mr-2 text-sm font-medium text-gray-700",children:":"}),y.jsx("input",{type:"date",id:"history-date",value:I,onChange:j=>M(j.target.value),className:"px-3 py-2 rounded-lg border border-[var(--border-color)] text-sm"})]}),(n==null?void 0:n.role)==="admin"&&y.jsxs("div",{className:"flex items-center",children:[y.jsx("label",{htmlFor:"filter-admin",className:"mr-2 text-sm font-medium text-gray-700",children:":"}),y.jsxs("select",{id:"filter-admin",value:A,onChange:j=>O(j.target.value),className:"px-3 py-2 rounded-lg border border-slate-200 text-sm",children:[y.jsx("option",{value:"",children:""}),s.filter(j=>["admin","approver","technician"].includes(j.role)).map(j=>y.jsxs("option",{value:j.id,children:[j.name," (",j.role,")"]},j.id))]})]}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("button",{onClick:Ee,className:"px-4 py-2 rounded-lg bg-red-700 text-white hover:opacity-90 text-sm",children:" (  Admin)"})})]}),y.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:y.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[y.jsx("thead",{className:"text-xs text-gray-600 uppercase bg-gray-50 sticky top-0",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-4 py-3",children:""}),y.jsx("th",{scope:"col",className:"px-4 py-3",children:""}),y.jsx("th",{scope:"col",className:"px-4 py-3",children:""}),y.jsx("th",{scope:"col",className:"px-4 py-3",children:""})]})}),y.jsx("tbody",{children:u.map(j=>{var F;return y.jsxs("tr",{className:"bg-white border-b",children:[y.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:((F=j.timestamp)==null?void 0:F.toDate().toLocaleString())||"N/A"}),y.jsx("td",{className:"px-4 py-2 font-medium text-[var(--text-color-dark)]",children:j.adminName}),y.jsx("td",{className:"px-4 py-2",children:y.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:j.action})}),y.jsx("td",{className:"px-4 py-2",children:["CREATE_USER","DELETE_USER","UPDATE_USER","ADD_EQUIPMENT","DELETE_EQUIPMENT","BATCH_DELETE_EQUIPMENT","IMPORT_EQUIPMENT","BATCH_UPDATE_STATUS","CREATE_BORROW_REQUEST","APPROVE_BORROW","REJECT_BORROW","APPROVE_REPAIR","REJECT_REPAIR","APPROVE_AND_AUTO_ASSIGN_BORROW","PROCESS_RETURN","CONFIRM_DELIVERY","COMPLETE_REPAIR","CHANGE_EQUIPMENT_AND_DELIVER","POST_ASSESSMENT","CREATE_REPAIR_REQUEST_FROM_ASSESSMENT"].includes(j.action)&&y.jsx("button",{onClick:()=>ee(j),className:"font-medium text-[var(--primary-color)] hover:underline",children:""})})]},j.id)})})]})})]});return p?y.jsx("p",{children:"Loading admin data..."}):y.jsx("div",{className:"tab-content",children:y.jsxs("div",{className:"bg-white rounded-2xl p-6 text-[var(--text-color-dark)]",children:[y.jsxs("div",{className:"flex border-b mb-4",children:[(n==null?void 0:n.role)==="admin"&&y.jsx("button",{onClick:()=>i("users"),className:`px-4 py-2 font-semibold ${r==="users"?"bg-[var(--primary-color)] text-white rounded-t-lg":"text-gray-600 hover:bg-gray-100 rounded-t-lg"}`,children:""}),(n==null?void 0:n.role)==="admin"&&y.jsx("button",{onClick:()=>i("history"),className:`px-4 py-2 font-semibold ${r==="history"?"bg-[var(--primary-color)] text-white rounded-t-lg":"text-gray-600 hover:bg-gray-100 rounded-t-lg"}`,children:""}),(n==null?void 0:n.role)==="technician"&&y.jsx("button",{onClick:()=>i("repairHistory"),className:`px-4 py-2 font-semibold ${r==="repairHistory"?"bg-[var(--primary-color)] text-white rounded-t-lg":"text-gray-600 hover:bg-gray-100 rounded-t-lg"}`,children:""}),(n==null?void 0:n.role)==="approver"&&y.jsx("button",{onClick:()=>i("approvalHistory"),className:`px-4 py-2 font-semibold ${r==="approvalHistory"?"bg-[var(--primary-color)] text-white rounded-t-lg":"text-gray-600 hover:bg-gray-100 rounded-t-lg"}`,children:""}),(n==null?void 0:n.role)==="user"&&y.jsx("button",{onClick:()=>i("borrowHistory"),className:`px-4 py-2 font-semibold ${r==="borrowHistory"?"bg-[var(--primary-color)] text-white rounded-t-lg":"text-gray-600 hover:bg-gray-100 rounded-t-lg"}`,children:""})]}),r==="users"&&(n==null?void 0:n.role)==="admin"&&ne(),r==="history"&&(n==null?void 0:n.role)==="admin"&&Ie(),r==="repairHistory"&&(n==null?void 0:n.role)==="technician"&&y.jsx(RepairHistoryTab,{userId:n.uid}),r==="approvalHistory"&&(n==null?void 0:n.role)==="approver"&&y.jsx(ApprovalHistoryTab,{userId:n.uid}),r==="borrowHistory"&&(n==null?void 0:n.role)==="user"&&y.jsx(BorrowHistoryTab,{userId:n.uid})]})})},Dre=()=>{const{user:e,showToast:t}=$r(),[n,r]=G.useState({name:"",email:"",phoneNumber:"",department:"",agencyAddress:""}),[i,s]=G.useState(!0);G.useEffect(()=>{e&&i3(e.uid).then(h=>{h&&r({name:h.name||"",email:h.email||"",phoneNumber:h.phoneNumber||"",department:h.department||"",agencyAddress:h.agencyAddress||""}),s(!1)}).catch(h=>{console.error("Failed to fetch user profile:",h),s(!1)})},[e]);const c=h=>{const{name:p,value:g}=h.target;r(x=>({...x,[p]:g}))},u=async h=>{h.preventDefault(),s(!0);try{const{email:p,...g}=n;await M_(e.uid,g),t("Success","")}catch(p){t("Error",""),console.error(p)}finally{s(!1)}};return i?y.jsx("p",{children:"Loading profile..."}):y.jsx("div",{className:"tab-content",children:y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[y.jsx("h3",{className:"text-lg font-semibold text-[var(--text-color-dark)] mb-4",children:""}),y.jsxs("form",{onSubmit:u,className:"space-y-4 max-w-lg",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"-"}),y.jsx("input",{type:"text",name:"name",value:n.name,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),y.jsx("input",{type:"email",name:"email",value:n.email,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100",disabled:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),y.jsx("input",{type:"tel",name:"phoneNumber",value:n.phoneNumber,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),y.jsx("input",{type:"text",name:"department",value:n.department,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),y.jsx("input",{type:"text",name:"agencyAddress",value:n.agencyAddress,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"})]}),y.jsx("div",{className:"flex justify-end pt-4",children:y.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:i,children:i?"...":""})})]})]})})},Ire=()=>{const{showModal:e,hideModal:t}=$r(),[n,r]=G.useState([]),[i,s]=G.useState(!0),[c,u]=G.useState([]),[h,p]=G.useState(""),[g,x]=G.useState("");G.useEffect(()=>{b()},[]);const b=async()=>{s(!0);try{const[E,T]=await Promise.all([V9(),qE()]);r(E),u(T)}catch(E){console.error("Error fetching standard assessment history:",E)}s(!1)},_=E=>{e("",y.jsx(bL,{equipment:null,readOnlyData:E,onClose:t}))},S=n.filter(E=>{var A;const T=(A=E.assessedAt)==null?void 0:A.toDate();if(!T)return!1;const k=!h||T.getFullYear()+"-"+("0"+(T.getMonth()+1)).slice(-2)+"-"+("0"+T.getDate()).slice(-2)===h,R=!g||E.equipmentType===g;return k&&R});return i?y.jsx("p",{children:"Loading assessment history..."}):y.jsx("div",{className:"tab-content",children:y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-[var(--text-color-dark)]",children:""}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"date",value:h,onChange:E=>p(E.target.value),className:"px-3 py-2 rounded-lg border border-gray-300 text-sm"}),y.jsxs("select",{value:g,onChange:E=>x(E.target.value),className:"px-3 py-2 rounded-lg border border-gray-300 text-sm",children:[y.jsx("option",{value:"",children:""}),c.map(E=>y.jsx("option",{value:E,children:E},E))]})]})]}),y.jsx("div",{className:"space-y-3 max-h-[70vh] overflow-y-auto",children:S.length===0?y.jsx("p",{className:"text-gray-500",children:""}):S.map(E=>y.jsxs("div",{className:"p-3 rounded-lg border border-[var(--border-color)] flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-gray-800",children:E.equipmentName}),y.jsxs("p",{className:"text-sm text-gray-500",children:[": ",E.assessedAt&&typeof E.assessedAt.toDate=="function"?E.assessedAt.toDate().toLocaleString("th-TH"):"N/A"]})]}),y.jsx("button",{onClick:()=>_(E),className:"px-4 py-2 text-sm rounded-lg bg-gray-200 hover:bg-gray-300",children:""})]},E.id))})]})})},Ore=[{id:"profileTab",label:"",roles:["admin","user","technician","approver"]},{id:"equipmentTab",label:"",roles:["admin","user","technician","approver"]},{id:"borrowTab",label:"",roles:["user"]},{id:"borrowHistoryTab",label:"",roles:["user","admin"]},{id:"approvalTab",label:"",roles:["approver"]},{id:"techTab",label:"",roles:["technician"]},{id:"repairHistoryTab",label:"",roles:["technician","admin"]},{id:"approvalHistoryTab",label:"",roles:["approver","admin"]},{id:"assessmentTab",label:"",roles:["technician"]},{id:"standardAssessmentHistoryTab",label:"",roles:["technician","admin"]},{id:"reportTab",label:"",roles:["admin","approver","technician"]},{id:"adminTab",label:"",roles:["admin"]}],Fre=()=>{const{user:e}=$r(),[t,n]=G.useState("equipmentTab"),r=Ore.filter(s=>e&&s.roles.includes(e.role));G.useEffect(()=>{var s;r.some(c=>c.id===t)||n(((s=r[0])==null?void 0:s.id)||"equipmentTab")},[e==null?void 0:e.role,r,t]);const i=()=>{if(!e)return null;switch(t){case"profileTab":return y.jsx(Dre,{});case"equipmentTab":return y.jsx(oR,{});case"borrowTab":return y.jsx(rZ,{});case"borrowHistoryTab":return y.jsx(iZ,{userId:e.role==="admin"?null:e.uid});case"techTab":return y.jsx(cZ,{});case"repairHistoryTab":return y.jsx(uZ,{userId:e.role==="admin"?null:e.uid});case"approvalTab":return y.jsx(hZ,{});case"approvalHistoryTab":return y.jsx(dZ,{userId:e.role==="admin"?null:e.uid});case"assessmentTab":return y.jsx(pZ,{});case"standardAssessmentHistoryTab":return y.jsx(Ire,{});case"reportTab":return y.jsx(Nre,{});case"adminTab":return y.jsx(Rre,{});default:return y.jsx(oR,{})}};return e?y.jsxs("section",{id:"dashboard",className:"fade-in",children:[y.jsx("div",{className:"mt-4 overflow-x-auto hidden md:block",children:y.jsx("div",{id:"desktopTabs",className:"border-b border-[var(--border-color)]",children:y.jsx("div",{className:"inline-flex gap-4 -mb-px",children:r.map(s=>y.jsx("button",{onClick:()=>n(s.id),"data-tab":s.id,className:`py-3 px-4 rounded-t-lg ${t===s.id?"bg-[var(--primary-color)] text-white font-semibold":"text-white hover:bg-white/10"}`,children:s.label},s.id))})})}),y.jsx("div",{className:"mt-6",children:i()})]}):y.jsx("p",{children:"Loading user data..."})},Mre=()=>{const[e,t]=G.useState([]),[n,r]=G.useState([]),[i,s]=G.useState(!0),[c,u]=G.useState(""),[h,p]=G.useState(""),[g,x]=G.useState(""),b=async()=>{s(!0);try{const[_,S]=await Promise.all([yf({q:c,f:h,t:g}),qE()]);t(_),r(S)}catch(_){console.error("Error fetching equipment for showcase:",_)}s(!1)};return G.useEffect(()=>{b()},[c,h,g]),y.jsxs("section",{id:"equipmentShowcase",className:"fade-in",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("button",{id:"backFromEquip",className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20 transition",children:[y.jsx("span",{className:"text-lg",children:""}),""]}),y.jsx("h2",{className:"text-xl font-semibold",children:""}),y.jsx("div",{})]}),y.jsxs("div",{className:"card rounded-2xl p-6 text-slate-900",children:[y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{value:c,onChange:_=>u(_.target.value),placeholder:" Serial",className:"px-3 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-400"}),y.jsxs("select",{value:h,onChange:_=>p(_.target.value),className:"px-3 py-2 rounded-lg border border-slate-200",children:[y.jsx("option",{value:"",children:""}),y.jsx("option",{value:"available",children:""}),y.jsx("option",{value:"borrowed",children:""}),y.jsx("option",{value:"under_maintenance",children:""})]}),y.jsxs("select",{value:g,onChange:_=>x(_.target.value),className:"px-3 py-2 rounded-lg border border-slate-200",children:[y.jsx("option",{value:"",children:""}),n.map(_=>y.jsx("option",{value:_,children:_},_))]})]}),y.jsx("button",{id:"btnAddEquip",className:"hidden px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700",children:""})]}),y.jsx("div",{className:"mt-4 grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i?y.jsx("p",{children:"..."}):e.length===0?y.jsx("p",{children:""}):e.map(_=>y.jsxs("div",{className:"relative rounded-xl border p-4 bg-white border-slate-200 flex items-center gap-4 flex-row-reverse",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold",children:_.name}),y.jsxs("div",{className:"text-sm text-slate-500",children:["S/N: ",_.serial]}),y.jsx("div",{className:"text-xs text-slate-400 mt-1",children:_.type})]}),_.typeImageUrl&&y.jsx("img",{src:_.typeImageUrl,alt:_.name,className:"w-24 h-24 object-cover rounded-md"})]},_.id))})]})]})},lj=G.createContext(null),Lre=()=>{const[e,t]=G.useState(null),[n,r]=G.useState(!0),[i,s]=G.useState(!1),[c,u]=G.useState(null),[h,p]=G.useState(""),g=qy(),x=(E,T)=>{const k=document.getElementById("toast");k&&(k.textContent=T,k.classList.remove("hidden","bg-green-500","bg-red-500"),E==="Success"?k.classList.add("bg-green-500"):k.classList.add("bg-red-500"),setTimeout(()=>{k.classList.add("hidden")},3e3))},b=(E,T)=>{p(E),u(T),s(!0)},_=()=>{s(!1),p(""),u(null)};G.useEffect(()=>{console.log("Auth listener effect is running.");const E=Fo.onAuthStateChanged(async T=>{if(console.log("onAuthStateChanged callback fired."),T){console.log("User is signed in:",T.uid);let k=await i3(T.uid);if(k){const R=["admin","approver","technician"];if(k.status!=="active"&&R.includes(k.role)&&(console.log("Found staff account with inactive status. Activating now..."),await updateUser(T.uid,{status:"active"}),k.status="active"),k.status==="active"){console.log("User is active, navigating to dashboard.");const A=T.email==="admin@nrt.web.app";k.isMainAccount=A,t({uid:T.uid,...k}),g("/dashboard")}else k.status==="pending_approval"?(alert(""),Fo.signOut()):(alert(""),Fo.signOut())}else alert(" "),Fo.signOut()}else console.log("User is signed out."),t(null),g("/");r(!1),console.log("Finished auth state change, loading is false.")});return()=>E()},[]);const S=()=>{Fo.signOut()};return console.log(`State before render: loading=${n}, user=${JSON.stringify(e)}`),n?y.jsx("div",{className:"text-center p-12 text-white",children:"Loading Application..."}):y.jsx(lj.Provider,{value:{user:e,handleLogout:S,showModal:b,hideModal:_,showToast:x},children:y.jsxs("div",{className:"min-h-screen transition-all duration-300",children:[y.jsx(H9,{}),y.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:y.jsxs(h6,{children:[y.jsx(tm,{path:"/",element:y.jsx(K9,{})}),y.jsx(tm,{path:"/login",element:y.jsx($C,{})}),y.jsx(tm,{path:"/register",element:y.jsx(Y9,{})}),y.jsx(tm,{path:"/equipment",element:y.jsx(Mre,{})}),y.jsx(tm,{path:"/dashboard",element:e?y.jsx(Fre,{userRole:e.role}):y.jsx($C,{})})]})}),y.jsx(G9,{}),y.jsx(W9,{isOpen:i,title:h,onClose:_,children:c}),y.jsx(X9,{}),y.jsx(q9,{})]})})},$r=()=>G.useContext(lj),jre=_j.createRoot(document.getElementById("root"));jre.render(y.jsx(k2.StrictMode,{children:y.jsx(M6,{children:y.jsx(Lre,{})})}));
